"use strict";(self.webpackChunkInvIglesia=self.webpackChunkInvIglesia||[]).push([[179],{6217:(bt,ke,U)=>{U.d(ke,{nm:()=>Ri});var w=U(2122);U(4650),U(259);var Ue=U(5861),je=U(9681),qe=U(4859),at=U(2090),dt=U(1877);const oe=new Map,V={activated:!1,tokenObservers:[]},ue={initialized:!1,enabled:!1};function _e(ve){return oe.get(ve)||Object.assign({},V)}function De(){return ue}class ln{constructor(me,Ae,Xe,et,gt){if(this.operation=me,this.retryPolicy=Ae,this.getWaitDuration=Xe,this.lowerBound=et,this.upperBound=gt,this.pending=null,this.nextErrorWaitInterval=et,et>gt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(me){var Ae=this;return(0,Ue.Z)(function*(){Ae.stop();try{Ae.pending=new at.BH,yield function bn(ve){return new Promise(me=>{setTimeout(me,ve)})}(Ae.getNextRun(me)),Ae.pending.resolve(),yield Ae.pending.promise,Ae.pending=new at.BH,yield Ae.operation(),Ae.pending.resolve(),yield Ae.pending.promise,Ae.process(!0).catch(()=>{})}catch(Xe){Ae.retryPolicy(Xe)?Ae.process(!1).catch(()=>{}):Ae.stop()}})()}getNextRun(me){if(me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ae=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ae}}}const xt=new at.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Kt(ve){if(!_e(ve).activated)throw xt.create("use-before-activation",{appName:ve.name})}function hr(ve,me){return _r.apply(this,arguments)}function _r(){return(_r=(0,Ue.Z)(function*({url:ve,body:me},Ae){const Xe={"Content-Type":"application/json"},et=Ae.getImmediate({optional:!0});if(et){const Wr=yield et.getHeartbeatsHeader();Wr&&(Xe["X-Firebase-Client"]=Wr)}const gt={method:"POST",body:JSON.stringify(me),headers:Xe};let ht,tr;try{ht=yield fetch(ve,gt)}catch(Wr){throw xt.create("fetch-network-error",{originalErrorMessage:Wr?.message})}if(200!==ht.status)throw xt.create("fetch-status-error",{httpStatus:ht.status});try{tr=yield ht.json()}catch(Wr){throw xt.create("fetch-parse-error",{originalErrorMessage:Wr?.message})}const Ht=tr.ttl.match(/^([\d.]+)(s)$/);if(!Ht||!Ht[2]||isNaN(Number(Ht[1])))throw xt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${tr.ttl}`});const cs=1e3*Number(Ht[1]),$o=Date.now();return{token:tr.token,expireTimeMillis:$o+cs,issuedAtTimeMillis:$o}})).apply(this,arguments)}function Gn(ve,me){const{projectId:Ae,appId:Xe,apiKey:et}=ve.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Ae}/apps/${Xe}:exchangeDebugToken?key=${et}`,body:{debug_token:me}}}const yr="firebase-app-check-store";let Zn=null;function wi(){return Zn||(Zn=new Promise((ve,me)=>{try{const Ae=indexedDB.open("firebase-app-check-database",1);Ae.onsuccess=Xe=>{ve(Xe.target.result)},Ae.onerror=Xe=>{var et;me(xt.create("storage-open",{originalErrorMessage:null===(et=Xe.target.error)||void 0===et?void 0:et.message}))},Ae.onupgradeneeded=Xe=>{0===Xe.oldVersion&&Xe.target.result.createObjectStore(yr,{keyPath:"compositeKey"})}}catch(Ae){me(xt.create("storage-open",{originalErrorMessage:Ae?.message}))}}),Zn)}function Jt(){return(Jt=(0,Ue.Z)(function*(ve,me){const Xe=(yield wi()).transaction(yr,"readwrite"),gt=Xe.objectStore(yr).put({compositeKey:ve,value:me});return new Promise((ht,tr)=>{gt.onsuccess=Ht=>{ht()},Xe.onerror=Ht=>{var cs;tr(xt.create("storage-set",{originalErrorMessage:null===(cs=Ht.target.error)||void 0===cs?void 0:cs.message}))}})})).apply(this,arguments)}const Kn=new dt.Yd("@firebase/app-check");function Vt(ve,me){return(0,at.hl)()?function Ar(ve,me){return function Nn(ve,me){return Jt.apply(this,arguments)}(function kn(ve){return`${ve.options.appId}-${ve.name}`}(ve),me)}(ve,me).catch(Ae=>{Kn.warn(`Failed to write token to IndexedDB. Error: ${Ae}`)}):Promise.resolve()}function Yr(){return De().enabled}function Mn(){return zn.apply(this,arguments)}function zn(){return(zn=(0,Ue.Z)(function*(){const ve=De();if(ve.enabled&&ve.token)return ve.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Je={error:"UNKNOWN_ERROR"};function Ke(ve){return at.US.encodeString(JSON.stringify(ve),!1)}function It(ve){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,Ue.Z)(function*(ve,me=!1){const Ae=ve.app;Kt(Ae);const Xe=_e(Ae);let gt,et=Xe.token;if(et&&!He(et)&&(Xe.token=void 0,et=void 0),!et){const Ht=yield Xe.cachedTokenPromise;Ht&&(He(Ht)?et=Ht:yield Vt(Ae,void 0))}if(!me&&et&&He(et))return{token:et.token};let tr,ht=!1;if(Yr()){Xe.exchangeTokenPromise||(Xe.exchangeTokenPromise=hr(Gn(Ae,yield Mn()),ve.heartbeatServiceProvider).finally(()=>{Xe.exchangeTokenPromise=void 0}),ht=!0);const Ht=yield Xe.exchangeTokenPromise;return yield Vt(Ae,Ht),Xe.token=Ht,{token:Ht.token}}try{Xe.exchangeTokenPromise||(Xe.exchangeTokenPromise=Xe.provider.getToken().finally(()=>{Xe.exchangeTokenPromise=void 0}),ht=!0),et=yield _e(Ae).exchangeTokenPromise}catch(Ht){"appCheck/throttled"===Ht.code?Kn.warn(Ht.message):Kn.error(Ht),gt=Ht}return et?gt?tr=He(et)?{token:et.token,internalError:gt}:ye(gt):(tr={token:et.token},Xe.token=et,yield Vt(Ae,et)):tr=ye(gt),ht&&pe(Ae,tr),tr})).apply(this,arguments)}function Xt(ve,me){const Ae=_e(ve),Xe=Ae.tokenObservers.filter(et=>et.next!==me);0===Xe.length&&Ae.tokenRefresher&&Ae.tokenRefresher.isRunning()&&Ae.tokenRefresher.stop(),Ae.tokenObservers=Xe}function ce(ve){const{app:me}=ve,Ae=_e(me);let Xe=Ae.tokenRefresher;Xe||(Xe=function ne(ve){const{app:me}=ve;return new ln((0,Ue.Z)(function*(){let Xe;if(Xe=_e(me).token?yield It(ve,!0):yield It(ve),Xe.error)throw Xe.error;if(Xe.internalError)throw Xe.internalError}),()=>!0,()=>{const Ae=_e(me);if(Ae.token){let Xe=Ae.token.issuedAtTimeMillis+.5*(Ae.token.expireTimeMillis-Ae.token.issuedAtTimeMillis)+3e5;return Xe=Math.min(Xe,Ae.token.expireTimeMillis-3e5),Math.max(0,Xe-Date.now())}return 0},3e4,96e4)}(ve),Ae.tokenRefresher=Xe),!Xe.isRunning()&&Ae.isTokenAutoRefreshEnabled&&Xe.start()}function pe(ve,me){const Ae=_e(ve).tokenObservers;for(const Xe of Ae)try{"EXTERNAL"===Xe.type&&null!=me.error?Xe.error(me.error):Xe.next(me)}catch{}}function He(ve){return ve.expireTimeMillis-Date.now()>0}function ye(ve){return{token:Ke(Je),error:ve}}class mt{constructor(me,Ae){this.app=me,this.heartbeatServiceProvider=Ae}_delete(){const{tokenObservers:me}=_e(this.app);for(const Ae of me)Xt(this.app,Ae.next);return Promise.resolve()}}const Vs="app-check-internal";!function Di(){(0,je._registerComponent)(new qe.wA("app-check",ve=>function Nt(ve,me){return new mt(ve,me)}(ve.getProvider("app").getImmediate(),ve.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ve,me,Ae)=>{ve.getProvider(Vs).initialize()})),(0,je._registerComponent)(new qe.wA(Vs,ve=>function Dn(ve){return{getToken:me=>It(ve,me),addTokenListener:me=>function Yt(ve,me,Ae,Xe){const{app:et}=ve,gt=_e(et);if(gt.tokenObservers=[...gt.tokenObservers,{next:Ae,error:Xe,type:me}],gt.token&&He(gt.token)){const tr=gt.token;Promise.resolve().then(()=>{Ae({token:tr.token}),ce(ve)}).catch(()=>{})}gt.cachedTokenPromise.then(()=>ce(ve))}(ve,"INTERNAL",me),removeTokenListener:me=>Xt(ve.app,me)}}(ve.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,je.registerVersion)("@firebase/app-check","0.6.0")}();class Ri{constructor(){return(0,w.vb)("app-check")}}typeof window<"u"&&window},2849:(bt,ke,U)=>{U.d(ke,{KQ:()=>Ou,JS:()=>kh});var w=U(4650),Z=U(4986),B=U(9751),T=U(9646),fe=U(6451),Ie=U(4004),be=U(3099),Ce=U(3900),Te=U(5026),ae=U(4671),ie=U(4482),he=U(5403);function Qe(o,i){return o===i}var Ve=U(8421),Ye=U(5032),Ne=U(7669),Et=U(2122),Ue=U(2011),qe=(U(9169),U(3942)),at=U(4859),dt=U(5861),oe=U(9681),V=U(2090),ue=U(1877);const _e="@firebase/database";let De="";function $e(o){De=o}class st{constructor(i){this.domStorage_=i,this.prefix_="firebase:"}set(i,s){null==s?this.domStorage_.removeItem(this.prefixedName_(i)):this.domStorage_.setItem(this.prefixedName_(i),(0,V.Wl)(s))}get(i){const s=this.domStorage_.getItem(this.prefixedName_(i));return null==s?null:(0,V.cI)(s)}remove(i){this.domStorage_.removeItem(this.prefixedName_(i))}prefixedName_(i){return this.prefix_+i}toString(){return this.domStorage_.toString()}}class Ot{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(i,s){null==s?delete this.cache_[i]:this.cache_[i]=s}get(i){return(0,V.r3)(this.cache_,i)?this.cache_[i]:null}remove(i){delete this.cache_[i]}}const wn=function(o){try{if(typeof window<"u"&&typeof window[o]<"u"){const i=window[o];return i.setItem("firebase:sentinel","cache"),i.removeItem("firebase:sentinel"),new st(i)}}catch{}return new Ot},Bt=wn("localStorage"),ut=wn("sessionStorage"),ln=new ue.Yd("@firebase/database"),bn=function(){let o=1;return function(){return o++}}(),Zt=function(o){const i=(0,V.dS)(o),s=new V.gQ;s.update(i);const u=s.digest();return V.US.encodeByteArray(u)},xt=function(...o){let i="";for(let s=0;s<o.length;s++){const u=o[s];Array.isArray(u)||u&&"object"==typeof u&&"number"==typeof u.length?i+=xt.apply(null,u):i+="object"==typeof u?(0,V.Wl)(u):u,i+=" "}return i};let Qn=null,Kt=!0;const Pn=function(o,i){(0,V.hu)(!i||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(ln.logLevel=ue.in.VERBOSE,Qn=ln.log.bind(ln),i&&ut.set("logging_enabled",!0)):"function"==typeof o?Qn=o:(Qn=null,ut.remove("logging_enabled"))},_n=function(...o){if(!0===Kt&&(Kt=!1,null===Qn&&!0===ut.get("logging_enabled")&&Pn(!0)),Qn){const i=xt.apply(null,o);Qn(i)}},hr=function(o){return function(...i){_n(o,...i)}},_r=function(...o){const i="FIREBASE INTERNAL ERROR: "+xt(...o);ln.error(i)},$n=function(...o){const i=`FIREBASE FATAL ERROR: ${xt(...o)}`;throw ln.error(i),new Error(i)},xn=function(...o){const i="FIREBASE WARNING: "+xt(...o);ln.warn(i)},Ft=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},yr="[MIN_NAME]",ct="[MAX_NAME]",Zn=function(o,i){if(o===i)return 0;if(o===yr||i===ct)return-1;if(i===yr||o===ct)return 1;{const s=Ir(o),u=Ir(i);return null!==s?null!==u?s-u==0?o.length-i.length:s-u:-1:null!==u?1:o<i?-1:1}},wi=function(o,i){return o===i?0:o<i?-1:1},In=function(o,i){if(i&&o in i)return i[o];throw new Error("Missing required key ("+o+") in object: "+(0,V.Wl)(i))},Ar=function(o){if("object"!=typeof o||null===o)return(0,V.Wl)(o);const i=[];for(const u in o)i.push(u);i.sort();let s="{";for(let u=0;u<i.length;u++)0!==u&&(s+=","),s+=(0,V.Wl)(i[u]),s+=":",s+=Ar(o[i[u]]);return s+="}",s},$r=function(o,i){const s=o.length;if(s<=i)return[o];const u=[];for(let y=0;y<s;y+=i)u.push(o.substring(y,y+i>s?s:y+i));return u};function on(o,i){for(const s in o)o.hasOwnProperty(s)&&i(s,o[s])}const Nn=function(o){(0,V.hu)(!Ft(o),"Invalid JSON number");const u=1023;let y,D,x,W,q;0===o?(D=0,x=0,y=1/o==-1/0?1:0):(y=o<0,(o=Math.abs(o))>=Math.pow(2,1-u)?(W=Math.min(Math.floor(Math.log(o)/Math.LN2),u),D=W+u,x=Math.round(o*Math.pow(2,52-W)-Math.pow(2,52))):(D=0,x=Math.round(o/Math.pow(2,-1074))));const le=[];for(q=52;q;q-=1)le.push(x%2?1:0),x=Math.floor(x/2);for(q=11;q;q-=1)le.push(D%2?1:0),D=Math.floor(D/2);le.push(y?1:0),le.reverse();const Le=le.join("");let We="";for(q=0;q<64;q+=8){let rt=parseInt(Le.substr(q,8),2).toString(16);1===rt.length&&(rt="0"+rt),We+=rt}return We.toLowerCase()},kn=new RegExp("^-?(0*)\\d{1,10}$"),Ir=function(o){if(kn.test(o)){const i=Number(o);if(i>=-2147483648&&i<=2147483647)return i}return null},Vt=function(o){try{o()}catch(i){setTimeout(()=>{throw xn("Exception was thrown by user callback.",i.stack||""),i},Math.floor(0))}},hn=function(o,i){const s=setTimeout(o,i);return"number"==typeof s&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):"object"==typeof s&&s.unref&&s.unref(),s};class Yr{constructor(i,s){this.appName_=i,this.appCheckProvider=s,this.appCheck=s?.getImmediate({optional:!0}),this.appCheck||s?.get().then(u=>this.appCheck=u)}getToken(i){return this.appCheck?this.appCheck.getToken(i):new Promise((s,u)=>{setTimeout(()=>{this.appCheck?this.getToken(i).then(s,u):s(null)},0)})}addTokenChangeListener(i){var s;null===(s=this.appCheckProvider)||void 0===s||s.get().then(u=>u.addTokenListener(i))}notifyForInvalidToken(){xn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Mn{constructor(i,s,u){this.appName_=i,this.firebaseOptions_=s,this.authProvider_=u,this.auth_=null,this.auth_=u.getImmediate({optional:!0}),this.auth_||u.onInit(y=>this.auth_=y)}getToken(i){return this.auth_?this.auth_.getToken(i).catch(s=>s&&"auth/token-not-initialized"===s.code?(_n("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,u)=>{setTimeout(()=>{this.auth_?this.getToken(i).then(s,u):s(null)},0)})}addTokenChangeListener(i){this.auth_?this.auth_.addAuthTokenListener(i):this.authProvider_.get().then(s=>s.addAuthTokenListener(i))}removeTokenChangeListener(i){this.authProvider_.get().then(s=>s.removeAuthTokenListener(i))}notifyForInvalidToken(){let i='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';i+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xn(i)}}let zn=(()=>{class o{constructor(s){this.accessToken=s}getToken(s){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(s){s(this.accessToken)}removeTokenChangeListener(s){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const Yt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pe="websocket",He="long_polling";class ye{constructor(i,s,u,y,D=!1,x="",W=!1){this.secure=s,this.namespace=u,this.webSocketOnly=y,this.nodeAdmin=D,this.persistenceKey=x,this.includeNamespaceInQueryParams=W,this._host=i.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bt.get("host:"+i)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(i){i!==this.internalHost&&(this.internalHost=i,this.isCacheableHost()&&Bt.set("host:"+this._host,this.internalHost))}toString(){let i=this.toURLString();return this.persistenceKey&&(i+="<"+this.persistenceKey+">"),i}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Nt(o,i,s){let u;if((0,V.hu)("string"==typeof i,"typeof type must == string"),(0,V.hu)("object"==typeof s,"typeof params must == object"),i===pe)u=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(i!==He)throw new Error("Unknown connection type: "+i);u=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function mt(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(s.ns=o.namespace);const y=[];return on(s,(D,x)=>{y.push(D+"="+x)}),u+y.join("&")}class Dn{constructor(){this.counters_={}}incrementCounter(i,s=1){(0,V.r3)(this.counters_,i)||(this.counters_[i]=0),this.counters_[i]+=s}get(){return(0,V.p$)(this.counters_)}}const Tn={},yn={};function te(o){const i=o.toString();return Tn[i]||(Tn[i]=new Dn),Tn[i]}class Y{constructor(i){this.onMessage_=i,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(i,s){this.closeAfterResponse=i,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(i,s){for(this.pendingResponses[i]=s;this.pendingResponses[this.currentResponseNum];){const u=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let y=0;y<u.length;++y)u[y]&&Vt(()=>{this.onMessage_(u[y])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Mr{constructor(i,s,u,y,D,x,W){this.connId=i,this.repoInfo=s,this.applicationId=u,this.appCheckToken=y,this.authToken=D,this.transportSessionId=x,this.lastSessionId=W,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hr(i),this.stats_=te(s),this.urlFn=q=>(this.appCheckToken&&(q.ac=this.appCheckToken),Nt(s,He,q))}open(i,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new Y(i),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,V.Yr)()||"complete"===document.readyState)o();else{let i=!1;const s=function(){document.body?i||(i=!0,o()):setTimeout(s,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&s()}),window.attachEvent("onload",s))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rn((...D)=>{const[x,W,q,le,Le]=D;if(this.incrementIncomingBytes_(D),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===x)this.id=W,this.password=q;else{if("close"!==x)throw new Error("Unrecognized command received: "+x);W?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(W,()=>{this.onClosed_()})):this.onClosed_()}},(...D)=>{const[x,W]=D;this.incrementIncomingBytes_(D),this.myPacketOrderer.handleResponse(x,W)},()=>{this.onClosed_()},this.urlFn);const u={start:"t"};u.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(u.cb=this.scriptTagHolder.uniqueCallbackIdentifier),u.v="5",this.transportSessionId&&(u.s=this.transportSessionId),this.lastSessionId&&(u.ls=this.lastSessionId),this.applicationId&&(u.p=this.applicationId),this.appCheckToken&&(u.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Yt.test(location.hostname)&&(u.r="f");const y=this.urlFn(u);this.log_("Connecting via long-poll to "+y),this.scriptTagHolder.addTag(y,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mr.forceAllow_=!0}static forceDisallow(){Mr.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!Mr.forceAllow_&&(Mr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(i){const s=(0,V.Wl)(i);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const u=(0,V.h$)(s),y=$r(u,1840);for(let D=0;D<y.length;D++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,y.length,y[D]),this.curSegmentNum++}addDisconnectPingFrame(i,s){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const u={dframe:"t"};u.id=i,u.pw=s,this.myDisconnFrame.src=this.urlFn(u),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(i){const s=(0,V.Wl)(i).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class Rn{constructor(i,s,u,y){if(this.onDisconnect=u,this.urlFn=y,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=i,this.onMessageCB=s;else{this.uniqueCallbackIdentifier=bn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=i,window["pRTLPCB"+this.uniqueCallbackIdentifier]=s,this.myIFrame=Rn.createIFrame_();let D="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(D='<script>document.domain="'+document.domain+'";<\/script>');const x="<html><body>"+D+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(x),this.myIFrame.doc.close()}catch(W){_n("frame writing exception"),W.stack&&_n(W.stack),_n(W)}}}static createIFrame_(){const i=document.createElement("iframe");if(i.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(i);try{i.contentWindow.document||_n("No IE domain setting required")}catch{const u=document.domain;i.src="javascript:void((function(){document.open();document.domain='"+u+"';document.close();})())"}return i.contentDocument?i.doc=i.contentDocument:i.contentWindow?i.doc=i.contentWindow.document:i.document&&(i.doc=i.document),i}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const i=this.onDisconnect;i&&(this.onDisconnect=null,i())}startLongPoll(i,s){for(this.myID=i,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const i={};i.id=this.myID,i.pw=this.myPW,i.ser=this.currentSerial;let s=this.urlFn(i),u="",y=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+u.length<=1870;){const x=this.pendingSegs.shift();u=u+"&seg"+y+"="+x.seg+"&ts"+y+"="+x.ts+"&d"+y+"="+x.d,y++}return s+=u,this.addLongPollTag_(s,this.currentSerial),!0}return!1}enqueueSegment(i,s,u){this.pendingSegs.push({seg:i,ts:s,d:u}),this.alive&&this.newRequest_()}addLongPollTag_(i,s){this.outstandingRequests.add(s);const u=()=>{this.outstandingRequests.delete(s),this.newRequest_()},y=setTimeout(u,Math.floor(25e3));this.addTag(i,()=>{clearTimeout(y),u()})}addTag(i,s){(0,V.Yr)()?this.doNodeLongPoll(i,s):setTimeout(()=>{try{if(!this.sendNewPolls)return;const u=this.myIFrame.doc.createElement("script");u.type="text/javascript",u.async=!0,u.src=i,u.onload=u.onreadystatechange=function(){const y=u.readyState;(!y||"loaded"===y||"complete"===y)&&(u.onload=u.onreadystatechange=null,u.parentNode&&u.parentNode.removeChild(u),s())},u.onerror=()=>{_n("Long-poll script failed to load: "+i),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(u)}catch{}},Math.floor(1))}}let Di=null;typeof MozWebSocket<"u"?Di=MozWebSocket:typeof WebSocket<"u"&&(Di=WebSocket);let Lr=(()=>{class o{constructor(s,u,y,D,x,W,q){this.connId=s,this.applicationId=y,this.appCheckToken=D,this.authToken=x,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hr(this.connId),this.stats_=te(u),this.connURL=o.connectionURL_(u,W,q,D,y),this.nodeAdmin=u.nodeAdmin}static connectionURL_(s,u,y,D,x){const W={v:"5"};return!(0,V.Yr)()&&typeof location<"u"&&location.hostname&&Yt.test(location.hostname)&&(W.r="f"),u&&(W.s=u),y&&(W.ls=y),D&&(W.ac=D),x&&(W.p=x),Nt(s,pe,W)}open(s,u){this.onDisconnect=u,this.onMessage=s,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bt.set("previous_websocket_failure",!0);try{let y;if((0,V.Yr)()){y={headers:{"User-Agent":`Firebase/5/${De}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(y.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(y.headers["X-Firebase-AppCheck"]=this.appCheckToken);const x=process.env,W=0===this.connURL.indexOf("wss://")?x.HTTPS_PROXY||x.https_proxy:x.HTTP_PROXY||x.http_proxy;W&&(y.proxy={origin:W})}this.mySock=new Di(this.connURL,[],y)}catch(y){this.log_("Error instantiating WebSocket.");const D=y.message||y.data;return D&&this.log_(D),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=y=>{this.handleIncomingFrame(y)},this.mySock.onerror=y=>{this.log_("WebSocket error.  Closing connection.");const D=y.message||y.data;D&&this.log_(D),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let s=!1;if(typeof navigator<"u"&&navigator.userAgent){const y=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);y&&y.length>1&&parseFloat(y[1])<4.4&&(s=!0)}return!s&&null!==Di&&!o.forceDisallow_}static previouslyFailed(){return Bt.isInMemoryStorage||!0===Bt.get("previous_websocket_failure")}markConnectionHealthy(){Bt.remove("previous_websocket_failure")}appendFrame_(s){if(this.frames.push(s),this.frames.length===this.totalFrames){const u=this.frames.join("");this.frames=null;const y=(0,V.cI)(u);this.onMessage(y)}}handleNewFrameCount_(s){this.totalFrames=s,this.frames=[]}extractFrameCount_(s){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),s.length<=6){const u=Number(s);if(!isNaN(u))return this.handleNewFrameCount_(u),null}return this.handleNewFrameCount_(1),s}handleIncomingFrame(s){if(null===this.mySock)return;const u=s.data;if(this.bytesReceived+=u.length,this.stats_.incrementCounter("bytes_received",u.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(u);else{const y=this.extractFrameCount_(u);null!==y&&this.appendFrame_(y)}}send(s){this.resetKeepAlive();const u=(0,V.Wl)(s);this.bytesSent+=u.length,this.stats_.incrementCounter("bytes_sent",u.length);const y=$r(u,16384);y.length>1&&this.sendString_(String(y.length));for(let D=0;D<y.length;D++)this.sendString_(y[D])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(s){try{this.mySock.send(s)}catch(u){this.log_("Exception thrown from WebSocket.send():",u.message||u.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})(),Mi=(()=>{class o{constructor(s){this.initTransports_(s)}static get ALL_TRANSPORTS(){return[Mr,Lr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(s){const u=Lr&&Lr.isAvailable();let y=u&&!Lr.previouslyFailed();if(s.webSocketOnly&&(u||xn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),y=!0),y)this.transports_=[Lr];else{const D=this.transports_=[];for(const x of o.ALL_TRANSPORTS)x&&x.isAvailable()&&D.push(x);o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return o.globalTransportInitialized_=!1,o})();class oo{constructor(i,s,u,y,D,x,W,q,le,Le){this.id=i,this.repoInfo_=s,this.applicationId_=u,this.appCheckToken_=y,this.authToken_=D,this.onMessage_=x,this.onReady_=W,this.onDisconnect_=q,this.onKill_=le,this.lastSessionId=Le,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hr("c:"+this.id+":"),this.transportManager_=new Mi(s),this.log_("Connection created"),this.start_()}start_(){const i=this.transportManager_.initialTransport();this.conn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),u=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,u)},Math.floor(0));const y=i.healthyTimeout||0;y>0&&(this.healthyTimeout_=hn(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(y)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(i){return s=>{i===this.conn_?this.onConnectionLost_(s):i===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(i){return s=>{2!==this.state_&&(i===this.rx_?this.onPrimaryMessageReceived_(s):i===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(i){this.sendData_({t:"d",d:i})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(i){if("t"in i){const s=i.t;"a"===s?this.upgradeIfSecondaryHealthy_():"r"===s?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===s&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(i){const s=In("t",i),u=In("d",i);if("c"===s)this.onSecondaryControl_(u);else{if("d"!==s)throw new Error("Unknown protocol layer: "+s);this.pendingDataMessages.push(u)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(i){const s=In("t",i),u=In("d",i);"c"===s?this.onControl_(u):"d"===s&&this.onDataMessage_(u)}onDataMessage_(i){this.onPrimaryResponse_(),this.onMessage_(i)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(i){const s=In("t",i);if("d"in i){const u=i.d;if("h"===s)this.onHandshake_(u);else if("n"===s){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let y=0;y<this.pendingDataMessages.length;++y)this.onDataMessage_(this.pendingDataMessages[y]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===s?this.onConnectionShutdown_(u):"r"===s?this.onReset_(u):"e"===s?_r("Server Error: "+u):"o"===s?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_r("Unknown control packet command: "+s)}}onHandshake_(i){const s=i.ts,u=i.v,y=i.h;this.sessionId=i.s,this.repoInfo_.host=y,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),"5"!==u&&xn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const i=this.transportManager_.upgradeTransport();i&&this.startUpgrade_(i)}startUpgrade_(i){this.secondaryConn_=new i(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=i.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),u=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,u),hn(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(i){this.log_("Reset packet received.  New host: "+i),this.repoInfo_.host=i,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(i,s){this.log_("Realtime connection established."),this.conn_=i,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hn(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const i=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===i||this.rx_===i)&&this.close()}onConnectionLost_(i){this.conn_=null,i||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bt.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(i){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(i),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(i){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(i)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Rr{put(i,s,u,y){}merge(i,s,u,y){}refreshAuthToken(i){}refreshAppCheckToken(i){}onDisconnectPut(i,s,u){}onDisconnectMerge(i,s,u){}onDisconnectCancel(i,s){}reportStats(i){}}class ve{constructor(i){this.allowedEvents_=i,this.listeners_={},(0,V.hu)(Array.isArray(i)&&i.length>0,"Requires a non-empty array")}trigger(i,...s){if(Array.isArray(this.listeners_[i])){const u=[...this.listeners_[i]];for(let y=0;y<u.length;y++)u[y].callback.apply(u[y].context,s)}}on(i,s,u){this.validateEventType_(i),this.listeners_[i]=this.listeners_[i]||[],this.listeners_[i].push({callback:s,context:u});const y=this.getInitialEvent(i);y&&s.apply(u,y)}off(i,s,u){this.validateEventType_(i);const y=this.listeners_[i]||[];for(let D=0;D<y.length;D++)if(y[D].callback===s&&(!u||u===y[D].context))return void y.splice(D,1)}validateEventType_(i){(0,V.hu)(this.allowedEvents_.find(s=>s===i),"Unknown event: "+i)}}class me extends ve{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new me}getInitialEvent(i){return(0,V.hu)("online"===i,"Unknown event type: "+i),[this.online_]}currentlyOnline(){return this.online_}}class et{constructor(i,s){if(void 0===s){this.pieces_=i.split("/");let u=0;for(let y=0;y<this.pieces_.length;y++)this.pieces_[y].length>0&&(this.pieces_[u]=this.pieces_[y],u++);this.pieces_.length=u,this.pieceNum_=0}else this.pieces_=i,this.pieceNum_=s}toString(){let i="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)""!==this.pieces_[s]&&(i+="/"+this.pieces_[s]);return i||"/"}}function gt(){return new et("")}function ht(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function tr(o){return o.pieces_.length-o.pieceNum_}function Ht(o){let i=o.pieceNum_;return i<o.pieces_.length&&i++,new et(o.pieces_,i)}function cs(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function Wr(o,i=0){return o.pieces_.slice(o.pieceNum_+i)}function Gi(o){if(o.pieceNum_>=o.pieces_.length)return null;const i=[];for(let s=o.pieceNum_;s<o.pieces_.length-1;s++)i.push(o.pieces_[s]);return new et(i,0)}function Xn(o,i){const s=[];for(let u=o.pieceNum_;u<o.pieces_.length;u++)s.push(o.pieces_[u]);if(i instanceof et)for(let u=i.pieceNum_;u<i.pieces_.length;u++)s.push(i.pieces_[u]);else{const u=i.split("/");for(let y=0;y<u.length;y++)u[y].length>0&&s.push(u[y])}return new et(s,0)}function cn(o){return o.pieceNum_>=o.pieces_.length}function nr(o,i){const s=ht(o),u=ht(i);if(null===s)return i;if(s===u)return nr(Ht(o),Ht(i));throw new Error("INTERNAL ERROR: innerPath ("+i+") is not within outerPath ("+o+")")}function ao(o,i){const s=Wr(o,0),u=Wr(i,0);for(let y=0;y<s.length&&y<u.length;y++){const D=Zn(s[y],u[y]);if(0!==D)return D}return s.length===u.length?0:s.length<u.length?-1:1}function bi(o,i){if(tr(o)!==tr(i))return!1;for(let s=o.pieceNum_,u=i.pieceNum_;s<=o.pieces_.length;s++,u++)if(o.pieces_[s]!==i.pieces_[u])return!1;return!0}function Dr(o,i){let s=o.pieceNum_,u=i.pieceNum_;if(tr(o)>tr(i))return!1;for(;s<o.pieces_.length;){if(o.pieces_[s]!==i.pieces_[u])return!1;++s,++u}return!0}class ds{constructor(i,s){this.errorPrefix_=s,this.parts_=Wr(i,0),this.byteLength_=Math.max(1,this.parts_.length);for(let u=0;u<this.parts_.length;u++)this.byteLength_+=(0,V.ug)(this.parts_[u]);To(this)}}function To(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ti(o))}function Ti(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class Wo extends ve{constructor(){let i,s;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",i="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",i="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",i="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",i="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const u=!document[i];u!==this.visible_&&(this.visible_=u,this.trigger("visible",u))},!1)}static getInstance(){return new Wo}getInitialEvent(i){return(0,V.hu)("visible"===i,"Unknown event type: "+i),[this.visible_]}}const Pi=1e3;let Ts,uo=(()=>{class o extends Rr{constructor(s,u,y,D,x,W,q,le){if(super(),this.repoInfo_=s,this.applicationId_=u,this.onDataUpdate_=y,this.onConnectStatus_=D,this.onServerInfoUpdate_=x,this.authTokenProvider_=W,this.appCheckTokenProvider_=q,this.authOverride_=le,this.id=o.nextPersistentConnectionId_++,this.log_=hr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Pi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,le&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wo.getInstance().on("visible",this.onVisible_,this),-1===s.host.indexOf("fblocal")&&me.getInstance().on("online",this.onOnline_,this)}sendRequest(s,u,y){const D=++this.requestNumber_,x={r:D,a:s,b:u};this.log_((0,V.Wl)(x)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(x),y&&(this.requestCBHash_[D]=y)}get(s){this.initConnection_();const u=new V.BH,y={p:s._path.toString(),q:s._queryObject};return this.outstandingGets_.push({action:"g",request:y,onComplete:W=>{const q=W.d;"ok"===W.s?u.resolve(q):u.reject(q)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),u.promise}listen(s,u,y,D){this.initConnection_();const x=s._queryIdentifier,W=s._path.toString();this.log_("Listen called for "+W+" "+x),this.listens.has(W)||this.listens.set(W,new Map),(0,V.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(W).has(x),"listen() called twice for same path/queryId.");const q={onComplete:D,hashFn:u,query:s,tag:y};this.listens.get(W).set(x,q),this.connected_&&this.sendListen_(q)}sendGet_(s){const u=this.outstandingGets_[s];this.sendRequest("g",u.request,y=>{delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),u.onComplete&&u.onComplete(y)})}sendListen_(s){const u=s.query,y=u._path.toString(),D=u._queryIdentifier;this.log_("Listen on "+y+" for "+D);const x={p:y};s.tag&&(x.q=u._queryObject,x.t=s.tag),x.h=s.hashFn(),this.sendRequest("q",x,q=>{const le=q.d,Le=q.s;o.warnOnListenWarnings_(le,u),(this.listens.get(y)&&this.listens.get(y).get(D))===s&&(this.log_("listen response",q),"ok"!==Le&&this.removeListen_(y,D),s.onComplete&&s.onComplete(Le,le))})}static warnOnListenWarnings_(s,u){if(s&&"object"==typeof s&&(0,V.r3)(s,"w")){const y=(0,V.DV)(s,"w");if(Array.isArray(y)&&~y.indexOf("no_index")){const D='".indexOn": "'+u._queryParams.getIndex().toString()+'"',x=u._path.toString();xn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${D} at ${x} to your security rules for better performance.`)}}}refreshAuthToken(s){this.authToken_=s,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(s)}reduceReconnectDelayIfAdminCredential_(s){(s&&40===s.length||(0,V.GJ)(s))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(s){this.appCheckToken_=s,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const s=this.authToken_,u=(0,V.w9)(s)?"auth":"gauth",y={cred:s};null===this.authOverride_?y.noauth=!0:"object"==typeof this.authOverride_&&(y.authvar=this.authOverride_),this.sendRequest(u,y,D=>{const x=D.s,W=D.d||"error";this.authToken_===s&&("ok"===x?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(x,W))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},s=>{const u=s.s,y=s.d||"error";"ok"===u?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(u,y)})}unlisten(s,u){const y=s._path.toString(),D=s._queryIdentifier;this.log_("Unlisten called for "+y+" "+D),(0,V.hu)(s._queryParams.isDefault()||!s._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(y,D)&&this.connected_&&this.sendUnlisten_(y,D,s._queryObject,u)}sendUnlisten_(s,u,y,D){this.log_("Unlisten on "+s+" for "+u);const x={p:s};D&&(x.q=y,x.t=D),this.sendRequest("n",x)}onDisconnectPut(s,u,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",s,u,y):this.onDisconnectRequestQueue_.push({pathString:s,action:"o",data:u,onComplete:y})}onDisconnectMerge(s,u,y){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",s,u,y):this.onDisconnectRequestQueue_.push({pathString:s,action:"om",data:u,onComplete:y})}onDisconnectCancel(s,u){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",s,null,u):this.onDisconnectRequestQueue_.push({pathString:s,action:"oc",data:null,onComplete:u})}sendOnDisconnect_(s,u,y,D){const x={p:u,d:y};this.log_("onDisconnect "+s,x),this.sendRequest(s,x,W=>{D&&setTimeout(()=>{D(W.s,W.d)},Math.floor(0))})}put(s,u,y,D){this.putInternal("p",s,u,y,D)}merge(s,u,y,D){this.putInternal("m",s,u,y,D)}putInternal(s,u,y,D,x){this.initConnection_();const W={p:u,d:y};void 0!==x&&(W.h=x),this.outstandingPuts_.push({action:s,request:W,onComplete:D}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+u)}sendPut_(s){const u=this.outstandingPuts_[s].action,y=this.outstandingPuts_[s].request,D=this.outstandingPuts_[s].onComplete;this.outstandingPuts_[s].queued=this.connected_,this.sendRequest(u,y,x=>{this.log_(u+" response",x),delete this.outstandingPuts_[s],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),D&&D(x.s,x.d)})}reportStats(s){if(this.connected_){const u={c:s};this.log_("reportStats",u),this.sendRequest("s",u,y=>{"ok"!==y.s&&this.log_("reportStats","Error sending stats: "+y.d)})}}onDataMessage_(s){if("r"in s){this.log_("from server: "+(0,V.Wl)(s));const u=s.r,y=this.requestCBHash_[u];y&&(delete this.requestCBHash_[u],y(s.b))}else{if("error"in s)throw"A server-side error has occurred: "+s.error;"a"in s&&this.onDataPush_(s.a,s.b)}}onDataPush_(s,u){this.log_("handleServerMessage",s,u),"d"===s?this.onDataUpdate_(u.p,u.d,!1,u.t):"m"===s?this.onDataUpdate_(u.p,u.d,!0,u.t):"c"===s?this.onListenRevoked_(u.p,u.q):"ac"===s?this.onAuthRevoked_(u.s,u.d):"apc"===s?this.onAppCheckRevoked_(u.s,u.d):"sd"===s?this.onSecurityDebugPacket_(u):_r("Unrecognized action received from server: "+(0,V.Wl)(s)+"\nAre you using the latest client?")}onReady_(s,u){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(s),this.lastSessionId=u,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(s){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(s))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(s){s&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0)),this.visible_=s}onOnline_(s){s?(this.log_("Browser went online."),this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const s=(new Date).getTime()-this.lastConnectionAttemptTime_;let u=Math.max(0,this.reconnectDelay_-s);u=Math.random()*u,this.log_("Trying to reconnect in "+u+"ms"),this.scheduleConnect_(u),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var s=this;return(0,dt.Z)(function*(){if(s.shouldReconnect_()){s.log_("Making a connection attempt"),s.lastConnectionAttemptTime_=(new Date).getTime(),s.lastConnectionEstablishedTime_=null;const u=s.onDataMessage_.bind(s),y=s.onReady_.bind(s),D=s.onRealtimeDisconnect_.bind(s),x=s.id+":"+o.nextConnectionId_++,W=s.lastSessionId;let q=!1,le=null;const Le=function(){le?le.close():(q=!0,D())};s.realtime_={close:Le,sendRequest:function(Pt){(0,V.hu)(le,"sendRequest call when we're not connected not allowed."),le.sendRequest(Pt)}};const rt=s.forceTokenRefresh_;s.forceTokenRefresh_=!1;try{const[Pt,Wt]=yield Promise.all([s.authTokenProvider_.getToken(rt),s.appCheckTokenProvider_.getToken(rt)]);q?_n("getToken() completed but was canceled"):(_n("getToken() completed. Creating connection."),s.authToken_=Pt&&Pt.accessToken,s.appCheckToken_=Wt&&Wt.token,le=new oo(x,s.repoInfo_,s.applicationId_,s.appCheckToken_,s.authToken_,u,y,D,Yn=>{xn(Yn+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},W))}catch(Pt){s.log_("Failed to get token: "+Pt),q||(s.repoInfo_.nodeAdmin&&xn(Pt),Le())}}})()}interrupt(s){_n("Interrupting connection for reason: "+s),this.interruptReasons_[s]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(s){_n("Resuming connection for reason: "+s),delete this.interruptReasons_[s],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Pi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(s){const u=s-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:u})}cancelSentTransactions_(){for(let s=0;s<this.outstandingPuts_.length;s++){const u=this.outstandingPuts_[s];u&&"h"in u.request&&u.queued&&(u.onComplete&&u.onComplete("disconnect"),delete this.outstandingPuts_[s],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(s,u){let y;y=u?u.map(x=>Ar(x)).join("$"):"default";const D=this.removeListen_(s,y);D&&D.onComplete&&D.onComplete("permission_denied")}removeListen_(s,u){const y=new et(s).toString();let D;if(this.listens.has(y)){const x=this.listens.get(y);D=x.get(u),x.delete(u),0===x.size&&this.listens.delete(y)}else D=void 0;return D}onAuthRevoked_(s,u){_n("Auth token revoked: "+s+"/"+u),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===s||"permission_denied"===s)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(s,u){_n("App check token revoked: "+s+"/"+u),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===s||"permission_denied"===s)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(s){this.securityDebugCallback_?this.securityDebugCallback_(s):"msg"in s&&console.log("FIREBASE: "+s.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const s of this.listens.values())for(const u of s.values())this.sendListen_(u);for(let s=0;s<this.outstandingPuts_.length;s++)this.outstandingPuts_[s]&&this.sendPut_(s);for(;this.onDisconnectRequestQueue_.length;){const s=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(s.action,s.pathString,s.data,s.onComplete)}for(let s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}sendConnectStats_(){const s={};let u="js";(0,V.Yr)()&&(u=this.repoInfo_.nodeAdmin?"admin_node":"node"),s["sdk."+u+"."+De.replace(/\./g,"-")]=1,(0,V.uI)()?s["framework.cordova"]=1:(0,V.b$)()&&(s["framework.reactnative"]=1),this.reportStats(s)}shouldReconnect_(){const s=me.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&s}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class vn{constructor(i,s){this.name=i,this.node=s}static Wrap(i,s){return new vn(i,s)}}class lr{getCompare(){return this.compare.bind(this)}indexedValueChanged(i,s){const u=new vn(yr,i),y=new vn(yr,s);return 0!==this.compare(u,y)}minPost(){return vn.MIN}}class ua extends lr{static get __EMPTY_NODE(){return Ts}static set __EMPTY_NODE(i){Ts=i}compare(i,s){return Zn(i.name,s.name)}isDefinedOn(i){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(i,s){return!1}minPost(){return vn.MIN}maxPost(){return new vn(ct,Ts)}makePost(i,s){return(0,V.hu)("string"==typeof i,"KeyIndex indexValue must always be a string."),new vn(i,Ts)}toString(){return".key"}}const Cr=new ua;class Ur{constructor(i,s,u,y,D=null){this.isReverse_=y,this.resultGenerator_=D,this.nodeStack_=[];let x=1;for(;!i.isEmpty();)if(x=s?u(i.key,s):1,y&&(x*=-1),x<0)i=this.isReverse_?i.left:i.right;else{if(0===x){this.nodeStack_.push(i);break}this.nodeStack_.push(i),i=this.isReverse_?i.right:i.left}}getNext(){if(0===this.nodeStack_.length)return null;let s,i=this.nodeStack_.pop();if(s=this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value},this.isReverse_)for(i=i.left;!i.isEmpty();)this.nodeStack_.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack_.push(i),i=i.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const i=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(i.key,i.value):{key:i.key,value:i.value}}}let Oi,Vr=(()=>{class o{constructor(s,u,y,D,x){this.key=s,this.value=u,this.color=y??o.RED,this.left=D??ur.EMPTY_NODE,this.right=x??ur.EMPTY_NODE}copy(s,u,y,D,x){return new o(s??this.key,u??this.value,y??this.color,D??this.left,x??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(s){return this.left.inorderTraversal(s)||!!s(this.key,this.value)||this.right.inorderTraversal(s)}reverseTraversal(s){return this.right.reverseTraversal(s)||s(this.key,this.value)||this.left.reverseTraversal(s)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(s,u,y){let D=this;const x=y(s,D.key);return D=x<0?D.copy(null,null,null,D.left.insert(s,u,y),null):0===x?D.copy(null,u,null,null,null):D.copy(null,null,null,null,D.right.insert(s,u,y)),D.fixUp_()}removeMin_(){if(this.left.isEmpty())return ur.EMPTY_NODE;let s=this;return!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.removeMin_(),null),s.fixUp_()}remove(s,u){let y,D;if(y=this,u(s,y.key)<0)!y.left.isEmpty()&&!y.left.isRed_()&&!y.left.left.isRed_()&&(y=y.moveRedLeft_()),y=y.copy(null,null,null,y.left.remove(s,u),null);else{if(y.left.isRed_()&&(y=y.rotateRight_()),!y.right.isEmpty()&&!y.right.isRed_()&&!y.right.left.isRed_()&&(y=y.moveRedRight_()),0===u(s,y.key)){if(y.right.isEmpty())return ur.EMPTY_NODE;D=y.right.min_(),y=y.copy(D.key,D.value,null,null,y.right.removeMin_())}y=y.copy(null,null,null,null,y.right.remove(s,u))}return y.fixUp_()}isRed_(){return this.color}fixUp_(){let s=this;return s.right.isRed_()&&!s.left.isRed_()&&(s=s.rotateLeft_()),s.left.isRed_()&&s.left.left.isRed_()&&(s=s.rotateRight_()),s.left.isRed_()&&s.right.isRed_()&&(s=s.colorFlip_()),s}moveRedLeft_(){let s=this.colorFlip_();return s.right.left.isRed_()&&(s=s.copy(null,null,null,null,s.right.rotateRight_()),s=s.rotateLeft_(),s=s.colorFlip_()),s}moveRedRight_(){let s=this.colorFlip_();return s.left.left.isRed_()&&(s=s.rotateRight_(),s=s.colorFlip_()),s}rotateLeft_(){const s=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,s,null)}rotateRight_(){const s=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,s)}colorFlip_(){const s=this.left.copy(null,null,!this.left.color,null,null),u=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,s,u)}checkMaxDepth_(){const s=this.check_();return Math.pow(2,s)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const s=this.left.check_();if(s!==this.right.check_())throw new Error("Black depths differ");return s+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class ur{constructor(i,s=ur.EMPTY_NODE){this.comparator_=i,this.root_=s}insert(i,s){return new ur(this.comparator_,this.root_.insert(i,s,this.comparator_).copy(null,null,Vr.BLACK,null,null))}remove(i){return new ur(this.comparator_,this.root_.remove(i,this.comparator_).copy(null,null,Vr.BLACK,null,null))}get(i){let s,u=this.root_;for(;!u.isEmpty();){if(s=this.comparator_(i,u.key),0===s)return u.value;s<0?u=u.left:s>0&&(u=u.right)}return null}getPredecessorKey(i){let s,u=this.root_,y=null;for(;!u.isEmpty();){if(s=this.comparator_(i,u.key),0===s){if(u.left.isEmpty())return y?y.key:null;for(u=u.left;!u.right.isEmpty();)u=u.right;return u.key}s<0?u=u.left:s>0&&(y=u,u=u.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(i){return this.root_.inorderTraversal(i)}reverseTraversal(i){return this.root_.reverseTraversal(i)}getIterator(i){return new Ur(this.root_,null,this.comparator_,!1,i)}getIteratorFrom(i,s){return new Ur(this.root_,i,this.comparator_,!1,s)}getReverseIteratorFrom(i,s){return new Ur(this.root_,i,this.comparator_,!0,s)}getReverseIterator(i){return new Ur(this.root_,null,this.comparator_,!0,i)}}function Fn(o,i){return Zn(o.name,i.name)}function So(o,i){return Zn(o,i)}ur.EMPTY_NODE=new class hs{copy(i,s,u,y,D){return this}insert(i,s,u){return new Vr(i,s,null)}remove(i,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Zi=function(o){return"number"==typeof o?"number:"+Nn(o):"string:"+o},zo=function(o){if(o.isLeafNode()){const i=o.val();(0,V.hu)("string"==typeof i||"number"==typeof i||"object"==typeof i&&(0,V.r3)(i,".sv"),"Priority must be a string or number.")}else(0,V.hu)(o===Oi||o.isEmpty(),"priority of unexpected type.");(0,V.hu)(o===Oi||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wr,Ss,ca,Gt=(()=>{class o{constructor(s,u=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=s,this.priorityNode_=u,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),zo(this.priorityNode_)}static set __childrenNodeConstructor(s){wr=s}static get __childrenNodeConstructor(){return wr}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(s){return new o(this.value_,s)}getImmediateChild(s){return".priority"===s?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(s){return cn(s)?this:".priority"===ht(s)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(s,u){return null}updateImmediateChild(s,u){return".priority"===s?this.updatePriority(u):u.isEmpty()&&".priority"!==s?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(s,u).updatePriority(this.priorityNode_)}updateChild(s,u){const y=ht(s);return null===y?u:u.isEmpty()&&".priority"!==y?this:((0,V.hu)(".priority"!==y||1===tr(s),".priority must be the last token in a path"),this.updateImmediateChild(y,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ht(s),u)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(s,u){return!1}val(s){return s&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let s="";this.priorityNode_.isEmpty()||(s+="priority:"+Zi(this.priorityNode_.val())+":");const u=typeof this.value_;s+=u+":",s+="number"===u?Nn(this.value_):this.value_,this.lazyHash_=Zt(s)}return this.lazyHash_}getValue(){return this.value_}compareTo(s){return s===o.__childrenNodeConstructor.EMPTY_NODE?1:s instanceof o.__childrenNodeConstructor?-1:((0,V.hu)(s.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(s))}compareToLeafNode_(s){const u=typeof s.value_,y=typeof this.value_,D=o.VALUE_TYPE_ORDER.indexOf(u),x=o.VALUE_TYPE_ORDER.indexOf(y);return(0,V.hu)(D>=0,"Unknown leaf type: "+u),(0,V.hu)(x>=0,"Unknown leaf type: "+y),D===x?"object"===y?0:this.value_<s.value_?-1:this.value_===s.value_?0:1:x-D}withIndex(){return this}isIndexed(){return!0}equals(s){if(s===this)return!0;if(s.isLeafNode()){const u=s;return this.value_===u.value_&&this.priorityNode_.equals(u.priorityNode_)}return!1}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const an=new class co extends lr{compare(i,s){const u=i.node.getPriority(),y=s.node.getPriority(),D=u.compareTo(y);return 0===D?Zn(i.name,s.name):D}isDefinedOn(i){return!i.getPriority().isEmpty()}indexedValueChanged(i,s){return!i.getPriority().equals(s.getPriority())}minPost(){return vn.MIN}maxPost(){return new vn(ct,new Gt("[PRIORITY-POST]",ca))}makePost(i,s){const u=Ss(i);return new vn(s,new Gt("[PRIORITY-POST]",u))}toString(){return".priority"}},Zo=Math.log(2);class fs{constructor(i){this.count=parseInt(Math.log(i+1)/Zo,10),this.current_=this.count-1;const y=(D=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=i+1&y}nextBitIsOne(){const i=!(this.bits_&1<<this.current_);return this.current_--,i}}const tt=function(o,i,s,u){o.sort(i);const y=function(q,le){const Le=le-q;let We,rt;if(0===Le)return null;if(1===Le)return We=o[q],rt=s?s(We):We,new Vr(rt,We.node,Vr.BLACK,null,null);{const Pt=parseInt(Le/2,10)+q,Wt=y(q,Pt),Yn=y(Pt+1,le);return We=o[Pt],rt=s?s(We):We,new Vr(rt,We.node,Vr.BLACK,Wt,Yn)}},W=function(q){let le=null,Le=null,We=o.length;const rt=function(Wt,Yn){const Ci=We-Wt,jo=We;We-=Wt;const Da=y(Ci+1,jo),ll=o[Ci],as=s?s(ll):ll;Pt(new Vr(as,ll.node,Yn,null,Da))},Pt=function(Wt){le?(le.left=Wt,le=Wt):(Le=Wt,le=Wt)};for(let Wt=0;Wt<q.count;++Wt){const Yn=q.nextBitIsOne(),Ci=Math.pow(2,q.count-(Wt+1));Yn?rt(Ci,Vr.BLACK):(rt(Ci,Vr.BLACK),rt(Ci,Vr.RED))}return Le}(new fs(o.length));return new ur(u||i,W)};let En;const Ki={};class fi{constructor(i,s){this.indexes_=i,this.indexSet_=s}static get Default(){return(0,V.hu)(Ki&&an,"ChildrenNode.ts has not been loaded"),En=En||new fi({".priority":Ki},{".priority":an}),En}get(i){const s=(0,V.DV)(this.indexes_,i);if(!s)throw new Error("No index defined for "+i);return s instanceof ur?s:null}hasIndex(i){return(0,V.r3)(this.indexSet_,i.toString())}addIndex(i,s){(0,V.hu)(i!==Cr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const u=[];let y=!1;const D=s.getIterator(vn.Wrap);let W,x=D.getNext();for(;x;)y=y||i.isDefinedOn(x.node),u.push(x),x=D.getNext();W=y?tt(u,i.getCompare()):Ki;const q=i.toString(),le=Object.assign({},this.indexSet_);le[q]=i;const Le=Object.assign({},this.indexes_);return Le[q]=W,new fi(Le,le)}addToIndexes(i,s){const u=(0,V.UI)(this.indexes_,(y,D)=>{const x=(0,V.DV)(this.indexSet_,D);if((0,V.hu)(x,"Missing index implementation for "+D),y===Ki){if(x.isDefinedOn(i.node)){const W=[],q=s.getIterator(vn.Wrap);let le=q.getNext();for(;le;)le.name!==i.name&&W.push(le),le=q.getNext();return W.push(i),tt(W,x.getCompare())}return Ki}{const W=s.get(i.name);let q=y;return W&&(q=q.remove(new vn(i.name,W))),q.insert(i,i.node)}});return new fi(u,this.indexSet_)}removeFromIndexes(i,s){const u=(0,V.UI)(this.indexes_,y=>{if(y===Ki)return y;{const D=s.get(i.name);return D?y.remove(new vn(i.name,D)):y}});return new fi(u,this.indexSet_)}}let cr,nn=(()=>{class o{constructor(s,u,y){this.children_=s,this.priorityNode_=u,this.indexMap_=y,this.lazyHash_=null,this.priorityNode_&&zo(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return cr||(cr=new o(new ur(So),null,fi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||cr}updatePriority(s){return this.children_.isEmpty()?this:new o(this.children_,s,this.indexMap_)}getImmediateChild(s){if(".priority"===s)return this.getPriority();{const u=this.children_.get(s);return null===u?cr:u}}getChild(s){const u=ht(s);return null===u?this:this.getImmediateChild(u).getChild(Ht(s))}hasChild(s){return null!==this.children_.get(s)}updateImmediateChild(s,u){if((0,V.hu)(u,"We should always be passing snapshot nodes"),".priority"===s)return this.updatePriority(u);{const y=new vn(s,u);let D,x;u.isEmpty()?(D=this.children_.remove(s),x=this.indexMap_.removeFromIndexes(y,this.children_)):(D=this.children_.insert(s,u),x=this.indexMap_.addToIndexes(y,this.children_));const W=D.isEmpty()?cr:this.priorityNode_;return new o(D,W,x)}}updateChild(s,u){const y=ht(s);if(null===y)return u;{(0,V.hu)(".priority"!==ht(s)||1===tr(s),".priority must be the last token in a path");const D=this.getImmediateChild(y).updateChild(Ht(s),u);return this.updateImmediateChild(y,D)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(s){if(this.isEmpty())return null;const u={};let y=0,D=0,x=!0;if(this.forEachChild(an,(W,q)=>{u[W]=q.val(s),y++,x&&o.INTEGER_REGEXP_.test(W)?D=Math.max(D,Number(W)):x=!1}),!s&&x&&D<2*y){const W=[];for(const q in u)W[q]=u[q];return W}return s&&!this.getPriority().isEmpty()&&(u[".priority"]=this.getPriority().val()),u}hash(){if(null===this.lazyHash_){let s="";this.getPriority().isEmpty()||(s+="priority:"+Zi(this.getPriority().val())+":"),this.forEachChild(an,(u,y)=>{const D=y.hash();""!==D&&(s+=":"+u+":"+D)}),this.lazyHash_=""===s?"":Zt(s)}return this.lazyHash_}getPredecessorChildName(s,u,y){const D=this.resolveIndex_(y);if(D){const x=D.getPredecessorKey(new vn(s,u));return x?x.name:null}return this.children_.getPredecessorKey(s)}getFirstChildName(s){const u=this.resolveIndex_(s);if(u){const y=u.minKey();return y&&y.name}return this.children_.minKey()}getFirstChild(s){const u=this.getFirstChildName(s);return u?new vn(u,this.children_.get(u)):null}getLastChildName(s){const u=this.resolveIndex_(s);if(u){const y=u.maxKey();return y&&y.name}return this.children_.maxKey()}getLastChild(s){const u=this.getLastChildName(s);return u?new vn(u,this.children_.get(u)):null}forEachChild(s,u){const y=this.resolveIndex_(s);return y?y.inorderTraversal(D=>u(D.name,D.node)):this.children_.inorderTraversal(u)}getIterator(s){return this.getIteratorFrom(s.minPost(),s)}getIteratorFrom(s,u){const y=this.resolveIndex_(u);if(y)return y.getIteratorFrom(s,D=>D);{const D=this.children_.getIteratorFrom(s.name,vn.Wrap);let x=D.peek();for(;null!=x&&u.compare(x,s)<0;)D.getNext(),x=D.peek();return D}}getReverseIterator(s){return this.getReverseIteratorFrom(s.maxPost(),s)}getReverseIteratorFrom(s,u){const y=this.resolveIndex_(u);if(y)return y.getReverseIteratorFrom(s,D=>D);{const D=this.children_.getReverseIteratorFrom(s.name,vn.Wrap);let x=D.peek();for(;null!=x&&u.compare(x,s)>0;)D.getNext(),x=D.peek();return D}}compareTo(s){return this.isEmpty()?s.isEmpty()?0:-1:s.isLeafNode()||s.isEmpty()?1:s===Pr?-1:0}withIndex(s){if(s===Cr||this.indexMap_.hasIndex(s))return this;{const u=this.indexMap_.addIndex(s,this.children_);return new o(this.children_,this.priorityNode_,u)}}isIndexed(s){return s===Cr||this.indexMap_.hasIndex(s)}equals(s){if(s===this)return!0;if(s.isLeafNode())return!1;{const u=s;if(this.getPriority().equals(u.getPriority())){if(this.children_.count()===u.children_.count()){const y=this.getIterator(an),D=u.getIterator(an);let x=y.getNext(),W=D.getNext();for(;x&&W;){if(x.name!==W.name||!x.node.equals(W.node))return!1;x=y.getNext(),W=D.getNext()}return null===x&&null===W}return!1}return!1}}resolveIndex_(s){return s===Cr?null:this.indexMap_.get(s.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const Pr=new class pi extends nn{constructor(){super(new ur(So),nn.EMPTY_NODE,fi.Default)}compareTo(i){return i===this?0:1}equals(i){return i===this}getPriority(){return this}getImmediateChild(i){return nn.EMPTY_NODE}isEmpty(){return!1}};function rr(o,i=null){if(null===o)return nn.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(i=o[".priority"]),(0,V.hu)(null===i||"string"==typeof i||"number"==typeof i||"object"==typeof i&&".sv"in i,"Invalid priority type found: "+typeof i),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new Gt(o,rr(i));if(o instanceof Array){let s=nn.EMPTY_NODE;return on(o,(u,y)=>{if((0,V.r3)(o,u)&&"."!==u.substring(0,1)){const D=rr(y);(D.isLeafNode()||!D.isEmpty())&&(s=s.updateImmediateChild(u,D))}}),s.updatePriority(rr(i))}{const s=[];let u=!1;if(on(o,(x,W)=>{if("."!==x.substring(0,1)){const q=rr(W);q.isEmpty()||(u=u||!q.getPriority().isEmpty(),s.push(new vn(x,q)))}}),0===s.length)return nn.EMPTY_NODE;const D=tt(s,Fn,x=>x.name,So);if(u){const x=tt(s,an.getCompare());return new nn(D,rr(i),new fi({".priority":x},{".priority":an}))}return new nn(D,rr(i),fi.Default)}}Object.defineProperties(vn,{MIN:{value:new vn(yr,nn.EMPTY_NODE)},MAX:{value:new vn(ct,Pr)}}),ua.__EMPTY_NODE=nn.EMPTY_NODE,Gt.__childrenNodeConstructor=nn,function Go(o){Oi=o}(Pr),function Ao(o){ca=o}(Pr),function xi(o){Ss=o}(rr);class ps extends lr{constructor(i){super(),this.indexPath_=i,(0,V.hu)(!cn(i)&&".priority"!==ht(i),"Can't create PathIndex with empty path or .priority key")}extractChild(i){return i.getChild(this.indexPath_)}isDefinedOn(i){return!i.getChild(this.indexPath_).isEmpty()}compare(i,s){const u=this.extractChild(i.node),y=this.extractChild(s.node),D=u.compareTo(y);return 0===D?Zn(i.name,s.name):D}makePost(i,s){const u=rr(i),y=nn.EMPTY_NODE.updateChild(this.indexPath_,u);return new vn(s,y)}maxPost(){const i=nn.EMPTY_NODE.updateChild(this.indexPath_,Pr);return new vn(ct,i)}toString(){return Wr(this.indexPath_,0).join("/")}}const da=new class js extends lr{compare(i,s){const u=i.node.compareTo(s.node);return 0===u?Zn(i.name,s.name):u}isDefinedOn(i){return!0}indexedValueChanged(i,s){return!i.equals(s)}minPost(){return vn.MIN}maxPost(){return vn.MAX}makePost(i,s){const u=rr(i);return new vn(s,u)}toString(){return".value"}};function Ro(o){return{type:"value",snapshotNode:o}}function dr(o,i){return{type:"child_added",snapshotNode:i,childName:o}}function Xr(o,i){return{type:"child_removed",snapshotNode:i,childName:o}}function $s(o,i,s){return{type:"child_changed",snapshotNode:i,childName:o,oldSnap:s}}class qi{constructor(i){this.index_=i}updateChild(i,s,u,y,D,x){(0,V.hu)(i.isIndexed(this.index_),"A node must be indexed if only a child is updated");const W=i.getImmediateChild(s);return W.getChild(y).equals(u.getChild(y))&&W.isEmpty()===u.isEmpty()||(null!=x&&(u.isEmpty()?i.hasChild(s)?x.trackChildChange(Xr(s,W)):(0,V.hu)(i.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):W.isEmpty()?x.trackChildChange(dr(s,u)):x.trackChildChange($s(s,u,W))),i.isLeafNode()&&u.isEmpty())?i:i.updateImmediateChild(s,u).withIndex(this.index_)}updateFullNode(i,s,u){return null!=u&&(i.isLeafNode()||i.forEachChild(an,(y,D)=>{s.hasChild(y)||u.trackChildChange(Xr(y,D))}),s.isLeafNode()||s.forEachChild(an,(y,D)=>{if(i.hasChild(y)){const x=i.getImmediateChild(y);x.equals(D)||u.trackChildChange($s(y,D,x))}else u.trackChildChange(dr(y,D))})),s.withIndex(this.index_)}updatePriority(i,s){return i.isEmpty()?nn.EMPTY_NODE:i.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ko{constructor(i){this.indexedFilter_=new qi(i.getIndex()),this.index_=i.getIndex(),this.startPost_=Ko.getStartPost_(i),this.endPost_=Ko.getEndPost_(i),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(i){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),i)<=0:this.index_.compare(this.getStartPost(),i)<0,u=this.endIsInclusive_?this.index_.compare(i,this.getEndPost())<=0:this.index_.compare(i,this.getEndPost())<0;return s&&u}updateChild(i,s,u,y,D,x){return this.matches(new vn(s,u))||(u=nn.EMPTY_NODE),this.indexedFilter_.updateChild(i,s,u,y,D,x)}updateFullNode(i,s,u){s.isLeafNode()&&(s=nn.EMPTY_NODE);let y=s.withIndex(this.index_);y=y.updatePriority(nn.EMPTY_NODE);const D=this;return s.forEachChild(an,(x,W)=>{D.matches(new vn(x,W))||(y=y.updateImmediateChild(x,nn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(i,y,u)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(i){if(i.hasStart()){const s=i.getIndexStartName();return i.getIndex().makePost(i.getIndexStartValue(),s)}return i.getIndex().minPost()}static getEndPost_(i){if(i.hasEnd()){const s=i.getIndexEndName();return i.getIndex().makePost(i.getIndexEndValue(),s)}return i.getIndex().maxPost()}}class Gs{constructor(i){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const u=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?u<=0:u<0},this.withinEndPost=s=>{const u=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?u<=0:u<0},this.rangedFilter_=new Ko(i),this.index_=i.getIndex(),this.limit_=i.getLimit(),this.reverse_=!i.isViewFromLeft(),this.startIsInclusive_=!i.startAfterSet_,this.endIsInclusive_=!i.endBeforeSet_}updateChild(i,s,u,y,D,x){return this.rangedFilter_.matches(new vn(s,u))||(u=nn.EMPTY_NODE),i.getImmediateChild(s).equals(u)?i:i.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(i,s,u,y,D,x):this.fullLimitUpdateChild_(i,s,u,D,x)}updateFullNode(i,s,u){let y;if(s.isLeafNode()||s.isEmpty())y=nn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<s.numChildren()&&s.isIndexed(this.index_)){let D;y=nn.EMPTY_NODE.withIndex(this.index_),D=this.reverse_?s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let x=0;for(;D.hasNext()&&x<this.limit_;){const W=D.getNext();if(this.withinDirectionalStart(W)){if(!this.withinDirectionalEnd(W))break;y=y.updateImmediateChild(W.name,W.node),x++}}}else{let D;y=s.withIndex(this.index_),y=y.updatePriority(nn.EMPTY_NODE),D=this.reverse_?y.getReverseIterator(this.index_):y.getIterator(this.index_);let x=0;for(;D.hasNext();){const W=D.getNext();x<this.limit_&&this.withinDirectionalStart(W)&&this.withinDirectionalEnd(W)?x++:y=y.updateImmediateChild(W.name,nn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(i,y,u)}updatePriority(i,s){return i}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(i,s,u,y,D){let x;if(this.reverse_){const We=this.index_.getCompare();x=(rt,Pt)=>We(Pt,rt)}else x=this.index_.getCompare();const W=i;(0,V.hu)(W.numChildren()===this.limit_,"");const q=new vn(s,u),le=this.reverse_?W.getFirstChild(this.index_):W.getLastChild(this.index_),Le=this.rangedFilter_.matches(q);if(W.hasChild(s)){const We=W.getImmediateChild(s);let rt=y.getChildAfterChild(this.index_,le,this.reverse_);for(;null!=rt&&(rt.name===s||W.hasChild(rt.name));)rt=y.getChildAfterChild(this.index_,rt,this.reverse_);const Pt=null==rt?1:x(rt,q);if(Le&&!u.isEmpty()&&Pt>=0)return D?.trackChildChange($s(s,u,We)),W.updateImmediateChild(s,u);{D?.trackChildChange(Xr(s,We));const Yn=W.updateImmediateChild(s,nn.EMPTY_NODE);return null!=rt&&this.rangedFilter_.matches(rt)?(D?.trackChildChange(dr(rt.name,rt.node)),Yn.updateImmediateChild(rt.name,rt.node)):Yn}}return u.isEmpty()?i:Le&&x(le,q)>=0?(null!=D&&(D.trackChildChange(Xr(le.name,le.node)),D.trackChildChange(dr(s,u))),W.updateImmediateChild(s,u).updateImmediateChild(le.name,nn.EMPTY_NODE)):i}}class ho{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=an}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:yr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ct}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===an}copy(){const i=new ho;return i.limitSet_=this.limitSet_,i.limit_=this.limit_,i.startSet_=this.startSet_,i.startAfterSet_=this.startAfterSet_,i.indexStartValue_=this.indexStartValue_,i.startNameSet_=this.startNameSet_,i.indexStartName_=this.indexStartName_,i.endSet_=this.endSet_,i.endBeforeSet_=this.endBeforeSet_,i.indexEndValue_=this.indexEndValue_,i.endNameSet_=this.endNameSet_,i.indexEndName_=this.indexEndName_,i.index_=this.index_,i.viewFrom_=this.viewFrom_,i}}function Po(o,i,s){const u=o.copy();return u.startSet_=!0,void 0===i&&(i=null),u.indexStartValue_=i,null!=s?(u.startNameSet_=!0,u.indexStartName_=s):(u.startNameSet_=!1,u.indexStartName_=""),u}function Oo(o,i,s){const u=o.copy();return u.endSet_=!0,void 0===i&&(i=null),u.indexEndValue_=i,void 0!==s?(u.endNameSet_=!0,u.indexEndName_=s):(u.endNameSet_=!1,u.indexEndName_=""),u}function zs(o,i){const s=o.copy();return s.index_=i,s}function As(o){const i={};if(o.isDefault())return i;let s;if(o.index_===an?s="$priority":o.index_===da?s="$value":o.index_===Cr?s="$key":((0,V.hu)(o.index_ instanceof ps,"Unrecognized index type!"),s=o.index_.toString()),i.orderBy=(0,V.Wl)(s),o.startSet_){const u=o.startAfterSet_?"startAfter":"startAt";i[u]=(0,V.Wl)(o.indexStartValue_),o.startNameSet_&&(i[u]+=","+(0,V.Wl)(o.indexStartName_))}if(o.endSet_){const u=o.endBeforeSet_?"endBefore":"endAt";i[u]=(0,V.Wl)(o.indexEndValue_),o.endNameSet_&&(i[u]+=","+(0,V.Wl)(o.indexEndName_))}return o.limitSet_&&(o.isViewFromLeft()?i.limitToFirst=o.limit_:i.limitToLast=o.limit_),i}function Yo(o){const i={};if(o.startSet_&&(i.sp=o.indexStartValue_,o.startNameSet_&&(i.sn=o.indexStartName_),i.sin=!o.startAfterSet_),o.endSet_&&(i.ep=o.indexEndValue_,o.endNameSet_&&(i.en=o.indexEndName_),i.ein=!o.endBeforeSet_),o.limitSet_){i.l=o.limit_;let s=o.viewFrom_;""===s&&(s=o.isViewFromLeft()?"l":"r"),i.vf=s}return o.index_!==an&&(i.i=o.index_.toString()),i}class mi extends Rr{constructor(i,s,u,y){super(),this.repoInfo_=i,this.onDataUpdate_=s,this.authTokenProvider_=u,this.appCheckTokenProvider_=y,this.log_=hr("p:rest:"),this.listens_={}}reportStats(i){throw new Error("Method not implemented.")}static getListenId_(i,s){return void 0!==s?"tag$"+s:((0,V.hu)(i._queryParams.isDefault(),"should have a tag if it's not a default query."),i._path.toString())}listen(i,s,u,y){const D=i._path.toString();this.log_("Listen called for "+D+" "+i._queryIdentifier);const x=mi.getListenId_(i,u),W={};this.listens_[x]=W;const q=As(i._queryParams);this.restRequest_(D+".json",q,(le,Le)=>{let We=Le;if(404===le&&(We=null,le=null),null===le&&this.onDataUpdate_(D,We,!1,u),(0,V.DV)(this.listens_,x)===W){let rt;rt=le?401===le?"permission_denied":"rest_error:"+le:"ok",y(rt,null)}})}unlisten(i,s){const u=mi.getListenId_(i,s);delete this.listens_[u]}get(i){const s=As(i._queryParams),u=i._path.toString(),y=new V.BH;return this.restRequest_(u+".json",s,(D,x)=>{let W=x;404===D&&(W=null,D=null),null===D?(this.onDataUpdate_(u,W,!1,null),y.resolve(W)):y.reject(new Error(W))}),y.promise}refreshAuthToken(i){}restRequest_(i,s={},u){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([y,D])=>{y&&y.accessToken&&(s.auth=y.accessToken),D&&D.token&&(s.ac=D.token);const x=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+i+"?ns="+this.repoInfo_.namespace+(0,V.xO)(s);this.log_("Sending REST request for "+x);const W=new XMLHttpRequest;W.onreadystatechange=()=>{if(u&&4===W.readyState){this.log_("REST Response for "+x+" received. status:",W.status,"response:",W.responseText);let q=null;if(W.status>=200&&W.status<300){try{q=(0,V.cI)(W.responseText)}catch{xn("Failed to parse JSON response for "+x+": "+W.responseText)}u(null,q)}else 401!==W.status&&404!==W.status&&xn("Got unsuccessful REST response for "+x+" Status: "+W.status),u(W.status);u=null}},W.open("GET",x,!0),W.send()})}}class A{constructor(){this.rootNode_=nn.EMPTY_NODE}getNode(i){return this.rootNode_.getChild(i)}updateSnapshot(i,s){this.rootNode_=this.rootNode_.updateChild(i,s)}}function F(){return{value:null,children:new Map}}function P(o,i,s){if(cn(i))o.value=s,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(i,s);else{const u=ht(i);o.children.has(u)||o.children.set(u,F()),P(o.children.get(u),i=Ht(i),s)}}function G(o,i){if(cn(i))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;{const s=o.value;return o.value=null,s.forEachChild(an,(u,y)=>{P(o,new et(u),y)}),G(o,i)}}if(o.children.size>0){const s=ht(i);return i=Ht(i),o.children.has(s)&&G(o.children.get(s),i)&&o.children.delete(s),0===o.children.size}return!0}function re(o,i,s){null!==o.value?s(i,o.value):function Oe(o,i){o.children.forEach((s,u)=>{i(u,s)})}(o,(u,y)=>{re(y,new et(i.toString()+"/"+u),s)})}class Be{constructor(i){this.collection_=i,this.last_=null}get(){const i=this.collection_.get(),s=Object.assign({},i);return this.last_&&on(this.last_,(u,y)=>{s[u]=s[u]-y}),this.last_=i,s}}class Un{constructor(i,s){this.server_=s,this.statsToReport_={},this.statsListener_=new Be(i);const u=1e4+2e4*Math.random();hn(this.reportStats_.bind(this),Math.floor(u))}reportStats_(){const i=this.statsListener_.get(),s={};let u=!1;on(i,(y,D)=>{D>0&&(0,V.r3)(this.statsToReport_,y)&&(s[y]=D,u=!0)}),u&&this.server_.reportStats(s),hn(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var en=(()=>{return(o=en||(en={}))[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",en;var o})();function sr(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class ei{constructor(i,s,u){this.path=i,this.affectedTree=s,this.revert=u,this.type=en.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(i){if(cn(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new et(i));return new ei(gt(),s,this.revert)}}return(0,V.hu)(ht(this.path)===i,"operationForChild called for unrelated child."),new ei(Ht(this.path),this.affectedTree,this.revert)}}class ti{constructor(i,s){this.source=i,this.path=s,this.type=en.LISTEN_COMPLETE}operationForChild(i){return cn(this.path)?new ti(this.source,gt()):new ti(this.source,Ht(this.path))}}class zr{constructor(i,s,u){this.source=i,this.path=s,this.snap=u,this.type=en.OVERWRITE}operationForChild(i){return cn(this.path)?new zr(this.source,gt(),this.snap.getImmediateChild(i)):new zr(this.source,Ht(this.path),this.snap)}}class Ni{constructor(i,s,u){this.source=i,this.path=s,this.children=u,this.type=en.MERGE}operationForChild(i){if(cn(this.path)){const s=this.children.subtree(new et(i));return s.isEmpty()?null:s.value?new zr(this.source,gt(),s.value):new Ni(this.source,gt(),s)}return(0,V.hu)(ht(this.path)===i,"Can't get a merge for a child not on the path of the operation"),new Ni(this.source,Ht(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Br{constructor(i,s,u){this.node_=i,this.fullyInitialized_=s,this.filtered_=u}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(i){if(cn(i))return this.isFullyInitialized()&&!this.filtered_;const s=ht(i);return this.isCompleteForChild(s)}isCompleteForChild(i){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(i)}getNode(){return this.node_}}class Qi{constructor(i){this.query_=i,this.index_=this.query_._queryParams.getIndex()}}function Xi(o,i,s,u,y,D){const x=u.filter(W=>W.type===s);x.sort((W,q)=>function ha(o,i,s){if(null==i.childName||null==s.childName)throw(0,V.g5)("Should only compare child_ events.");const u=new vn(i.childName,i.snapshotNode),y=new vn(s.childName,s.snapshotNode);return o.index_.compare(u,y)}(o,W,q)),x.forEach(W=>{const q=function br(o,i,s){return"value"===i.type||"child_removed"===i.type||(i.prevName=s.getPredecessorChildName(i.childName,i.snapshotNode,o.index_)),i}(o,W,D);y.forEach(le=>{le.respondsTo(W.type)&&i.push(le.createEvent(q,o.query_))})})}function fa(o,i){return{eventCache:o,serverCache:i}}function Qo(o,i,s,u){return fa(new Br(i,s,u),o.serverCache)}function pa(o,i,s,u){return fa(o.eventCache,new Br(i,s,u))}function Ms(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function ms(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let _s;class fn{constructor(i,s=(()=>(_s||(_s=new ur(wi)),_s))()){this.value=i,this.children=s}static fromObject(i){let s=new fn(null);return on(i,(u,y)=>{s=s.set(new et(u),y)}),s}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(i,s){if(null!=this.value&&s(this.value))return{path:gt(),value:this.value};if(cn(i))return null;{const u=ht(i),y=this.children.get(u);if(null!==y){const D=y.findRootMostMatchingPathAndValue(Ht(i),s);return null!=D?{path:Xn(new et(u),D.path),value:D.value}:null}return null}}findRootMostValueAndPath(i){return this.findRootMostMatchingPathAndValue(i,()=>!0)}subtree(i){if(cn(i))return this;{const s=ht(i),u=this.children.get(s);return null!==u?u.subtree(Ht(i)):new fn(null)}}set(i,s){if(cn(i))return new fn(s,this.children);{const u=ht(i),D=(this.children.get(u)||new fn(null)).set(Ht(i),s),x=this.children.insert(u,D);return new fn(this.value,x)}}remove(i){if(cn(i))return this.children.isEmpty()?new fn(null):new fn(null,this.children);{const s=ht(i),u=this.children.get(s);if(u){const y=u.remove(Ht(i));let D;return D=y.isEmpty()?this.children.remove(s):this.children.insert(s,y),null===this.value&&D.isEmpty()?new fn(null):new fn(this.value,D)}return this}}get(i){if(cn(i))return this.value;{const s=ht(i),u=this.children.get(s);return u?u.get(Ht(i)):null}}setTree(i,s){if(cn(i))return s;{const u=ht(i),D=(this.children.get(u)||new fn(null)).setTree(Ht(i),s);let x;return x=D.isEmpty()?this.children.remove(u):this.children.insert(u,D),new fn(this.value,x)}}fold(i){return this.fold_(gt(),i)}fold_(i,s){const u={};return this.children.inorderTraversal((y,D)=>{u[y]=D.fold_(Xn(i,y),s)}),s(i,this.value,u)}findOnPath(i,s){return this.findOnPath_(i,gt(),s)}findOnPath_(i,s,u){const y=!!this.value&&u(s,this.value);if(y)return y;if(cn(i))return null;{const D=ht(i),x=this.children.get(D);return x?x.findOnPath_(Ht(i),Xn(s,D),u):null}}foreachOnPath(i,s){return this.foreachOnPath_(i,gt(),s)}foreachOnPath_(i,s,u){if(cn(i))return this;{this.value&&u(s,this.value);const y=ht(i),D=this.children.get(y);return D?D.foreachOnPath_(Ht(i),Xn(s,y),u):new fn(null)}}foreach(i){this.foreach_(gt(),i)}foreach_(i,s){this.children.inorderTraversal((u,y)=>{y.foreach_(Xn(i,u),s)}),this.value&&s(i,this.value)}foreachChild(i){this.children.inorderTraversal((s,u)=>{u.value&&i(s,u.value)})}}class Hr{constructor(i){this.writeTree_=i}static empty(){return new Hr(new fn(null))}}function po(o,i,s){if(cn(i))return new Hr(new fn(s));{const u=o.writeTree_.findRootMostValueAndPath(i);if(null!=u){const y=u.path;let D=u.value;const x=nr(y,i);return D=D.updateChild(x,s),new Hr(o.writeTree_.set(y,D))}{const y=new fn(s),D=o.writeTree_.setTree(i,y);return new Hr(D)}}}function Zr(o,i,s){let u=o;return on(s,(y,D)=>{u=po(u,Xn(i,y),D)}),u}function ga(o,i){if(cn(i))return Hr.empty();{const s=o.writeTree_.setTree(i,new fn(null));return new Hr(s)}}function Zs(o,i){return null!=_i(o,i)}function _i(o,i){const s=o.writeTree_.findRootMostValueAndPath(i);return null!=s?o.writeTree_.get(s.path).getChild(nr(s.path,i)):null}function go(o){const i=[],s=o.writeTree_.value;return null!=s?s.isLeafNode()||s.forEachChild(an,(u,y)=>{i.push(new vn(u,y))}):o.writeTree_.children.inorderTraversal((u,y)=>{null!=y.value&&i.push(new vn(u,y.value))}),i}function Rs(o,i){if(cn(i))return o;{const s=_i(o,i);return new Hr(null!=s?new fn(s):o.writeTree_.subtree(i))}}function mo(o){return o.writeTree_.isEmpty()}function ys(o,i){return xr(gt(),o.writeTree_,i)}function xr(o,i,s){if(null!=i.value)return s.updateChild(o,i.value);{let u=null;return i.children.inorderTraversal((y,D)=>{".priority"===y?((0,V.hu)(null!==D.value,"Priority writes must always be leaf nodes"),u=D.value):s=xr(Xn(o,y),D,s)}),!s.getChild(o).isEmpty()&&null!==u&&(s=s.updateChild(Xn(o,".priority"),u)),s}}function yi(o,i){return Fo(i,o)}function Ga(o,i){if(o.snap)return Dr(o.path,i);for(const s in o.children)if(o.children.hasOwnProperty(s)&&Dr(Xn(o.path,s),i))return!0;return!1}function dl(o){return o.visible}function es(o,i,s){let u=Hr.empty();for(let y=0;y<o.length;++y){const D=o[y];if(i(D)){const x=D.path;let W;if(D.snap)Dr(s,x)?(W=nr(s,x),u=po(u,W,D.snap)):Dr(x,s)&&(W=nr(x,s),u=po(u,gt(),D.snap.getChild(W)));else{if(!D.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(Dr(s,x))W=nr(s,x),u=Zr(u,W,D.children);else if(Dr(x,s))if(W=nr(x,s),cn(W))u=Zr(u,gt(),D.children);else{const q=(0,V.DV)(D.children,ht(W));if(q){const le=q.getChild(Ht(W));u=po(u,gt(),le)}}}}}return u}function ma(o,i,s,u,y){if(u||y){const D=Rs(o.visibleWrites,i);return!y&&mo(D)?s:y||null!=s||Zs(D,gt())?ys(es(o.allWrites,function(le){return(le.visible||y)&&(!u||!~u.indexOf(le.writeId))&&(Dr(le.path,i)||Dr(i,le.path))},i),s||nn.EMPTY_NODE):null}{const D=_i(o.visibleWrites,i);if(null!=D)return D;{const x=Rs(o.visibleWrites,i);return mo(x)?s:null!=s||Zs(x,gt())?ys(x,s||nn.EMPTY_NODE):null}}}function vs(o,i,s,u){return ma(o.writeTree,o.treePath,i,s,u)}function xs(o,i){return function Ps(o,i,s){let u=nn.EMPTY_NODE;const y=_i(o.visibleWrites,i);if(y)return y.isLeafNode()||y.forEachChild(an,(D,x)=>{u=u.updateImmediateChild(D,x)}),u;if(s){const D=Rs(o.visibleWrites,i);return s.forEachChild(an,(x,W)=>{const q=ys(Rs(D,new et(x)),W);u=u.updateImmediateChild(x,q)}),go(D).forEach(x=>{u=u.updateImmediateChild(x.name,x.node)}),u}return go(Rs(o.visibleWrites,i)).forEach(x=>{u=u.updateImmediateChild(x.name,x.node)}),u}(o.writeTree,o.treePath,i)}function Ns(o,i,s,u){return function No(o,i,s,u,y){(0,V.hu)(u||y,"Either existingEventSnap or existingServerSnap must exist");const D=Xn(i,s);if(Zs(o.visibleWrites,D))return null;{const x=Rs(o.visibleWrites,D);return mo(x)?y.getChild(s):ys(x,y.getChild(s))}}(o.writeTree,o.treePath,i,s,u)}function ko(o,i){return function Os(o,i){return _i(o.visibleWrites,i)}(o.writeTree,Xn(o.treePath,i))}function gr(o,i,s){return function _a(o,i,s,u){const y=Xn(i,s),D=_i(o.visibleWrites,y);return null!=D?D:u.isCompleteForChild(s)?ys(Rs(o.visibleWrites,y),u.getNode().getImmediateChild(s)):null}(o.writeTree,o.treePath,i,s)}function yo(o,i){return Fo(Xn(o.treePath,i),o.writeTree)}function Fo(o,i){return{treePath:o,writeTree:i}}class Xo{constructor(){this.changeMap=new Map}trackChildChange(i){const s=i.type,u=i.childName;(0,V.hu)("child_added"===s||"child_changed"===s||"child_removed"===s,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==u,"Only non-priority child changes can be tracked.");const y=this.changeMap.get(u);if(y){const D=y.type;if("child_added"===s&&"child_removed"===D)this.changeMap.set(u,$s(u,i.snapshotNode,y.snapshotNode));else if("child_removed"===s&&"child_added"===D)this.changeMap.delete(u);else if("child_removed"===s&&"child_changed"===D)this.changeMap.set(u,Xr(u,y.oldSnap));else if("child_changed"===s&&"child_added"===D)this.changeMap.set(u,dr(u,i.snapshotNode));else{if("child_changed"!==s||"child_changed"!==D)throw(0,V.g5)("Illegal combination of changes: "+i+" occurred after "+y);this.changeMap.set(u,$s(u,i.snapshotNode,y.oldSnap))}}else this.changeMap.set(u,i)}getChanges(){return Array.from(this.changeMap.values())}}const ks=new class Kr{getCompleteChild(i){return null}getChildAfterChild(i,s,u){return null}};class vo{constructor(i,s,u=null){this.writes_=i,this.viewCache_=s,this.optCompleteServerCache_=u}getCompleteChild(i){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(i))return s.getNode().getImmediateChild(i);{const u=null!=this.optCompleteServerCache_?new Br(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gr(this.writes_,i,u)}}getChildAfterChild(i,s,u){const y=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ms(this.viewCache_),D=function Aa(o,i,s,u,y,D){return function ki(o,i,s,u,y,D,x){let W;const q=Rs(o.visibleWrites,i),le=_i(q,gt());if(null!=le)W=le;else{if(null==s)return[];W=ys(q,s)}if(W=W.withIndex(x),W.isEmpty()||W.isLeafNode())return[];{const Le=[],We=x.getCompare(),rt=D?W.getReverseIteratorFrom(u,x):W.getIteratorFrom(u,x);let Pt=rt.getNext();for(;Pt&&Le.length<y;)0!==We(Pt,u)&&Le.push(Pt),Pt=rt.getNext();return Le}}(o.writeTree,o.treePath,i,s,u,y,D)}(this.writes_,y,s,1,u,i);return 0===D.length?null:D[0]}}function ns(o,i,s,u,y,D){const x=i.eventCache;if(null!=ko(u,s))return i;{let W,q;if(cn(s))if((0,V.hu)(i.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),i.serverCache.isFiltered()){const le=ms(i),We=xs(u,le instanceof nn?le:nn.EMPTY_NODE);W=o.filter.updateFullNode(i.eventCache.getNode(),We,D)}else{const le=vs(u,ms(i));W=o.filter.updateFullNode(i.eventCache.getNode(),le,D)}else{const le=ht(s);if(".priority"===le){(0,V.hu)(1===tr(s),"Can't have a priority with additional path components");const Le=x.getNode();q=i.serverCache.getNode();const We=Ns(u,s,Le,q);W=null!=We?o.filter.updatePriority(Le,We):x.getNode()}else{const Le=Ht(s);let We;if(x.isCompleteForChild(le)){q=i.serverCache.getNode();const rt=Ns(u,s,x.getNode(),q);We=null!=rt?x.getNode().getImmediateChild(le).updateChild(Le,rt):x.getNode().getImmediateChild(le)}else We=gr(u,le,i.serverCache);W=null!=We?o.filter.updateChild(x.getNode(),le,We,Le,y,D):x.getNode()}}return Qo(i,W,x.isFullyInitialized()||cn(s),o.filter.filtersNodes())}}function Wn(o,i,s,u,y,D,x,W){const q=i.serverCache;let le;const Le=x?o.filter:o.filter.getIndexedFilter();if(cn(s))le=Le.updateFullNode(q.getNode(),u,null);else if(Le.filtersNodes()&&!q.isFiltered()){const Pt=q.getNode().updateChild(s,u);le=Le.updateFullNode(q.getNode(),Pt,null)}else{const Pt=ht(s);if(!q.isCompleteForPath(s)&&tr(s)>1)return i;const Wt=Ht(s),Ci=q.getNode().getImmediateChild(Pt).updateChild(Wt,u);le=".priority"===Pt?Le.updatePriority(q.getNode(),Ci):Le.updateChild(q.getNode(),Pt,Ci,Wt,ks,null)}const We=pa(i,le,q.isFullyInitialized()||cn(s),Le.filtersNodes());return ns(o,We,s,y,new vo(y,We,D),W)}function ya(o,i,s,u,y,D,x){const W=i.eventCache;let q,le;const Le=new vo(y,i,D);if(cn(s))le=o.filter.updateFullNode(i.eventCache.getNode(),u,x),q=Qo(i,le,!0,o.filter.filtersNodes());else{const We=ht(s);if(".priority"===We)le=o.filter.updatePriority(i.eventCache.getNode(),u),q=Qo(i,le,W.isFullyInitialized(),W.isFiltered());else{const rt=Ht(s),Pt=W.getNode().getImmediateChild(We);let Wt;if(cn(rt))Wt=u;else{const Yn=Le.getCompleteChild(We);Wt=null!=Yn?".priority"===cs(rt)&&Yn.getChild(Gi(rt)).isEmpty()?Yn:Yn.updateChild(rt,u):nn.EMPTY_NODE}q=Pt.equals(Wt)?i:Qo(i,o.filter.updateChild(W.getNode(),We,Wt,rt,Le,x),W.isFullyInitialized(),o.filter.filtersNodes())}}return q}function Ja(o,i){return o.eventCache.isCompleteForChild(i)}function ea(o,i,s){return s.foreach((u,y)=>{i=i.updateChild(u,y)}),i}function Ra(o,i,s,u,y,D,x,W){if(i.serverCache.getNode().isEmpty()&&!i.serverCache.isFullyInitialized())return i;let le,q=i;le=cn(s)?u:new fn(null).setTree(s,u);const Le=i.serverCache.getNode();return le.children.inorderTraversal((We,rt)=>{if(Le.hasChild(We)){const Wt=ea(0,i.serverCache.getNode().getImmediateChild(We),rt);q=Wn(o,q,new et(We),Wt,y,D,x,W)}}),le.children.inorderTraversal((We,rt)=>{const Pt=!i.serverCache.isCompleteForChild(We)&&null===rt.value;if(!Le.hasChild(We)&&!Pt){const Yn=ea(0,i.serverCache.getNode().getImmediateChild(We),rt);q=Wn(o,q,new et(We),Yn,y,D,x,W)}}),q}class el{constructor(i,s){this.query_=i,this.eventRegistrations_=[];const u=this.query_._queryParams,y=new qi(u.getIndex()),D=function gs(o){return o.loadsAllData()?new qi(o.getIndex()):o.hasLimit()?new Gs(o):new Ko(o)}(u);this.processor_=function Lo(o){return{filter:o}}(D);const x=s.serverCache,W=s.eventCache,q=y.updateFullNode(nn.EMPTY_NODE,x.getNode(),null),le=D.updateFullNode(nn.EMPTY_NODE,W.getNode(),null),Le=new Br(q,x.isFullyInitialized(),y.filtersNodes()),We=new Br(le,W.isFullyInitialized(),D.filtersNodes());this.viewCache_=fa(We,Le),this.eventGenerator_=new Qi(this.query_)}get query(){return this.query_}}function Pa(o,i){const s=ms(o.viewCache_);return s&&(o.query._queryParams.loadsAllData()||!cn(i)&&!s.getImmediateChild(ht(i)).isEmpty())?s.getChild(i):null}function Uo(o){return 0===o.eventRegistrations_.length}function Oa(o,i,s){const u=[];if(s){(0,V.hu)(null==i,"A cancel should cancel all event registrations.");const y=o.query._path;o.eventRegistrations_.forEach(D=>{const x=D.createCancelEvent(s,y);x&&u.push(x)})}if(i){let y=[];for(let D=0;D<o.eventRegistrations_.length;++D){const x=o.eventRegistrations_[D];if(x.matches(i)){if(i.hasAnyCallback()){y=y.concat(o.eventRegistrations_.slice(D+1));break}}else y.push(x)}o.eventRegistrations_=y}else o.eventRegistrations_=[];return u}function ri(o,i,s,u){i.type===en.MERGE&&null!==i.source.queryId&&((0,V.hu)(ms(o.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(Ms(o.viewCache_),"Missing event cache, even though we have a server cache"));const y=o.viewCache_,D=function Ks(o,i,s,u,y){const D=new Xo;let x,W;if(s.type===en.OVERWRITE){const le=s;le.source.fromUser?x=ya(o,i,le.path,le.snap,u,y,D):((0,V.hu)(le.source.fromServer,"Unknown source."),W=le.source.tagged||i.serverCache.isFiltered()&&!cn(le.path),x=Wn(o,i,le.path,le.snap,u,y,W,D))}else if(s.type===en.MERGE){const le=s;le.source.fromUser?x=function va(o,i,s,u,y,D,x){let W=i;return u.foreach((q,le)=>{const Le=Xn(s,q);Ja(i,ht(Le))&&(W=ya(o,W,Le,le,y,D,x))}),u.foreach((q,le)=>{const Le=Xn(s,q);Ja(i,ht(Le))||(W=ya(o,W,Le,le,y,D,x))}),W}(o,i,le.path,le.children,u,y,D):((0,V.hu)(le.source.fromServer,"Unknown source."),W=le.source.tagged||i.serverCache.isFiltered(),x=Ra(o,i,le.path,le.children,u,y,W,D))}else if(s.type===en.ACK_USER_WRITE){const le=s;x=le.revert?function ta(o,i,s,u,y,D){let x;if(null!=ko(u,s))return i;{const W=new vo(u,i,y),q=i.eventCache.getNode();let le;if(cn(s)||".priority"===ht(s)){let Le;if(i.serverCache.isFullyInitialized())Le=vs(u,ms(i));else{const We=i.serverCache.getNode();(0,V.hu)(We instanceof nn,"serverChildren would be complete if leaf node"),Le=xs(u,We)}le=o.filter.updateFullNode(q,Le,D)}else{const Le=ht(s);let We=gr(u,Le,i.serverCache);null==We&&i.serverCache.isCompleteForChild(Le)&&(We=q.getImmediateChild(Le)),le=null!=We?o.filter.updateChild(q,Le,We,Ht(s),W,D):i.eventCache.getNode().hasChild(Le)?o.filter.updateChild(q,Le,nn.EMPTY_NODE,Ht(s),W,D):q,le.isEmpty()&&i.serverCache.isFullyInitialized()&&(x=vs(u,ms(i)),x.isLeafNode()&&(le=o.filter.updateFullNode(le,x,D)))}return x=i.serverCache.isFullyInitialized()||null!=ko(u,gt()),Qo(i,le,x,o.filter.filtersNodes())}}(o,i,le.path,u,y,D):function Xa(o,i,s,u,y,D,x){if(null!=ko(y,s))return i;const W=i.serverCache.isFiltered(),q=i.serverCache;if(null!=u.value){if(cn(s)&&q.isFullyInitialized()||q.isCompleteForPath(s))return Wn(o,i,s,q.getNode().getChild(s),y,D,W,x);if(cn(s)){let le=new fn(null);return q.getNode().forEachChild(Cr,(Le,We)=>{le=le.set(new et(Le),We)}),Ra(o,i,s,le,y,D,W,x)}return i}{let le=new fn(null);return u.foreach((Le,We)=>{const rt=Xn(s,Le);q.isCompleteForPath(rt)&&(le=le.set(Le,q.getNode().getChild(rt)))}),Ra(o,i,s,le,y,D,W,x)}}(o,i,le.path,le.affectedTree,u,y,D)}else{if(s.type!==en.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+s.type);x=function Rl(o,i,s,u,y){const D=i.serverCache;return ns(o,pa(i,D.getNode(),D.isFullyInitialized()||cn(s),D.isFiltered()),s,u,ks,y)}(o,i,s.path,u,D)}const q=D.getChanges();return function ts(o,i,s){const u=i.eventCache;if(u.isFullyInitialized()){const y=u.getNode().isLeafNode()||u.getNode().isEmpty(),D=Ms(o);(s.length>0||!o.eventCache.isFullyInitialized()||y&&!u.getNode().equals(D)||!u.getNode().getPriority().equals(D.getPriority()))&&s.push(Ro(Ms(i)))}}(i,x,q),{viewCache:x,changes:q}}(o.processor_,y,i,s,u);return function Ma(o,i){(0,V.hu)(i.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(i.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,D.viewCache),(0,V.hu)(D.viewCache.serverCache.isFullyInitialized()||!y.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=D.viewCache,xa(o,D.changes,D.viewCache.eventCache.getNode(),null)}function xa(o,i,s,u){return function Ji(o,i,s,u){const y=[],D=[];return i.forEach(x=>{"child_changed"===x.type&&o.index_.indexedValueChanged(x.oldSnap,x.snapshotNode)&&D.push(function Ws(o,i){return{type:"child_moved",snapshotNode:i,childName:o}}(x.childName,x.snapshotNode))}),Xi(o,y,"child_removed",i,u,s),Xi(o,y,"child_added",i,u,s),Xi(o,y,"child_moved",D,u,s),Xi(o,y,"child_changed",i,u,s),Xi(o,y,"value",i,u,s),y}(o.eventGenerator_,i,s,u?[u]:o.eventRegistrations_)}let Eo,O;class qs{constructor(){this.views=new Map}}function Vo(o,i,s,u){const y=i.source.queryId;if(null!==y){const D=o.views.get(y);return(0,V.hu)(null!=D,"SyncTree gave us an op for an invalid query."),ri(D,i,s,u)}{let D=[];for(const x of o.views.values())D=D.concat(ri(x,i,s,u));return D}}function Ys(o,i,s,u,y){const x=o.views.get(i._queryIdentifier);if(!x){let W=vs(s,y?u:null),q=!1;W?q=!0:u instanceof nn?(W=xs(s,u),q=!1):(W=nn.EMPTY_NODE,q=!1);const le=fa(new Br(W,q,!1),new Br(u,y,!1));return new el(i,le)}return x}function Bo(o){const i=[];for(const s of o.views.values())s.query._queryParams.loadsAllData()||i.push(s);return i}function Vi(o,i){let s=null;for(const u of o.views.values())s=s||Pa(u,i);return s}function v(o,i){return i._queryParams.loadsAllData()?b(o):o.views.get(i._queryIdentifier)}function E(o,i){return null!=v(o,i)}function _(o){return null!=b(o)}function b(o){for(const i of o.views.values())if(i.query._queryParams.loadsAllData())return i;return null}let se=1;class Fe{constructor(i){this.listenProvider_=i,this.syncPointTree_=new fn(null),this.pendingWriteTree_=function _o(){return{visibleWrites:Hr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ft(o,i,s,u,y){return function Sa(o,i,s,u,y){(0,V.hu)(u>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===y&&(y=!0),o.allWrites.push({path:i,snap:s,writeId:u,visible:y}),y&&(o.visibleWrites=po(o.visibleWrites,i,s)),o.lastWriteId=u}(o.pendingWriteTree_,i,s,u,y),y?na(o,new zr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,s)):[]}function _t(o,i,s=!1){const u=function Wa(o,i){for(let s=0;s<o.allWrites.length;s++){const u=o.allWrites[s];if(u.writeId===i)return u}return null}(o.pendingWriteTree_,i);if(function Qa(o,i){const s=o.allWrites.findIndex(W=>W.writeId===i);(0,V.hu)(s>=0,"removeWrite called with nonexistent writeId.");const u=o.allWrites[s];o.allWrites.splice(s,1);let y=u.visible,D=!1,x=o.allWrites.length-1;for(;y&&x>=0;){const W=o.allWrites[x];W.visible&&(x>=s&&Ga(W,u.path)?y=!1:Dr(u.path,W.path)&&(D=!0)),x--}return!!y&&(D?(function Jo(o){o.visibleWrites=es(o.allWrites,dl,gt()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(u.snap?o.visibleWrites=ga(o.visibleWrites,u.path):on(u.children,q=>{o.visibleWrites=ga(o.visibleWrites,Xn(u.path,q))}),!0))}(o.pendingWriteTree_,i)){let D=new fn(null);return null!=u.snap?D=D.set(gt(),!0):on(u.children,x=>{D=D.set(new et(x),!0)}),na(o,new ei(u.path,D,s))}return[]}function Hn(o,i,s){return na(o,new zr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,s))}function Or(o,i,s,u,y=!1){const D=i._path,x=o.syncPointTree_.get(D);let W=[];if(x&&("default"===i._queryIdentifier||E(x,i))){const q=function Fi(o,i,s,u){const y=i._queryIdentifier,D=[];let x=[];const W=_(o);if("default"===y)for(const[q,le]of o.views.entries())x=x.concat(Oa(le,s,u)),Uo(le)&&(o.views.delete(q),le.query._queryParams.loadsAllData()||D.push(le.query));else{const q=o.views.get(y);q&&(x=x.concat(Oa(q,s,u)),Uo(q)&&(o.views.delete(y),q.query._queryParams.loadsAllData()||D.push(q.query)))}return W&&!_(o)&&D.push(new(function tl(){return(0,V.hu)(Eo,"Reference.ts has not been loaded"),Eo}())(i._repo,i._path)),{removed:D,events:x}}(x,i,s,u);(function Na(o){return 0===o.views.size})(x)&&(o.syncPointTree_=o.syncPointTree_.remove(D));const le=q.removed;if(W=q.events,!y){const Le=-1!==le.findIndex(rt=>rt._queryParams.loadsAllData()),We=o.syncPointTree_.findOnPath(D,(rt,Pt)=>_(Pt));if(Le&&!We){const rt=o.syncPointTree_.subtree(D);if(!rt.isEmpty()){const Pt=function jt(o){return o.fold((i,s,u)=>{if(s&&_(s))return[b(s)];{let y=[];return s&&(y=Bo(s)),on(u,(D,x)=>{y=y.concat(x)}),y}})}(rt);for(let Wt=0;Wt<Pt.length;++Wt){const Yn=Pt[Wt],Ci=Yn.query,jo=H(o,Yn);o.listenProvider_.startListening(Ut(Ci),ee(o,Ci),jo.hashFn,jo.onComplete)}}}!We&&le.length>0&&!u&&(Le?o.listenProvider_.stopListening(Ut(i),null):le.forEach(rt=>{const Pt=o.queryToTagMap.get(we(rt));o.listenProvider_.stopListening(Ut(rt),Pt)}))}!function An(o,i){for(let s=0;s<i.length;++s){const u=i[s];if(!u._queryParams.loadsAllData()){const y=we(u),D=o.queryToTagMap.get(y);o.queryToTagMap.delete(y),o.tagToQueryMap.delete(D)}}}(o,le)}return W}function Ea(o,i,s,u){const y=xe(o,u);if(null!=y){const D=ot(y),x=D.path,W=D.queryId,q=nr(x,i);return Rt(o,x,new zr(sr(W),q,s))}return[]}function Ls(o,i,s,u=!1){const y=i._path;let D=null,x=!1;o.syncPointTree_.foreachOnPath(y,(rt,Pt)=>{const Wt=nr(rt,y);D=D||Vi(Pt,Wt),x=x||_(Pt)});let q,W=o.syncPointTree_.get(y);W?(x=x||_(W),D=D||Vi(W,gt())):(W=new qs,o.syncPointTree_=o.syncPointTree_.set(y,W)),null!=D?q=!0:(q=!1,D=nn.EMPTY_NODE,o.syncPointTree_.subtree(y).foreachChild((Pt,Wt)=>{const Yn=Vi(Wt,gt());Yn&&(D=D.updateImmediateChild(Pt,Yn))}));const le=E(W,i);if(!le&&!i._queryParams.loadsAllData()){const rt=we(i);(0,V.hu)(!o.queryToTagMap.has(rt),"View does not exist, but we have a tag");const Pt=function dn(){return se++}();o.queryToTagMap.set(rt,Pt),o.tagToQueryMap.set(Pt,rt)}let We=function Za(o,i,s,u,y,D){const x=Ys(o,i,u,y,D);return o.views.has(i._queryIdentifier)||o.views.set(i._queryIdentifier,x),function za(o,i){o.eventRegistrations_.push(i)}(x,s),function rs(o,i){const s=o.viewCache_.eventCache,u=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(an,(D,x)=>{u.push(dr(D,x))}),s.isFullyInitialized()&&u.push(Ro(s.getNode())),xa(o,u,s.getNode(),i)}(x,s)}(W,i,s,yi(o.pendingWriteTree_,y),D,q);if(!le&&!x&&!u){const rt=v(W,i);We=We.concat(function vi(o,i,s){const u=i._path,y=ee(o,i),D=H(o,s),x=o.listenProvider_.startListening(Ut(i),y,D.hashFn,D.onComplete),W=o.syncPointTree_.subtree(u);if(y)(0,V.hu)(!_(W.value),"If we're adding a query, it shouldn't be shadowed");else{const q=W.fold((le,Le,We)=>{if(!cn(le)&&Le&&_(Le))return[b(Le).query];{let rt=[];return Le&&(rt=rt.concat(Bo(Le).map(Pt=>Pt.query))),on(We,(Pt,Wt)=>{rt=rt.concat(Wt)}),rt}});for(let le=0;le<q.length;++le){const Le=q[le];o.listenProvider_.stopListening(Ut(Le),ee(o,Le))}}return x}(o,i,rt))}return We}function ka(o,i,s){const y=o.pendingWriteTree_,D=o.syncPointTree_.findOnPath(i,(x,W)=>{const le=Vi(W,nr(x,i));if(le)return le});return ma(y,i,D,s,!0)}function na(o,i){return R(i,o.syncPointTree_,null,yi(o.pendingWriteTree_,gt()))}function R(o,i,s,u){if(cn(o.path))return N(o,i,s,u);{const y=i.get(gt());null==s&&null!=y&&(s=Vi(y,gt()));let D=[];const x=ht(o.path),W=o.operationForChild(x),q=i.children.get(x);if(q&&W){const le=s?s.getImmediateChild(x):null,Le=yo(u,x);D=D.concat(R(W,q,le,Le))}return y&&(D=D.concat(Vo(y,o,u,s))),D}}function N(o,i,s,u){const y=i.get(gt());null==s&&null!=y&&(s=Vi(y,gt()));let D=[];return i.children.inorderTraversal((x,W)=>{const q=s?s.getImmediateChild(x):null,le=yo(u,x),Le=o.operationForChild(x);Le&&(D=D.concat(N(Le,W,q,le)))}),y&&(D=D.concat(Vo(y,o,u,s))),D}function H(o,i){const s=i.query,u=ee(o,s);return{hashFn:()=>(function fu(o){return o.viewCache_.serverCache.getNode()}(i)||nn.EMPTY_NODE).hash(),onComplete:y=>{if("ok"===y)return u?function Fs(o,i,s){const u=xe(o,s);if(u){const y=ot(u),D=y.path,x=y.queryId,W=nr(D,i);return Rt(o,D,new ti(sr(x),W))}return[]}(o,s._path,u):function li(o,i){return na(o,new ti({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i))}(o,s._path);{const D=function Mt(o,i){let s="Unknown Error";"too_big"===o?s="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?s="Client doesn't have permission to access the desired data.":"unavailable"===o&&(s="The service is unavailable");const u=new Error(o+" at "+i._path.toString()+": "+s);return u.code=o.toUpperCase(),u}(y,s);return Or(o,s,null,D)}}}}function ee(o,i){const s=we(i);return o.queryToTagMap.get(s)}function we(o){return o._path.toString()+"$"+o._queryIdentifier}function xe(o,i){return o.tagToQueryMap.get(i)}function ot(o){const i=o.indexOf("$");return(0,V.hu)(-1!==i&&i<o.length-1,"Bad queryKey."),{queryId:o.substr(i+1),path:new et(o.substr(0,i))}}function Rt(o,i,s){const u=o.syncPointTree_.get(i);return(0,V.hu)(u,"Missing sync point for query tag that we're tracking"),Vo(u,s,yi(o.pendingWriteTree_,i),null)}function Ut(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(function X(){return(0,V.hu)(O,"Reference.ts has not been loaded"),O}())(o._repo,o._path):o}class Nr{constructor(i){this.node_=i}getImmediateChild(i){const s=this.node_.getImmediateChild(i);return new Nr(s)}node(){return this.node_}}class ra{constructor(i,s){this.syncTree_=i,this.path_=s}getImmediateChild(i){const s=Xn(this.path_,i);return new ra(this.syncTree_,s)}node(){return ka(this.syncTree_,this.path_)}}const Ho=function(o,i,s){return o&&"object"==typeof o?((0,V.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?Li(o[".sv"],i,s):"object"==typeof o[".sv"]?is(o[".sv"],i):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},Li=function(o,i,s){if("timestamp"===o)return s.timestamp;(0,V.hu)(!1,"Unexpected server value: "+o)},is=function(o,i,s){o.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const u=o.increment;"number"!=typeof u&&(0,V.hu)(!1,"Unexpected increment value: "+u);const y=i.node();if((0,V.hu)(null!==y&&typeof y<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!y.isLeafNode())return u;const x=y.getValue();return"number"!=typeof x?u:x+u},Fa=function(o,i,s,u){return Pl(i,new ra(s,o),u)},La=function(o,i,s){return Pl(o,new Nr(i),s)};function Pl(o,i,s){const u=o.getPriority().val(),y=Ho(u,i.getImmediateChild(".priority"),s);let D;if(o.isLeafNode()){const x=o,W=Ho(x.getValue(),i,s);return W!==x.getValue()||y!==x.getPriority().val()?new Gt(W,rr(y)):o}{const x=o;return D=x,y!==x.getPriority().val()&&(D=D.updatePriority(new Gt(y))),x.forEachChild(an,(W,q)=>{const le=Pl(q,i.getImmediateChild(W),s);le!==q&&(D=D.updateImmediateChild(W,le))}),D}}class Ol{constructor(i="",s=null,u={children:{},childCount:0}){this.name=i,this.parent=s,this.node=u}}function fl(o,i){let s=i instanceof et?i:new et(i),u=o,y=ht(s);for(;null!==y;){const D=(0,V.DV)(u.node.children,y)||{children:{},childCount:0};u=new Ol(y,u,D),s=Ht(s),y=ht(s)}return u}function Ua(o){return o.node.value}function ql(o,i){o.node.value=i,pl(o)}function Yl(o){return o.node.childCount>0}function Ca(o,i){on(o.node.children,(s,u)=>{i(new Ol(s,o,u))})}function pu(o,i,s,u){s&&!u&&i(o),Ca(o,y=>{pu(y,i,!0,u)}),s&&u&&i(o)}function xl(o){return new et(null===o.parent?o.name:xl(o.parent)+"/"+o.name)}function pl(o){null!==o.parent&&function sc(o,i,s){const u=function nl(o){return void 0===Ua(o)&&!Yl(o)}(s),y=(0,V.r3)(o.node.children,i);u&&y?(delete o.node.children[i],o.node.childCount--,pl(o)):!u&&!y&&(o.node.children[i]=s.node,o.node.childCount++,pl(o))}(o.parent,o.name,o)}const gu=/[\[\].#$\/\u0000-\u001F\u007F]/,Fu=/[\[\].#$\u0000-\u001F\u007F]/,rl=10485760,Nl=function(o){return"string"==typeof o&&0!==o.length&&!gu.test(o)},oc=function(o){return"string"==typeof o&&0!==o.length&&!Fu.test(o)},kl=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!Ft(o)||o&&"object"==typeof o&&(0,V.r3)(o,".sv")},wa=function(o,i,s,u){u&&void 0===i||Jl((0,V.gK)(o,"value"),i,s)},Jl=function(o,i,s){const u=s instanceof et?new ds(s,o):s;if(void 0===i)throw new Error(o+"contains undefined "+Ti(u));if("function"==typeof i)throw new Error(o+"contains a function "+Ti(u)+" with contents = "+i.toString());if(Ft(i))throw new Error(o+"contains "+i.toString()+" "+Ti(u));if("string"==typeof i&&i.length>rl/3&&(0,V.ug)(i)>rl)throw new Error(o+"contains a string greater than "+rl+" utf8 bytes "+Ti(u)+" ('"+i.substring(0,50)+"...')");if(i&&"object"==typeof i){let y=!1,D=!1;if(on(i,(x,W)=>{if(".value"===x)y=!0;else if(".priority"!==x&&".sv"!==x&&(D=!0,!Nl(x)))throw new Error(o+" contains an invalid key ("+x+") "+Ti(u)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function hi(o,i){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(i),o.byteLength_+=(0,V.ug)(i),To(o)})(u,x),Jl(o,W,u),function lo(o){const i=o.parts_.pop();o.byteLength_-=(0,V.ug)(i),o.parts_.length>0&&(o.byteLength_-=1)}(u)}),y&&D)throw new Error(o+' contains ".value" child '+Ti(u)+" in addition to actual children.")}},ac=function(o,i,s,u){if(u&&void 0===i)return;const y=(0,V.gK)(o,"values");if(!i||"object"!=typeof i||Array.isArray(i))throw new Error(y+" must be an object containing the children to replace.");const D=[];on(i,(x,W)=>{const q=new et(x);if(Jl(y,W,Xn(s,q)),".priority"===cs(q)&&!kl(W))throw new Error(y+"contains an invalid value for '"+q.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");D.push(q)}),function(o,i){let s,u;for(s=0;s<i.length;s++){u=i[s];const D=Wr(u);for(let x=0;x<D.length;x++)if((".priority"!==D[x]||x!==D.length-1)&&!Nl(D[x]))throw new Error(o+"contains an invalid key ("+D[x]+") in path "+u.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}i.sort(ao);let y=null;for(s=0;s<i.length;s++){if(u=i[s],null!==y&&Dr(y,u))throw new Error(o+"contains a path "+y.toString()+" that is ancestor of another path "+u.toString());y=u}}(y,D)},_u=function(o,i,s){if(!s||void 0!==i){if(Ft(i))throw new Error((0,V.gK)(o,"priority")+"is "+i.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!kl(i))throw new Error((0,V.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gl=function(o,i,s,u){if(!(u&&void 0===s||Nl(s)))throw new Error((0,V.gK)(o,i)+'was an invalid key = "'+s+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},il=function(o,i,s,u){if(!(u&&void 0===s||oc(s)))throw new Error((0,V.gK)(o,i)+'was an invalid path = "'+s+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},wo=function(o,i){if(".info"===ht(i))throw new Error(o+" failed = Can't modify data under /.info/")},Fl=function(o,i){const s=i.path.toString();if("string"!=typeof i.repoInfo.host||0===i.repoInfo.host.length||!Nl(i.repoInfo.namespace)&&"localhost"!==i.repoInfo.host.split(":")[0]||0!==s.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),oc(o)}(s))throw new Error((0,V.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ia{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ml(o,i){let s=null;for(let u=0;u<i.length;u++){const y=i[u],D=y.getPath();null!==s&&!bi(D,s.path)&&(o.eventLists_.push(s),s=null),null===s&&(s={events:[],path:D}),s.events.push(y)}s&&o.eventLists_.push(s)}function yu(o,i,s){ml(o,s),vu(o,u=>bi(u,i))}function Cs(o,i,s){ml(o,s),vu(o,u=>Dr(u,i)||Dr(i,u))}function vu(o,i){o.recursionDepth_++;let s=!0;for(let u=0;u<o.eventLists_.length;u++){const y=o.eventLists_[u];y&&(i(y.path)?(Ll(o.eventLists_[u]),o.eventLists_[u]=null):s=!1)}s&&(o.eventLists_=[]),o.recursionDepth_--}function Ll(o){for(let i=0;i<o.events.length;i++){const s=o.events[i];if(null!==s){o.events[i]=null;const u=s.getEventRunner();Qn&&_n("event: "+s.toString()),Vt(u)}}}const eu="repo_interrupt";class f{constructor(i,s,u,y){this.repoInfo_=i,this.forceRestClient_=s,this.authTokenProvider_=u,this.appCheckProvider_=y,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ia,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=F(),this.transactionQueueTree_=new Ol,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function p(o){const s=o.infoData_.getNode(new et(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+s}function S(o){return function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o}({timestamp:p(o)})}function $(o,i,s,u,y){o.dataUpdateCount++;const D=new et(i);s=o.interceptServerDataCallback_?o.interceptServerDataCallback_(i,s):s;let x=[];if(y)if(u){const q=(0,V.UI)(s,le=>rr(le));x=function Es(o,i,s,u){const y=xe(o,u);if(y){const D=ot(y),x=D.path,W=D.queryId,q=nr(x,i),le=fn.fromObject(s);return Rt(o,x,new Ni(sr(W),q,le))}return[]}(o.serverSyncTree_,D,q,y)}else{const q=rr(s);x=Ea(o.serverSyncTree_,D,q,y)}else if(u){const q=(0,V.UI)(s,le=>rr(le));x=function ii(o,i,s){const u=fn.fromObject(s);return na(o,new Ni({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},i,u))}(o.serverSyncTree_,D,q)}else{const q=rr(s);x=Hn(o.serverSyncTree_,D,q)}let W=D;x.length>0&&(W=Vl(o,D)),Cs(o.eventQueue_,W,x)}function de(o,i){vt(o,"connected",i),!1===i&&function Tr(o){Js(o,"onDisconnectEvents");const i=S(o),s=F();re(o.onDisconnect_,gt(),(y,D)=>{const x=Fa(y,D,o.serverSyncTree_,i);P(s,y,x)});let u=[];re(s,gt(),(y,D)=>{u=u.concat(Hn(o.serverSyncTree_,y,D));const x=nu(o,y);Vl(o,x)}),o.onDisconnect_=F(),Cs(o.eventQueue_,gt(),u)}(o)}function vt(o,i,s){const u=new et("/.info/"+i),y=rr(s);o.infoData_.updateSnapshot(u,y);const D=Hn(o.infoSyncTree_,u,y);Cs(o.eventQueue_,u,D)}function pt(o){return o.nextWriteId_++}function gn(o,i,s,u,y){Js(o,"set",{path:i.toString(),value:s,priority:u});const D=S(o),x=rr(s,u),W=ka(o.serverSyncTree_,i),q=La(x,W,D),le=pt(o),Le=ft(o.serverSyncTree_,i,q,le,!0);ml(o.eventQueue_,Le),o.server_.put(i.toString(),x.val(!0),(rt,Pt)=>{const Wt="ok"===rt;Wt||xn("set at "+i+" failed: "+rt);const Yn=_t(o.serverSyncTree_,le,!Wt);Cs(o.eventQueue_,i,Yn),Xs(0,y,rt,Pt)});const We=nu(o,i);Vl(o,We),Cs(o.eventQueue_,We,[])}function jr(o,i,s){o.server_.onDisconnectCancel(i.toString(),(u,y)=>{"ok"===u&&G(o.onDisconnect_,i),Xs(0,s,u,y)})}function oi(o,i,s,u){const y=rr(s);o.server_.onDisconnectPut(i.toString(),y.val(!0),(D,x)=>{"ok"===D&&P(o.onDisconnect_,i,y),Xs(0,u,D,x)})}function Qs(o,i,s){let u;u=".info"===ht(i._path)?Or(o.infoSyncTree_,i,s):Or(o.serverSyncTree_,i,s),yu(o.eventQueue_,i._path,u)}function Bi(o){o.persistentConnection_&&o.persistentConnection_.interrupt(eu)}function Js(o,...i){let s="";o.persistentConnection_&&(s=o.persistentConnection_.id+":"),_n(s,...i)}function Xs(o,i,s,u){i&&Vt(()=>{if("ok"===s)i(null);else{const y=(s||"error").toUpperCase();let D=y;u&&(D+=": "+u);const x=new Error(D);x.code=y,i(x)}})}function Va(o,i,s){return ka(o.serverSyncTree_,i,s)||nn.EMPTY_NODE}function Io(o,i=o.transactionQueueTree_){if(i||oa(o,i),Ua(i)){const s=Vu(o,i);(0,V.hu)(s.length>0,"Sending zero length transaction queue"),s.every(y=>0===y.status)&&function Hc(o,i,s){const u=s.map(le=>le.currentWriteId),y=Va(o,i,u);let D=y;const x=y.hash();for(let le=0;le<s.length;le++){const Le=s[le];(0,V.hu)(0===Le.status,"tryToSendTransactionQueue_: items in queue should all be run."),Le.status=1,Le.retryCount++;const We=nr(i,Le.path);D=D.updateChild(We,Le.currentOutputSnapshotRaw)}const W=D.val(!0),q=i;o.server_.put(q.toString(),W,le=>{Js(o,"transaction put response",{path:q.toString(),status:le});let Le=[];if("ok"===le){const We=[];for(let rt=0;rt<s.length;rt++)s[rt].status=2,Le=Le.concat(_t(o.serverSyncTree_,s[rt].currentWriteId)),s[rt].onComplete&&We.push(()=>s[rt].onComplete(null,!0,s[rt].currentOutputSnapshotResolved)),s[rt].unwatcher();oa(o,fl(o.transactionQueueTree_,i)),Io(o,o.transactionQueueTree_),Cs(o.eventQueue_,i,Le);for(let rt=0;rt<We.length;rt++)Vt(We[rt])}else{if("datastale"===le)for(let We=0;We<s.length;We++)s[We].status=3===s[We].status?4:0;else{xn("transaction at "+q.toString()+" failed: "+le);for(let We=0;We<s.length;We++)s[We].status=4,s[We].abortReason=le}Vl(o,i)}},x)}(o,xl(i),s)}else Yl(i)&&Ca(i,s=>{Io(o,s)})}function Vl(o,i){const s=Bl(o,i),u=xl(s);return function tu(o,i,s){if(0===i.length)return;const u=[];let y=[];const x=i.filter(W=>0===W.status).map(W=>W.currentWriteId);for(let W=0;W<i.length;W++){const q=i[W],le=nr(s,q.path);let We,Le=!1;if((0,V.hu)(null!==le,"rerunTransactionsUnderNode_: relativePath should not be null."),4===q.status)Le=!0,We=q.abortReason,y=y.concat(_t(o.serverSyncTree_,q.currentWriteId,!0));else if(0===q.status)if(q.retryCount>=25)Le=!0,We="maxretry",y=y.concat(_t(o.serverSyncTree_,q.currentWriteId,!0));else{const rt=Va(o,q.path,x);q.currentInputSnapshot=rt;const Pt=i[W].update(rt.val());if(void 0!==Pt){Jl("transaction failed: Data returned ",Pt,q.path);let Wt=rr(Pt);"object"==typeof Pt&&null!=Pt&&(0,V.r3)(Pt,".priority")||(Wt=Wt.updatePriority(rt.getPriority()));const Ci=q.currentWriteId,jo=S(o),Da=La(Wt,rt,jo);q.currentOutputSnapshotRaw=Wt,q.currentOutputSnapshotResolved=Da,q.currentWriteId=pt(o),x.splice(x.indexOf(Ci),1),y=y.concat(ft(o.serverSyncTree_,q.path,Da,q.currentWriteId,q.applyLocally)),y=y.concat(_t(o.serverSyncTree_,Ci,!0))}else Le=!0,We="nodata",y=y.concat(_t(o.serverSyncTree_,q.currentWriteId,!0))}Cs(o.eventQueue_,s,y),y=[],Le&&(i[W].status=2,setTimeout(i[W].unwatcher,Math.floor(0)),i[W].onComplete&&u.push("nodata"===We?()=>i[W].onComplete(null,!1,i[W].currentInputSnapshot):()=>i[W].onComplete(new Error(We),!1,null)))}oa(o,o.transactionQueueTree_);for(let W=0;W<u.length;W++)Vt(u[W]);Io(o,o.transactionQueueTree_)}(o,Vu(o,s),u),u}function Bl(o,i){let s,u=o.transactionQueueTree_;for(s=ht(i);null!==s&&void 0===Ua(u);)u=fl(u,s),s=ht(i=Ht(i));return u}function Vu(o,i){const s=[];return jc(o,i,s),s.sort((u,y)=>u.order-y.order),s}function jc(o,i,s){const u=Ua(i);if(u)for(let y=0;y<u.length;y++)s.push(u[y]);Ca(i,y=>{jc(o,y,s)})}function oa(o,i){const s=Ua(i);if(s){let u=0;for(let y=0;y<s.length;y++)2!==s[y].status&&(s[u]=s[y],u++);s.length=u,ql(i,s.length>0?s:void 0)}Ca(i,u=>{oa(o,u)})}function nu(o,i){const s=xl(Bl(o,i)),u=fl(o.transactionQueueTree_,i);return function Ql(o,i,s){let u=s?o:o.parent;for(;null!==u;){if(i(u))return!0;u=u.parent}}(u,y=>{Eu(o,y)}),Eu(o,u),pu(u,y=>{Eu(o,y)}),s}function Eu(o,i){const s=Ua(i);if(s){const u=[];let y=[],D=-1;for(let x=0;x<s.length;x++)3===s[x].status||(1===s[x].status?((0,V.hu)(D===x-1,"All SENT items should be at beginning of queue."),D=x,s[x].status=3,s[x].abortReason="set"):((0,V.hu)(0===s[x].status,"Unexpected transaction status in abort"),s[x].unwatcher(),y=y.concat(_t(o.serverSyncTree_,s[x].currentWriteId,!0)),s[x].onComplete&&u.push(s[x].onComplete.bind(null,new Error("set"),!1,null))));-1===D?ql(i,void 0):s.length=D+1,Cs(o.eventQueue_,xl(i),y);for(let x=0;x<u.length;x++)Vt(u[x])}}const Bu=function(o,i){const s=Wc(o),u=s.namespace;return"firebase.com"===s.domain&&$n(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!u||"undefined"===u)&&"localhost"!==s.domain&&$n("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&xn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ye(s.host,s.secure,u,"ws"===s.scheme||"wss"===s.scheme,i,"",u!==s.subdomain),path:new et(s.pathString)}},Wc=function(o){let i="",s="",u="",y="",D="",x=!0,W="https",q=443;if("string"==typeof o){let le=o.indexOf("//");le>=0&&(W=o.substring(0,le-1),o=o.substring(le+2));let Le=o.indexOf("/");-1===Le&&(Le=o.length);let We=o.indexOf("?");-1===We&&(We=o.length),i=o.substring(0,Math.min(Le,We)),Le<We&&(y=function $c(o){let i="";const s=o.split("/");for(let u=0;u<s.length;u++)if(s[u].length>0){let y=s[u];try{y=decodeURIComponent(y.replace(/\+/g," "))}catch{}i+="/"+y}return i}(o.substring(Le,We)));const rt=function Cu(o){const i={};"?"===o.charAt(0)&&(o=o.substring(1));for(const s of o.split("&")){if(0===s.length)continue;const u=s.split("=");2===u.length?i[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):xn(`Invalid query segment '${s}' in query '${o}'`)}return i}(o.substring(Math.min(o.length,We)));le=i.indexOf(":"),le>=0?(x="https"===W||"wss"===W,q=parseInt(i.substring(le+1),10)):le=i.length;const Pt=i.slice(0,le);if("localhost"===Pt.toLowerCase())s="localhost";else if(Pt.split(".").length<=2)s=Pt;else{const Wt=i.indexOf(".");u=i.substring(0,Wt).toLowerCase(),s=i.substring(Wt+1),D=u}"ns"in rt&&(D=rt.ns)}return{host:i,port:q,domain:s,subdomain:u,secure:x,scheme:W,pathString:y,namespace:D}},lc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Gc=function(){let o=0;const i=[];return function(s){const u=s===o;let y;o=s;const D=new Array(8);for(y=7;y>=0;y--)D[y]=lc.charAt(s%64),s=Math.floor(s/64);(0,V.hu)(0===s,"Cannot push at time == 0");let x=D.join("");if(u){for(y=11;y>=0&&63===i[y];y--)i[y]=0;i[y]++}else for(y=0;y<12;y++)i[y]=Math.floor(64*Math.random());for(y=0;y<12;y++)x+=lc.charAt(i[y]);return(0,V.hu)(20===x.length,"nextPushId: Length should be 20."),x}}();class Hl{constructor(i,s,u,y){this.eventType=i,this.eventRegistration=s,this.snapshot=u,this.prevName=y}getPath(){const i=this.snapshot.ref;return"value"===this.eventType?i._path:i.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Wl)(this.snapshot.exportVal())}}class uc{constructor(i,s,u){this.eventRegistration=i,this.error=s,this.path=u}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ru{constructor(i,s){this.snapshotCallback=i,this.cancelCallback=s}onValue(i,s){this.snapshotCallback.call(null,i,s)}onCancel(i){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,i)}get hasCancelCallback(){return!!this.cancelCallback}matches(i){return this.snapshotCallback===i.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===i.snapshotCallback.userCallback&&this.snapshotCallback.context===i.snapshotCallback.context}}class wu{constructor(i,s){this._repo=i,this._path=s}cancel(){const i=new V.BH;return jr(this._repo,this._path,i.wrapCallback(()=>{})),i.promise}remove(){wo("OnDisconnect.remove",this._path);const i=new V.BH;return oi(this._repo,this._path,null,i.wrapCallback(()=>{})),i.promise}set(i){wo("OnDisconnect.set",this._path),wa("OnDisconnect.set",i,this._path,!1);const s=new V.BH;return oi(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}setWithPriority(i,s){wo("OnDisconnect.setWithPriority",this._path),wa("OnDisconnect.setWithPriority",i,this._path,!1),_u("OnDisconnect.setWithPriority",s,!1);const u=new V.BH;return function ws(o,i,s,u,y){const D=rr(s,u);o.server_.onDisconnectPut(i.toString(),D.val(!0),(x,W)=>{"ok"===x&&P(o.onDisconnect_,i,D),Xs(0,y,x,W)})}(this._repo,this._path,i,s,u.wrapCallback(()=>{})),u.promise}update(i){wo("OnDisconnect.update",this._path),ac("OnDisconnect.update",i,this._path,!1);const s=new V.BH;return function Ei(o,i,s,u){if((0,V.xb)(s))return _n("onDisconnect().update() called with empty data.  Don't do anything."),void Xs(0,u,"ok",void 0);o.server_.onDisconnectMerge(i.toString(),s,(y,D)=>{"ok"===y&&on(s,(x,W)=>{const q=rr(W);P(o.onDisconnect_,Xn(i,x),q)}),Xs(0,u,y,D)})}(this._repo,this._path,i,s.wrapCallback(()=>{})),s.promise}}class eo{constructor(i,s,u,y){this._repo=i,this._path=s,this._queryParams=u,this._orderByCalled=y}get key(){return cn(this._path)?null:cs(this._path)}get ref(){return new to(this._repo,this._path)}get _queryIdentifier(){const i=Yo(this._queryParams),s=Ar(i);return"{}"===s?"default":s}get _queryObject(){return Yo(this._queryParams)}isEqual(i){if(!((i=(0,V.m9)(i))instanceof eo))return!1;const s=this._repo===i._repo,u=bi(this._path,i._path);return s&&u&&this._queryIdentifier===i._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function $o(o){let i="";for(let s=o.pieceNum_;s<o.pieces_.length;s++)""!==o.pieces_[s]&&(i+="/"+encodeURIComponent(String(o.pieces_[s])));return i||"/"}(this._path)}}function jl(o,i){if(!0===o._orderByCalled)throw new Error(i+": You can't combine multiple orderBy calls.")}function sl(o){let i=null,s=null;if(o.hasStart()&&(i=o.getIndexStartValue()),o.hasEnd()&&(s=o.getIndexEndValue()),o.getIndex()===Cr){const u="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",y="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==yr)throw new Error(u);if("string"!=typeof i)throw new Error(y)}if(o.hasEnd()){if(o.getIndexEndName()!==ct)throw new Error(u);if("string"!=typeof s)throw new Error(y)}}else if(o.getIndex()===an){if(null!=i&&!kl(i)||null!=s&&!kl(s))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(o.getIndex()instanceof ps||o.getIndex()===da,"unknown index type."),null!=i&&"object"==typeof i||null!=s&&"object"==typeof s)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function iu(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class to extends eo{constructor(i,s){super(i,s,new ho,!1)}get parent(){const i=Gi(this._path);return null===i?null:new to(this._repo,i)}get root(){let i=this;for(;null!==i.parent;)i=i.parent;return i}}class Ba{constructor(i,s,u){this._node=i,this.ref=s,this._index=u}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(i){const s=new et(i),u=Ha(this.ref,i);return new Ba(this._node.getChild(s),u,an)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(i){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(u,y)=>i(new Ba(y,Ha(this.ref,u),an)))}hasChild(i){const s=new et(i);return!this._node.getChild(s).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ka(o,i){return(o=(0,V.m9)(o))._checkNotDeleted("ref"),void 0!==i?Ha(o._root,i):o._root}function Hu(o,i){(o=(0,V.m9)(o))._checkNotDeleted("refFromURL");const s=Bu(i,o._repo.repoInfo_.nodeAdmin);Fl("refFromURL",s);const u=s.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&u.host!==o._repo.repoInfo_.host&&$n("refFromURL: Host name does not match the current database: (found "+u.host+" but expected "+o._repo.repoInfo_.host+")"),Ka(o,s.path.toString())}function Ha(o,i){return null===ht((o=(0,V.m9)(o))._path)?(s=i,s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),il("child","path",s,!1)):il("child","path",i,!1),new to(o._repo,Xn(o._path,i));var s}function Iu(o,i){o=(0,V.m9)(o),wo("set",o._path),wa("set",i,o._path,!1);const s=new V.BH;return gn(o._repo,o._path,i,null,s.wrapCallback(()=>{})),s.promise}function bu(o,i){ac("update",i,o._path,!1);const s=new V.BH;return function kr(o,i,s,u){Js(o,"update",{path:i.toString(),value:s});let y=!0;const D=S(o),x={};if(on(s,(W,q)=>{y=!1,x[W]=Fa(Xn(i,W),rr(q),o.serverSyncTree_,D)}),y)_n("update() called with empty data.  Don't do anything."),Xs(0,u,"ok",void 0);else{const W=pt(o),q=function tn(o,i,s,u){!function xo(o,i,s,u){(0,V.hu)(u>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:i,children:s,writeId:u,visible:!0}),o.visibleWrites=Zr(o.visibleWrites,i,s),o.lastWriteId=u}(o.pendingWriteTree_,i,s,u);const y=fn.fromObject(s);return na(o,new Ni({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},i,y))}(o.serverSyncTree_,i,x,W);ml(o.eventQueue_,q),o.server_.merge(i.toString(),s,(le,Le)=>{const We="ok"===le;We||xn("update at "+i+" failed: "+le);const rt=_t(o.serverSyncTree_,W,!We),Pt=rt.length>0?Vl(o,i):i;Cs(o.eventQueue_,Pt,rt),Xs(0,u,le,Le)}),on(s,le=>{const Le=nu(o,Xn(i,le));Vl(o,Le)}),Cs(o.eventQueue_,i,[])}}(o._repo,o._path,i,s.wrapCallback(()=>{})),s.promise}function ju(o){o=(0,V.m9)(o);const i=new ru(()=>{}),s=new _l(i);return function $t(o,i,s){const u=function si(o,i){const s=i._path;let u=null;o.syncPointTree_.foreachOnPath(s,(le,Le)=>{const We=nr(le,s);u=u||Vi(Le,We)});let y=o.syncPointTree_.get(s);y?u=u||Vi(y,gt()):(y=new qs,o.syncPointTree_=o.syncPointTree_.set(s,y));const D=null!=u,x=D?new Br(u,!0,!1):null;return function ni(o){return Ms(o.viewCache_)}(Ys(y,i,yi(o.pendingWriteTree_,i._path),D?x.getNode():nn.EMPTY_NODE,D))}(o.serverSyncTree_,i);return null!=u?Promise.resolve(u):o.server_.get(i).then(y=>{const D=rr(y).withIndex(i._queryParams.getIndex());let x;if(Ls(o.serverSyncTree_,i,s,!0),i._queryParams.loadsAllData())x=Hn(o.serverSyncTree_,i._path,D);else{const W=ee(o.serverSyncTree_,i);x=Ea(o.serverSyncTree_,i._path,D,W)}return Cs(o.eventQueue_,i._path,x),Or(o.serverSyncTree_,i,s,null,!0),D},y=>(Js(o,"get for query "+(0,V.Wl)(i)+" failed: "+y),Promise.reject(new Error(y))))}(o._repo,o,s).then(u=>new Ba(u,new to(o._repo,o._path),o._queryParams.getIndex()))}class _l{constructor(i){this.callbackContext=i}respondsTo(i){return"value"===i}createEvent(i,s){const u=s._queryParams.getIndex();return new Hl("value",this,new Ba(i.snapshotNode,new to(s._repo,s._path),u))}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,null)}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new uc(this,i,s):null}matches(i){return i instanceof _l&&(!i.callbackContext||!this.callbackContext||i.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class yl{constructor(i,s){this.eventType=i,this.callbackContext=s}respondsTo(i){let s="children_added"===i?"child_added":i;return s="children_removed"===s?"child_removed":s,this.eventType===s}createCancelEvent(i,s){return this.callbackContext.hasCancelCallback?new uc(this,i,s):null}createEvent(i,s){(0,V.hu)(null!=i.childName,"Child events should have a childName.");const u=Ha(new to(s._repo,s._path),i.childName),y=s._queryParams.getIndex();return new Hl(i.type,this,new Ba(i.snapshotNode,u,y),i.prevName)}getEventRunner(i){return"cancel"===i.getEventType()?()=>this.callbackContext.onCancel(i.error):()=>this.callbackContext.onValue(i.snapshot,i.prevName)}matches(i){return i instanceof yl&&this.eventType===i.eventType&&(!this.callbackContext||!i.callbackContext||this.callbackContext.matches(i.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function no(o,i,s,u,y){let D;if("object"==typeof u&&(D=void 0,y=u),"function"==typeof u&&(D=u),y&&y.onlyOnce){const q=s,le=(Le,We)=>{Qs(o._repo,o,W),q(Le,We)};le.userCallback=s.userCallback,le.context=s.context,s=le}const x=new ru(s,D||void 0),W="value"===i?new _l(x):new yl(i,x);return function sa(o,i,s){let u;u=".info"===ht(i._path)?Ls(o.infoSyncTree_,i,s):Ls(o.serverSyncTree_,i,s),yu(o.eventQueue_,i._path,u)}(o._repo,o,W),()=>Qs(o._repo,o,W)}function su(o,i,s,u){return no(o,"value",i,s,u)}function Tu(o,i,s,u){return no(o,"child_added",i,s,u)}function Su(o,i,s,u){return no(o,"child_changed",i,s,u)}function Au(o,i,s,u){return no(o,"child_moved",i,s,u)}function vl(o,i,s,u){return no(o,"child_removed",i,s,u)}function ro(o,i,s){let u=null;const y=s?new ru(s):null;"value"===i?u=new _l(y):i&&(u=new yl(i,y)),Qs(o._repo,o,u)}class Do{}class Mu extends Do{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){wa("endAt",this._value,i._path,!0);const s=Oo(i._queryParams,this._value,this._key);if(iu(s),sl(s),i._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new eo(i._repo,i._path,s,i._orderByCalled)}}class ja extends Do{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){wa("endBefore",this._value,i._path,!1);const s=function qo(o,i,s){let u;return u=Oo(o,i,o.index_===Cr||s?s:yr),u.endBeforeSet_=!0,u}(i._queryParams,this._value,this._key);if(iu(s),sl(s),i._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new eo(i._repo,i._path,s,i._orderByCalled)}}class $l extends Do{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){wa("startAt",this._value,i._path,!0);const s=Po(i._queryParams,this._value,this._key);if(iu(s),sl(s),i._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new eo(i._repo,i._path,s,i._orderByCalled)}}class Cl extends Do{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){wa("startAfter",this._value,i._path,!1);const s=function fo(o,i,s){let u;return u=Po(o,i,o.index_===Cr||s?s:ct),u.startAfterSet_=!0,u}(i._queryParams,this._value,this._key);if(iu(s),sl(s),i._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new eo(i._repo,i._path,s,i._orderByCalled)}}class Zc extends Do{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new eo(i._repo,i._path,function Yi(o,i){const s=o.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="l",s}(i._queryParams,this._limit),i._orderByCalled)}}class Kc extends Do{constructor(i){super(),this._limit=i}_apply(i){if(i._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new eo(i._repo,i._path,function gi(o,i){const s=o.copy();return s.limitSet_=!0,s.limit_=i,s.viewFrom_="r",s}(i._queryParams,this._limit),i._orderByCalled)}}class g extends Do{constructor(i){super(),this._path=i}_apply(i){jl(i,"orderByChild");const s=new et(this._path);if(cn(s))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const u=new ps(s),y=zs(i._queryParams,u);return sl(y),new eo(i._repo,i._path,y,!0)}}class d extends Do{_apply(i){jl(i,"orderByKey");const s=zs(i._queryParams,Cr);return sl(s),new eo(i._repo,i._path,s,!0)}}class L extends Do{_apply(i){jl(i,"orderByPriority");const s=zs(i._queryParams,an);return sl(s),new eo(i._repo,i._path,s,!0)}}class Ee extends Do{_apply(i){jl(i,"orderByValue");const s=zs(i._queryParams,da);return sl(s),new eo(i._repo,i._path,s,!0)}}class Ct extends Do{constructor(i,s){super(),this._value=i,this._key=s}_apply(i){if(wa("equalTo",this._value,i._path,!1),i._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(i._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Mu(this._value,this._key)._apply(new $l(this._value,this._key)._apply(i))}}function zt(o,...i){let s=(0,V.m9)(o);for(const u of i)s=u._apply(s);return s}(function Co(o){(0,V.hu)(!Eo,"__referenceConstructor has already been defined"),Eo=o})(to),function j(o){(0,V.hu)(!O,"__referenceConstructor has already been defined"),O=o}(to);const Ai={};function Gu(o,i,s,u,y){let D=u||o.options.databaseURL;void 0===D&&(o.options.projectId||$n("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_n("Using default host for project ",o.options.projectId),D=`${o.options.projectId}-default-rtdb.firebaseio.com`);let q,le,x=Bu(D,y),W=x.repoInfo;typeof process<"u"&&process.env&&(le=process.env.FIREBASE_DATABASE_EMULATOR_HOST),le?(q=!0,D=`http://${le}?ns=${W.namespace}`,x=Bu(D,y),W=x.repoInfo):q=!x.repoInfo.secure;const Le=y&&q?new zn(zn.OWNER):new Mn(o.name,o.options,i);Fl("Invalid Firebase Database URL",x),cn(x.path)||$n("Database URL must point to the root of a Firebase Database (not including a child path).");const We=function qc(o,i,s,u){let y=Ai[i.name];y||(y={},Ai[i.name]=y);let D=y[o.toURLString()];return D&&$n("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),D=new f(o,false,s,u),y[o.toURLString()]=D,D}(W,o,Le,new Yr(o.name,s));return new hc(We,o)}class hc{constructor(i,s){this._repoInternal=i,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function h(o,i,s){if(o.stats_=te(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new mi(o.repoInfo_,(u,y,D,x)=>{$(o,u,y,D,x)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>de(o,!0),0);else{if(typeof s<"u"&&null!==s){if("object"!=typeof s)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Wl)(s)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}o.persistentConnection_=new uo(o.repoInfo_,i,(u,y,D,x)=>{$(o,u,y,D,x)},u=>{de(o,u)},u=>{!function Ze(o,i){on(i,(s,u)=>{vt(o,s,u)})}(o,u)},o.authTokenProvider_,o.appCheckProvider_,s),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(u=>{o.server_.refreshAuthToken(u)}),o.appCheckProvider_.addTokenChangeListener(u=>{o.server_.refreshAppCheckToken(u.token)}),o.statsReporter_=function J(o,i){const s=o.toString();return yn[s]||(yn[s]=i()),yn[s]}(o.repoInfo_,()=>new Un(o.stats_,o.server_)),o.infoData_=new A,o.infoSyncTree_=new Fe({startListening:(u,y,D,x)=>{let W=[];const q=o.infoData_.getNode(u._path);return q.isEmpty()||(W=Hn(o.infoSyncTree_,u._path,q),setTimeout(()=>{x("ok")},0)),W},stopListening:()=>{}}),vt(o,"connected",!1),o.serverSyncTree_=new Fe({startListening:(u,y,D,x)=>(o.server_.listen(u,D,y,(W,q)=>{const le=x(W,q);Cs(o.eventQueue_,u._path,le)}),[]),stopListening:(u,y)=>{o.server_.unlisten(u,y)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new to(this._repo,gt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function dc(o,i){const s=Ai[i];(!s||s[o.key]!==o)&&$n(`Database ${i}(${o.repoInfo_}) has already been deleted.`),Bi(o),delete s[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(i){null===this._rootInternal&&$n("Cannot call "+i+" on a deleted database.")}}function fc(){Mi.IS_TRANSPORT_INITIALIZED&&xn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function zu(){fc(),Mr.forceDisallow()}function Zu(){fc(),Lr.forceDisallow(),Mr.forceAllow()}function wl(o,i){Pn(o,i)}const bd={".sv":"timestamp"};class mp{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}uo.prototype.simpleListen=function(o,i){this.sendRequest("q",{p:o},i)},uo.prototype.echo=function(o,i){this.sendRequest("echo",{d:o},i)},function Yu(o){$e(oe.SDK_VERSION),(0,oe._registerComponent)(new at.wA("database",(i,{instanceIdentifier:s})=>Gu(i.getProvider("app").getImmediate(),i.getProvider("auth-internal"),i.getProvider("app-check-internal"),s),"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(_e,"0.14.0",o),(0,oe.registerVersion)(_e,"0.14.0","esm2017")}();const vp=new ue.Yd("@firebase/database-compat"),Xc=function(o){vp.warn("FIREBASE WARNING: "+o)};class mh{constructor(i){this._delegate=i}cancel(i){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",i,!0);const s=this._delegate.cancel();return i&&s.then(()=>i(null),u=>i(u)),s}remove(i){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",i,!0);const s=this._delegate.remove();return i&&s.then(()=>i(null),u=>i(u)),s}set(i,s){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",s,!0);const u=this._delegate.set(i);return s&&u.then(()=>s(null),y=>s(y)),u}setWithPriority(i,s,u){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",u,!0);const y=this._delegate.setWithPriority(i,s);return u&&y.then(()=>u(null),D=>u(D)),y}update(i,s){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(i)){const y={};for(let D=0;D<i.length;++D)y[""+D]=i[D];i=y,Xc("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",s,!0);const u=this._delegate.update(i);return s&&u.then(()=>s(null),y=>s(y)),u}}class _h{constructor(i,s){this.committed=i,this.snapshot=s}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Il{constructor(i,s){this._database=i,this._delegate=s}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(i){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),i=String(i),il("DataSnapshot.child","path",i,!1),new Il(this._database,this._delegate.child(i))}hasChild(i){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),il("DataSnapshot.hasChild","path",i,!1),this._delegate.hasChild(i)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(i){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",i,!1),this._delegate.forEach(s=>i(new Il(this._database,s)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ia(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ss{constructor(i,s){this.database=i,this._delegate=s}on(i,s,u,y){var D;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",s,!1);const x=ss.getCancelAndContextArgs_("Query.on",u,y),W=(le,Le)=>{s.call(x.context,new Il(this.database,le),Le)};W.userCallback=s,W.context=x.context;const q=null===(D=x.cancel)||void 0===D?void 0:D.bind(x.context);switch(i){case"value":return su(this._delegate,W,q),s;case"child_added":return Tu(this._delegate,W,q),s;case"child_removed":return vl(this._delegate,W,q),s;case"child_changed":return Su(this._delegate,W,q),s;case"child_moved":return Au(this._delegate,W,q),s;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(i,s,u){if((0,V.Dv)("Query.off",0,3,arguments.length),function(o,i,s){if(void 0!==i)switch(i){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,i),(0,V.Wj)("Query.off","callback",s,!0),(0,V.lb)("Query.off","context",u,!0),s){const y=()=>{};y.userCallback=s,y.context=u,ro(this._delegate,i,y)}else ro(this._delegate,i)}get(){return ju(this._delegate).then(i=>new Il(this.database,i))}once(i,s,u,y){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",s,!0);const D=ss.getCancelAndContextArgs_("Query.once",u,y),x=new V.BH,W=(le,Le)=>{const We=new Il(this.database,le);s&&s.call(D.context,We,Le),x.resolve(We)};W.userCallback=s,W.context=D.context;const q=le=>{D.cancel&&D.cancel.call(D.context,le),x.reject(le)};switch(i){case"value":su(this._delegate,W,q,{onlyOnce:!0});break;case"child_added":Tu(this._delegate,W,q,{onlyOnce:!0});break;case"child_removed":vl(this._delegate,W,q,{onlyOnce:!0});break;case"child_changed":Su(this._delegate,W,q,{onlyOnce:!0});break;case"child_moved":Au(this._delegate,W,q,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return x.promise}limitToFirst(i){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new ss(this.database,zt(this._delegate,function Dd(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Zc(o)}(i)))}limitToLast(i){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new ss(this.database,zt(this._delegate,function Wu(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Kc(o)}(i)))}orderByChild(i){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new ss(this.database,zt(this._delegate,function l(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return il("orderByChild","path",o,!1),new g(o)}(i)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new ss(this.database,zt(this._delegate,function C(){return new d}()))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new ss(this.database,zt(this._delegate,function K(){return new L}()))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new ss(this.database,zt(this._delegate,function Ge(){return new Ee}()))}startAt(i=null,s){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new ss(this.database,zt(this._delegate,function Ru(o=null,i){return gl("startAt","key",i,!0),new $l(o,i)}(i,s)))}startAfter(i=null,s){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new ss(this.database,zt(this._delegate,function $u(o,i){return gl("startAfter","key",i,!0),new Cl(o,i)}(i,s)))}endAt(i=null,s){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new ss(this.database,zt(this._delegate,function zc(o,i){return gl("endAt","key",i,!0),new Mu(o,i)}(i,s)))}endBefore(i=null,s){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new ss(this.database,zt(this._delegate,function El(o,i){return gl("endBefore","key",i,!0),new ja(o,i)}(i,s)))}equalTo(i,s){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new ss(this.database,zt(this._delegate,function kt(o,i){return gl("equalTo","key",i,!0),new Ct(o,i)}(i,s)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(i){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(i instanceof ss))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(i._delegate)}static getCancelAndContextArgs_(i,s,u){const y={cancel:void 0,context:void 0};if(s&&u)y.cancel=s,(0,V.Wj)(i,"cancel",y.cancel,!0),y.context=u,(0,V.lb)(i,"context",y.context,!0);else if(s)if("object"==typeof s&&null!==s)y.context=s;else{if("function"!=typeof s)throw new Error((0,V.gK)(i,"cancelOrContext")+" must either be a cancel callback or a context object.");y.cancel=s}return y}get ref(){return new Ia(this.database,new to(this._delegate._repo,this._delegate._path))}}class Ia extends ss{constructor(i,s){super(i,new eo(s._repo,s._path,new ho,!1)),this.database=i,this._delegate=s}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(i){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof i&&(i=String(i)),new Ia(this.database,Ha(this._delegate,i))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const i=this._delegate.parent;return i?new Ia(this.database,i):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new Ia(this.database,this._delegate.root)}set(i,s){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",s,!0);const u=Iu(this._delegate,i);return s&&u.then(()=>s(null),y=>s(y)),u}update(i,s){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(i)){const y={};for(let D=0;D<i.length;++D)y[""+D]=i[D];i=y,Xc("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wo("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",s,!0);const u=bu(this._delegate,i);return s&&u.then(()=>s(null),y=>s(y)),u}setWithPriority(i,s,u){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",u,!0);const y=function Du(o,i,s){if(wo("setWithPriority",o._path),wa("setWithPriority",i,o._path,!1),_u("setWithPriority",s,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";const u=new V.BH;return gn(o._repo,o._path,i,s,u.wrapCallback(()=>{})),u.promise}(this._delegate,i,s);return u&&y.then(()=>u(null),D=>u(D)),y}remove(i){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",i,!0);const s=function ol(o){return wo("remove",o._path),Iu(o,null)}(this._delegate);return i&&s.then(()=>i(null),u=>i(u)),s}transaction(i,s,u){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",i,!1),(0,V.Wj)("Reference.transaction","onComplete",s,!0),function(o,i,s,u){if(void 0!==s&&"boolean"!=typeof s)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,u);const y=function _p(o,i,s){var u;if(o=(0,V.m9)(o),wo("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";const y=null===(u=s?.applyLocally)||void 0===u||u,D=new V.BH,W=su(o,()=>{});return function Ul(o,i,s,u,y,D){Js(o,"transaction on "+i);const x={path:i,update:s,onComplete:u,status:null,order:bn(),applyLocally:D,retryCount:0,unwatcher:y,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},W=Va(o,i,void 0);x.currentInputSnapshot=W;const q=x.update(W.val());if(void 0===q)x.unwatcher(),x.currentOutputSnapshotRaw=null,x.currentOutputSnapshotResolved=null,x.onComplete&&x.onComplete(null,!1,x.currentInputSnapshot);else{Jl("transaction failed: Data returned ",q,x.path),x.status=0;const le=fl(o.transactionQueueTree_,i),Le=Ua(le)||[];let We;Le.push(x),ql(le,Le),"object"==typeof q&&null!==q&&(0,V.r3)(q,".priority")?(We=(0,V.DV)(q,".priority"),(0,V.hu)(kl(We),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):We=(ka(o.serverSyncTree_,i)||nn.EMPTY_NODE).getPriority().val();const rt=S(o),Pt=rr(q,We),Wt=La(Pt,W,rt);x.currentOutputSnapshotRaw=Pt,x.currentOutputSnapshotResolved=Wt,x.currentWriteId=pt(o);const Yn=ft(o.serverSyncTree_,i,Wt,x.currentWriteId,x.applyLocally);Cs(o.eventQueue_,i,Yn),Io(o,o.transactionQueueTree_)}}(o._repo,o._path,i,(q,le,Le)=>{let We=null;q?D.reject(q):(We=new Ba(Le,new to(o._repo,o._path),an),D.resolve(new mp(le,We)))},W,y),D.promise}(this._delegate,i,{applyLocally:u}).then(D=>new _h(D.committed,new Il(this.database,D.snapshot)));return s&&y.then(D=>s(null,D.committed,D.snapshot),D=>s(D,!1,null)),y}setPriority(i,s){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",s,!0);const u=function cc(o,i){o=(0,V.m9)(o),wo("setPriority",o._path),_u("setPriority",i,!1);const s=new V.BH;return gn(o._repo,Xn(o._path,".priority"),i,null,s.wrapCallback(()=>{})),s.promise}(this._delegate,i);return s&&u.then(()=>s(null),y=>s(y)),u}push(i,s){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",s,!0);const u=function aa(o,i){o=(0,V.m9)(o),wo("push",o._path),wa("push",i,o._path,!0);const s=p(o._repo),u=Gc(s),y=Ha(o,u),D=Ha(o,u);let x;return x=null!=i?Iu(D,i).then(()=>D):Promise.resolve(D),y.then=x.then.bind(x),y.catch=x.then.bind(x,void 0),y}(this._delegate,i),y=u.then(x=>new Ia(this.database,x));s&&y.then(()=>s(null),x=>s(x));const D=new Ia(this.database,u);return D.then=y.then.bind(y),D.catch=y.catch.bind(y,void 0),D}onDisconnect(){return wo("Reference.onDisconnect",this._delegate._path),new mh(new wu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ou{constructor(i,s){this._delegate=i,this.app=s,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:zu,forceLongPolling:Zu}}useEmulator(i,s,u={}){!function pc(o,i,s,u={}){(o=(0,V.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&$n("Cannot call useEmulator() after instance has already been initialized.");const y=o._repoInternal;let D;if(y.repoInfo_.nodeAdmin)u.mockUserToken&&$n('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),D=new zn(zn.OWNER);else if(u.mockUserToken){const x="string"==typeof u.mockUserToken?u.mockUserToken:(0,V.Sg)(u.mockUserToken,o.app.options.projectId);D=new zn(x)}!function al(o,i,s,u){o.repoInfo_=new ye(`${i}:${s}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams),u&&(o.authTokenProvider_=u)}(y,i,s,D)}(this._delegate,i,s,u)}ref(i){if((0,V.Dv)("database.ref",0,1,arguments.length),i instanceof Ia){const s=Hu(this._delegate,i.toString());return new Ia(this,s)}{const s=Ka(this._delegate,i);return new Ia(this,s)}}refFromURL(i){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const u=Hu(this._delegate,i);return new Ia(this,u)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function Ku(o){(o=(0,V.m9)(o))._checkNotDeleted("goOffline"),Bi(o._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function qu(o){(o=(0,V.m9)(o))._checkNotDeleted("goOnline"),function Si(o){o.persistentConnection_&&o.persistentConnection_.resume(eu)}(o._repo)}(this._delegate)}}ou.ServerValue={TIMESTAMP:function Td(){return bd}(),increment:o=>function Sd(o){return{".sv":{increment:o}}}(o)};var os=Object.freeze({__proto__:null,initStandalone:function yh({app:o,url:i,version:s,customAuthImpl:u,namespace:y,nodeAdmin:D=!1}){$e(s);const x=new at.zt("auth-internal",new at.H0("database-standalone"));return x.setComponent(new at.wA("auth-internal",()=>u,"PRIVATE")),{instance:new ou(Gu(o,x,void 0,i,D),o),namespace:y}}});const vh=ou.ServerValue;!function Eh(o){o.INTERNAL.registerComponent(new at.wA("database-compat",(i,{instanceIdentifier:s})=>{const u=i.getProvider("app-compat").getImmediate(),y=i.getProvider("database").getImmediate({identifier:s});return new ou(y,u)},"PUBLIC").setServiceProps({Reference:Ia,Query:ss,Database:ou,DataSnapshot:Il,enableLogging:wl,INTERNAL:os,ServerValue:vh}).setMultipleInstances(!0)),o.registerVersion("@firebase/database-compat","0.3.0")}(qe.Z);var gc=U(7579),ed=U(8996),mc=U(5363),Ch=U(6063);class wh extends gc.x{constructor(i=1/0,s=1/0,u=Ch.l){super(),this._bufferSize=i,this._windowTime=s,this._timestampProvider=u,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,s)}next(i){const{isStopped:s,_buffer:u,_infiniteTimeWindow:y,_timestampProvider:D,_windowTime:x}=this;s||(u.push(i),!y&&u.push(D.now()+x)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(i),{_infiniteTimeWindow:u,_buffer:y}=this,D=y.slice();for(let x=0;x<D.length&&!i.closed;x+=u?1:2)i.next(D[x]);return this._checkFinalizedStatuses(i),s}_trimBuffer(){const{_bufferSize:i,_timestampProvider:s,_buffer:u,_infiniteTimeWindow:y}=this,D=(y?1:2)*i;if(i<1/0&&D<u.length&&u.splice(0,u.length-D),!y){const x=s.now();let W=0;for(let q=1;q<u.length&&u[q]<=x;q+=2)W=q;W&&u.splice(0,W+1)}}}function Md(o,i,s){let u,y=!1;return o&&"object"==typeof o?({bufferSize:u=1/0,windowTime:i=1/0,refCount:y=!1,scheduler:s}=o):u=o??1/0,(0,be.B)({connector:()=>new wh(u,i,s),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:y})}var Ih=U(590),Ep=U(576);function Dh(o,i){return(0,Ep.m)(i)?(0,Ce.w)(()=>o,i):(0,Ce.w)(()=>o)}var au=U(9468),td=U(9300),Rd=U(6895),nd=U(6217),Pd=U(9260);const rd=new w.OlP("angularfire2.auth.use-emulator"),id=new w.OlP("angularfire2.auth.settings"),_c=new w.OlP("angularfire2.auth.tenant-id"),Th=new w.OlP("angularfire2.auth.langugage-code"),Od=new w.OlP("angularfire2.auth.use-device-language"),yc=new w.OlP("angularfire.auth.persistence"),sd=(o,i,s,u,y,D,x,W)=>(0,Ue.cc)(`${o.name}.auth`,"AngularFireAuth",o.name,()=>{const q=i.runOutsideAngular(()=>o.auth());if(s&&q.useEmulator(...s),u&&(q.tenantId=u),q.languageCode=y,D&&q.useDeviceLanguage(),x)for(const[le,Le]of Object.entries(x))q.settings[le]=Le;return W&&q.setPersistence(W),q},[s,u,y,D,x,W]);let od=(()=>{class o{constructor(s,u,y,D,x,W,q,le,Le,We,rt,Pt){const Wt=new gc.x,Yn=(0,T.of)(void 0).pipe((0,mc.Q)(x.outsideAngular),(0,Ce.w)(()=>D.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9169)))),(0,Ie.U)(()=>(0,Ue.on)(s,D,u)),(0,Ie.U)(Ci=>sd(Ci,D,W,le,Le,We,q,rt)),Md({bufferSize:1,refCount:!1}));if((0,Rd.PM)(y))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,T.of)(null);else{Yn.pipe((0,Ih.P)()).subscribe();const jo=Yn.pipe((0,Ce.w)(as=>as.getRedirectResult().then(Dl=>Dl,()=>null)),Et.iC,Md({bufferSize:1,refCount:!1})),Da=Yn.pipe((0,Ce.w)(as=>new B.y(Dl=>({unsubscribe:D.runOutsideAngular(()=>as.onAuthStateChanged($a=>Dl.next($a),$a=>Dl.error($a),()=>Dl.complete()))})))),ll=Yn.pipe((0,Ce.w)(as=>new B.y(Dl=>({unsubscribe:D.runOutsideAngular(()=>as.onIdTokenChanged($a=>Dl.next($a),$a=>Dl.error($a),()=>Dl.complete()))}))));this.authState=jo.pipe(Dh(Da),(0,au.R)(x.outsideAngular),(0,mc.Q)(x.insideAngular)),this.user=jo.pipe(Dh(ll),(0,au.R)(x.outsideAngular),(0,mc.Q)(x.insideAngular)),this.idToken=this.user.pipe((0,Ce.w)(as=>as?(0,ed.D)(as.getIdToken()):(0,T.of)(null))),this.idTokenResult=this.user.pipe((0,Ce.w)(as=>as?(0,ed.D)(as.getIdTokenResult()):(0,T.of)(null))),this.credential=(0,fe.T)(jo,Wt,this.authState.pipe((0,td.h)(as=>!as))).pipe((0,Ie.U)(as=>as?.user?as:null),(0,au.R)(x.outsideAngular),(0,mc.Q)(x.insideAngular))}return(0,Ue.pX)(this,Yn,D,{spy:{apply:(Ci,jo,Da)=>{(Ci.startsWith("signIn")||Ci.startsWith("createUser"))&&Da.then(ll=>Wt.next(ll))}}})}}return o.\u0275fac=function(s){return new(s||o)(w.LFG(Ue.Dh),w.LFG(Ue.xv,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(Et.HU),w.LFG(rd,8),w.LFG(id,8),w.LFG(_c,8),w.LFG(Th,8),w.LFG(Od,8),w.LFG(yc,8),w.LFG(nd.nm,8))},o.\u0275prov=w.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})();function Qu(o){return null==o}function xd(o){return"function"==typeof o.set}function vc(o,i){return xd(i)?i:o.ref(i)}function Ju(o,i){if(function Sh(o){return"string"==typeof o}(o))return i.stringCase();if(xd(o))return i.firebaseCase();if(function ad(o){return"function"==typeof o.exportVal}(o))return i.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof o)}function qa(o,i,s="on",u=Z.z){return new B.y(y=>{let D=null;return D=o[s](i,(x,W)=>{u.schedule(()=>{y.next({snapshot:x,prevKey:W})}),"once"===s&&u.schedule(()=>y.complete())},x=>{u.schedule(()=>y.error(x))}),"on"===s?{unsubscribe(){null!=D&&o.off(i,D)}}:{unsubscribe(){}}}).pipe((0,Ie.U)(y=>{const{snapshot:D,prevKey:x}=y;let W=null;return D.exists()&&(W=D.key),{type:i,payload:D,prevKey:x,key:W}}),(0,be.B)())}function Ec(o,i){const s=o.length;for(let u=0;u<s;u++)if(o[u].payload.key===i)return u;return-1}function Mh(o,i){const{payload:s,prevKey:u,key:y}=i,D=Ec(o,y),x=function Ah(o,i){if(Qu(i))return 0;{const s=Ec(o,i);return-1===s?o.length:s+1}}(o,u);switch(i.type){case"value":if(i.payload&&i.payload.exists()){let W=null;i.payload.forEach(q=>{const le={payload:q,type:"value",prevKey:W,key:q.key};return W=q.key,o=[...o,le],!1})}return o;case"child_added":if(D>-1){const W=o[D-1];(W&&W.key||null)!==u&&(o=o.filter(q=>q.payload.key!==s.key)).splice(x,0,i)}else{if(null==u)return[i,...o];(o=o.slice()).splice(x,0,i)}return o;case"child_removed":return o.filter(W=>W.payload.key!==s.key);case"child_changed":return o.map(W=>W.payload.key===y?i:W);case"child_moved":if(D>-1){const W=o.splice(D,1)[0];return(o=o.slice()).splice(x,0,W),o}return o;default:return o}}function ld(o){return(Qu(o)||0===o.length)&&(o=["child_added","child_removed","child_changed","child_moved"]),o}function lu(o,i,s){return function Nd(o,i,s){return qa(o,"value","once",s).pipe((0,Ce.w)(u=>{const y=[(0,T.of)(u)];return i.forEach(D=>y.push(qa(o,D,"on",s))),(0,fe.T)(...y).pipe((0,Te.R)(Mh,[]))}),function it(o,i=ae.y){return o=o??Qe,(0,ie.e)((s,u)=>{let y,D=!0;s.subscribe((0,he.x)(u,x=>{const W=i(x);(D||!o(y,W))&&(D=!1,y=W,u.next(x))}))})}())}(o,i=ld(i),s)}function kd(o,i,s){const u=(i=ld(i)).map(y=>qa(o,y,"on",s));return(0,fe.T)(...u)}function Cc(o,i){return function(u,y){return Ju(u,{stringCase:()=>o.child(u)[i](y),firebaseCase:()=>u[i](y),snapshotCase:()=>u.ref[i](y)})}}function xh(o){return function(s){return s?Ju(s,{stringCase:()=>o.child(s).remove(),firebaseCase:()=>s.remove(),snapshotCase:()=>s.ref.remove()}):o.remove()}}function Ld(o,i){return function(){return qa(o,"value","on",i)}}const Cp=new w.OlP("angularfire2.realtimeDatabaseURL"),Nh=new w.OlP("angularfire2.database.use-emulator");let Ou=(()=>{class o{constructor(s,u,y,D,x,W,q,le,Le,We,rt,Pt,Wt,Yn,Ci){this.schedulers=W;const jo=q,Da=(0,Ue.on)(s,x,u);le&&sd(Da,x,Le,rt,Pt,Wt,We,Yn),this.database=(0,Ue.cc)(`${Da.name}.database.${y}`,"AngularFireDatabase",Da.name,()=>{const ll=x.runOutsideAngular(()=>Da.database(y||void 0));return jo&&ll.useEmulator(...jo),ll},[jo])}list(s,u){const y=this.schedulers.ngZone.runOutsideAngular(()=>vc(this.database,s));let D=y;return u&&(D=u(y)),function Fd(o,i){const s=i.schedulers.outsideAngular,u=i.schedulers.ngZone.run(()=>o.ref);return{query:o,update:Cc(u,"update"),set:Cc(u,"set"),push:y=>u.push(y),remove:xh(u),snapshotChanges:y=>lu(o,y,s).pipe(Et.iC),stateChanges:y=>kd(o,y,s).pipe(Et.iC),auditTrail:y=>function Rh(o,i,s){return function Oh(o,i,s){return function Ph(o,i){return qa(o,"value","on",i).pipe((0,Ie.U)(s=>{let u;return s.payload.forEach(y=>(u=y.key,!1)),{data:s,lastKeyToLoad:u}}))}(o,s).pipe(function Me(...o){const i=(0,Ne.jO)(o);return(0,ie.e)((s,u)=>{const y=o.length,D=new Array(y);let x=o.map(()=>!1),W=!1;for(let q=0;q<y;q++)(0,Ve.Xf)(o[q]).subscribe((0,he.x)(u,le=>{D[q]=le,!W&&!x[q]&&(x[q]=!0,(W=x.every(ae.y))&&(x=null))},Ye.Z));s.subscribe((0,he.x)(u,q=>{if(W){const le=[q,...D];u.next(i?i(...le):le)}}))})}(i),(0,Ie.U)(([y,D])=>{const x=y.lastKeyToLoad,W=D.map(q=>q.key);return{actions:D,lastKeyToLoad:x,loadedKeys:W}}),function wt(o){return(0,ie.e)((i,s)=>{let u=!1,y=0;i.subscribe((0,he.x)(s,D=>(u||(u=!o(D,y++)))&&s.next(D)))})}(y=>-1===y.loadedKeys.indexOf(y.lastKeyToLoad)),(0,Ie.U)(y=>y.actions))}(o,kd(o,i).pipe((0,Te.R)((y,D)=>[...y,D],[])),s)}(o,y,s).pipe(Et.iC),valueChanges:(y,D)=>lu(o,y,s).pipe((0,Ie.U)(W=>W.map(q=>D&&D.idField?Object.assign(Object.assign({},q.payload.val()),{[D.idField]:q.key}):q.payload.val())),Et.iC)}}(D,this)}object(s){return function Ud(o,i){return{query:o,snapshotChanges:()=>Ld(o,i.schedulers.outsideAngular)().pipe(Et.iC),update:s=>o.ref.update(s),set:s=>o.ref.set(s),remove:()=>o.ref.remove(),valueChanges:()=>Ld(o,i.schedulers.outsideAngular)().pipe(Et.iC,(0,Ie.U)(u=>u.payload.exists()?u.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>vc(this.database,s)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return o.\u0275fac=function(s){return new(s||o)(w.LFG(Ue.Dh),w.LFG(Ue.xv,8),w.LFG(Cp,8),w.LFG(w.Lbi),w.LFG(w.R0b),w.LFG(Et.HU),w.LFG(Nh,8),w.LFG(od,8),w.LFG(rd,8),w.LFG(id,8),w.LFG(_c,8),w.LFG(Th,8),w.LFG(Od,8),w.LFG(yc,8),w.LFG(nd.nm,8))},o.\u0275prov=w.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),kh=(()=>{class o{constructor(){Pd.Z.registerVersion("angularfire",Et.q4.full,"rtdb-compat")}}return o.\u0275fac=function(s){return new(s||o)},o.\u0275mod=w.oAB({type:o}),o.\u0275inj=w.cJS({providers:[Ou]}),o})()},2011:(bt,ke,U)=>{U.d(ke,{Dh:()=>Ce,GT:()=>Ie,cc:()=>Qe,hO:()=>it,on:()=>ae,pX:()=>fe,xv:()=>Te});var w=U(4650),Z=U(9260),B=U(2122);bt=U.hmd(bt);const T=["ngOnDestroy"],fe=(Me,wt,Et,Ue={})=>new Proxy(Me,{get:(je,qe)=>Et.runOutsideAngular(()=>{var at;if(Me[qe])return!(null===(at=Ue?.spy)||void 0===at)&&at.get&&Ue.spy.get(qe,Me[qe]),Me[qe];if(T.indexOf(qe)>-1)return()=>{};const dt=wt.toPromise().then(oe=>{const V=oe&&oe[qe];return"function"==typeof V?V.bind(oe):V&&V.then?V.then(ue=>Et.run(()=>ue)):Et.run(()=>V)});return new Proxy(()=>{},{get:(oe,V)=>dt[V],apply:(oe,V,ue)=>dt.then(_e=>{var Re;const De=_e&&_e(...ue);return!(null===(Re=Ue?.spy)||void 0===Re)&&Re.apply&&Ue.spy.apply(qe,ue,De),De})})})}),Ie=(Me,wt)=>{wt.forEach(Et=>{Object.getOwnPropertyNames(Et.prototype||Et).forEach(Ue=>{Object.defineProperty(Me.prototype,Ue,Object.getOwnPropertyDescriptor(Et.prototype||Et,Ue))})})};class be{constructor(wt){return wt}}const Ce=new w.OlP("angularfire2.app.options"),Te=new w.OlP("angularfire2.app.name");function ae(Me,wt,Et){const je="object"==typeof Et&&Et||{};je.name=je.name||"string"==typeof Et&&Et||"[DEFAULT]";const at=Z.Z.apps.filter(dt=>dt&&dt.name===je.name)[0]||wt.runOutsideAngular(()=>Z.Z.initializeApp(Me,je));try{JSON.stringify(Me)!==JSON.stringify(at.options)&&ie("error",`${at.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(at)}const ie=(Me,...wt)=>{(0,w.X6Q)()&&typeof console<"u"&&console[Me](...wt)},he={provide:be,useFactory:ae,deps:[Ce,w.R0b,[new w.FiY,Te]]};let it=(()=>{class Me{constructor(Et){Z.Z.registerVersion("angularfire",B.q4.full,"core"),Z.Z.registerVersion("angularfire",B.q4.full,"app-compat"),Z.Z.registerVersion("angular",w.q4F.full,Et.toString())}static initializeApp(Et,Ue){return{ngModule:Me,providers:[{provide:Ce,useValue:Et},{provide:Te,useValue:Ue}]}}}return Me.\u0275fac=function(Et){return new(Et||Me)(w.LFG(w.Lbi))},Me.\u0275mod=w.oAB({type:Me}),Me.\u0275inj=w.cJS({providers:[he]}),Me})();function Qe(Me,wt,Et,Ue,je){const[,qe,at]=globalThis.\u0275AngularfireInstanceCache.find(dt=>dt[0]===Me)||[];if(qe)return function Ve(Me,wt){try{return Me.toString()===wt.toString()}catch{return Me===wt}}(je,at)||(Ne("error",`${wt} was already initialized on the ${Et} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),Ne("warn",{is:je,was:at})),qe;{const dt=Ue();return globalThis.\u0275AngularfireInstanceCache.push([Me,dt,je]),dt}}const Ye=!!bt.hot,Ne=(Me,...wt)=>{(0,w.X6Q)()&&typeof console<"u"&&console[Me](...wt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(bt,ke,U)=>{U.d(ke,{q4:()=>Fi,iC:()=>Ls,fc:()=>Ea,HU:()=>ii,vb:()=>ft,JM:()=>Fe});var w=U(4650),Z=U(259),B=U(5861),T=U(9681),fe=U(2090),Ie=U(4859),be=U(1877),Ce=U(8766);const Te="@firebase/installations",he="w:0.6.0",it="FIS_v2",wt=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Et(R){return R instanceof fe.ZR&&R.code.includes("request-failed")}function Ue({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function je(R){return{token:R.token,requestStatus:2,expiresIn:_e(R.expiresIn),creationTime:Date.now()}}function qe(R,N){return at.apply(this,arguments)}function at(){return(at=(0,B.Z)(function*(R,N){const ee=(yield N.json()).error;return wt.create("request-failed",{requestName:R,serverCode:ee.code,serverMessage:ee.message,serverStatus:ee.status})})).apply(this,arguments)}function dt({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function oe(R,{refreshToken:N}){const H=dt(R);return H.append("Authorization",function Re(R){return`${it} ${R}`}(N)),H}function V(R){return ue.apply(this,arguments)}function ue(){return(ue=(0,B.Z)(function*(R){const N=yield R();return N.status>=500&&N.status<600?R():N})).apply(this,arguments)}function _e(R){return Number(R.replace("s","000"))}function De(R,N){return $e.apply(this,arguments)}function $e(){return($e=(0,B.Z)(function*({appConfig:R,heartbeatServiceProvider:N},{fid:H}){const ee=Ue(R),we=dt(R),xe=N.getImmediate({optional:!0});if(xe){const Ut=yield xe.getHeartbeatsHeader();Ut&&we.append("x-firebase-client",Ut)}const Rt={method:"POST",headers:we,body:JSON.stringify({fid:H,authVersion:it,appId:R.appId,sdkVersion:he})},jt=yield V(()=>fetch(ee,Rt));if(jt.ok){const Ut=yield jt.json();return{fid:Ut.fid||H,registrationStatus:2,refreshToken:Ut.refreshToken,authToken:je(Ut.authToken)}}throw yield qe("Create Installation",jt)})).apply(this,arguments)}function st(R){return new Promise(N=>{setTimeout(N,R)})}const wn=/^[cdef][\w-]{21}$/;function ut(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const H=function ln(R){return function Ot(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return wn.test(H)?H:""}catch{return""}}function bn(R){return`${R.appName}!${R.appId}`}const Zt=new Map;function xt(R,N){const H=bn(R);Pn(H,N),function _n(R,N){const H=function _r(){return!hr&&"BroadcastChannel"in self&&(hr=new BroadcastChannel("[Firebase] FID Change"),hr.onmessage=R=>{Pn(R.data.key,R.data.fid)}),hr}();H&&H.postMessage({key:R,fid:N}),function $n(){0===Zt.size&&hr&&(hr.close(),hr=null)}()}(H,N)}function Pn(R,N){const H=Zt.get(R);if(H)for(const ee of H)ee(N)}let hr=null;const Ft="firebase-installations-store";let Sr=null;function yr(){return Sr||(Sr=(0,Ce.X3)("firebase-installations-database",1,{upgrade:(R,N)=>{0===N&&R.createObjectStore(Ft)}})),Sr}function ct(R,N){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,B.Z)(function*(R,N){const H=bn(R),we=(yield yr()).transaction(Ft,"readwrite"),xe=we.objectStore(Ft),ot=yield xe.get(H);return yield xe.put(N,H),yield we.done,(!ot||ot.fid!==N.fid)&&xt(R,N.fid),N})).apply(this,arguments)}function wi(R){return In.apply(this,arguments)}function In(){return(In=(0,B.Z)(function*(R){const N=bn(R),ee=(yield yr()).transaction(Ft,"readwrite");yield ee.objectStore(Ft).delete(N),yield ee.done})).apply(this,arguments)}function Ar(R,N){return $r.apply(this,arguments)}function $r(){return($r=(0,B.Z)(function*(R,N){const H=bn(R),we=(yield yr()).transaction(Ft,"readwrite"),xe=we.objectStore(Ft),ot=yield xe.get(H),Rt=N(ot);return void 0===Rt?yield xe.delete(H):yield xe.put(Rt,H),yield we.done,Rt&&(!ot||ot.fid!==Rt.fid)&&xt(R,Rt.fid),Rt})).apply(this,arguments)}function on(R){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,B.Z)(function*(R){let N;const H=yield Ar(R.appConfig,ee=>{const we=Jt(ee),xe=Dt(R,we);return N=xe.registrationPromise,xe.installationEntry});return""===H.fid?{installationEntry:yield N}:{installationEntry:H,registrationPromise:N}})).apply(this,arguments)}function Jt(R){return Vt(R||{fid:ut(),registrationStatus:0})}function Dt(R,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(wt.create("app-offline"))};const H={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ee=function Mt(R,N){return kn.apply(this,arguments)}(R,H);return{installationEntry:H,registrationPromise:ee}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Kn(R)}:{installationEntry:N}}function kn(){return(kn=(0,B.Z)(function*(R,N){try{const H=yield De(R,N);return ct(R.appConfig,H)}catch(H){throw Et(H)&&409===H.customData.serverCode?yield wi(R.appConfig):yield ct(R.appConfig,{fid:N.fid,registrationStatus:0}),H}})).apply(this,arguments)}function Kn(R){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,B.Z)(function*(R){let N=yield Ir(R.appConfig);for(;1===N.registrationStatus;)yield st(100),N=yield Ir(R.appConfig);if(0===N.registrationStatus){const{installationEntry:H,registrationPromise:ee}=yield on(R);return ee||H}return N})).apply(this,arguments)}function Ir(R){return Ar(R,N=>{if(!N)throw wt.create("installation-not-found");return Vt(N)})}function Vt(R){return function qr(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function hn(R,N){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,B.Z)(function*({appConfig:R,heartbeatServiceProvider:N},H){const ee=Mn(R,H),we=oe(R,H),xe=N.getImmediate({optional:!0});if(xe){const Ut=yield xe.getHeartbeatsHeader();Ut&&we.append("x-firebase-client",Ut)}const Rt={method:"POST",headers:we,body:JSON.stringify({installation:{sdkVersion:he,appId:R.appId}})},jt=yield V(()=>fetch(ee,Rt));if(jt.ok)return je(yield jt.json());throw yield qe("Generate Auth Token",jt)})).apply(this,arguments)}function Mn(R,{fid:N}){return`${Ue(R)}/${N}/authTokens:generate`}function zn(R){return er.apply(this,arguments)}function er(){return(er=(0,B.Z)(function*(R,N=!1){let H;const ee=yield Ar(R.appConfig,xe=>{if(!Xt(xe))throw wt.create("not-registered");const ot=xe.authToken;if(!N&&ce(ot))return xe;if(1===ot.requestStatus)return H=Je(R,N),xe;{if(!navigator.onLine)throw wt.create("app-offline");const Rt=pe(xe);return H=Lt(R,Rt),Rt}});return H?yield H:ee.authToken})).apply(this,arguments)}function Je(R,N){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,B.Z)(function*(R,N){let H=yield It(R.appConfig);for(;1===H.authToken.requestStatus;)yield st(100),H=yield It(R.appConfig);const ee=H.authToken;return 0===ee.requestStatus?zn(R,N):ee})).apply(this,arguments)}function It(R){return Ar(R,N=>{if(!Xt(N))throw wt.create("not-registered");return function He(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Lt(R,N){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,B.Z)(function*(R,N){try{const H=yield hn(R,N),ee=Object.assign(Object.assign({},N),{authToken:H});return yield ct(R.appConfig,ee),H}catch(H){if(!Et(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const ee=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield ct(R.appConfig,ee)}else yield wi(R.appConfig);throw H}})).apply(this,arguments)}function Xt(R){return void 0!==R&&2===R.registrationStatus}function ce(R){return 2===R.requestStatus&&!function ne(R){const N=Date.now();return N<R.creationTime||R.creationTime+R.expiresIn<N+36e5}(R)}function pe(R){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:N})}function mt(){return(mt=(0,B.Z)(function*(R){const N=R,{installationEntry:H,registrationPromise:ee}=yield on(N);return ee?ee.catch(console.error):zn(N).catch(console.error),H.fid})).apply(this,arguments)}function Dn(){return(Dn=(0,B.Z)(function*(R,N=!1){const H=R;return yield Tn(H),(yield zn(H,N)).token})).apply(this,arguments)}function Tn(R){return yn.apply(this,arguments)}function yn(){return(yn=(0,B.Z)(function*(R){const{registrationPromise:N}=yield on(R);N&&(yield N)})).apply(this,arguments)}function ir(R){return wt.create("missing-app-config-values",{valueName:R})}const Ii="installations",qn=R=>{const N=R.getProvider("app").getImmediate(),H=function un(R){if(!R||!R.options)throw ir("App Configuration");if(!R.name)throw ir("App Name");const N=["projectId","apiKey","appId"];for(const H of N)if(!R.options[H])throw ir(H);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(N);return{app:N,appConfig:H,heartbeatServiceProvider:(0,T._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},ji=R=>{const N=R.getProvider("app").getImmediate(),H=(0,T._getProvider)(N,Ii).getImmediate();return{getId:()=>function ye(R){return mt.apply(this,arguments)}(H),getToken:we=>function Nt(R){return Dn.apply(this,arguments)}(H,we)}};(function vr(){(0,T._registerComponent)(new Ie.wA(Ii,qn,"PUBLIC")),(0,T._registerComponent)(new Ie.wA("installations-internal",ji,"PRIVATE"))})(),(0,T.registerVersion)(Te,"0.6.0"),(0,T.registerVersion)(Te,"0.6.0","esm2017");const fr="@firebase/remote-config",Jn=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class di{constructor(N,H,ee,we){this.client=N,this.storage=H,this.storageCache=ee,this.logger=we}isCachedDataFresh(N,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ee=Date.now()-H,we=ee<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${we}.`),we}fetch(N){var H=this;return(0,B.Z)(function*(){const[ee,we]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(we&&H.isCachedDataFresh(N.cacheMaxAgeMillis,ee))return we;N.eTag=we&&we.eTag;const xe=yield H.client.fetch(N),ot=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===xe.status&&ot.push(H.storage.setLastSuccessfulFetchResponse(xe)),yield Promise.all(ot),xe})()}}function bs(R=navigator){return R.languages&&R.languages[0]||R.language}class oo{constructor(N,H,ee,we,xe,ot){this.firebaseInstallations=N,this.sdkVersion=H,this.namespace=ee,this.projectId=we,this.apiKey=xe,this.appId=ot}fetch(N){var H=this;return(0,B.Z)(function*(){const[ee,we]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),ot=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},jt={sdk_version:H.sdkVersion,app_instance_id:ee,app_instance_id_token:we,app_id:H.appId,language_code:bs()},Ut={method:"POST",headers:Rt,body:JSON.stringify(jt)},An=fetch(ot,Ut),dn=new Promise((Li,is)=>{N.signal.addEventListener(()=>{const Fa=new Error("The operation was aborted.");Fa.name="AbortError",is(Fa)})});let vi;try{yield Promise.race([An,dn]),vi=yield An}catch(Li){let is="fetch-client-network";throw"AbortError"===Li?.name&&(is="fetch-timeout"),Jn.create(is,{originalErrorMessage:Li?.message})}let Nr=vi.status;const ra=vi.headers.get("ETag")||void 0;let hl,Ho;if(200===vi.status){let Li;try{Li=yield vi.json()}catch(is){throw Jn.create("fetch-client-parse",{originalErrorMessage:is?.message})}hl=Li.entries,Ho=Li.state}if("INSTANCE_STATE_UNSPECIFIED"===Ho?Nr=500:"NO_CHANGE"===Ho?Nr=304:("NO_TEMPLATE"===Ho||"EMPTY_CONFIG"===Ho)&&(hl={}),304!==Nr&&200!==Nr)throw Jn.create("fetch-status",{httpStatus:Nr});return{status:Nr,eTag:ra,config:hl}})()}}class me{constructor(N,H){this.client=N,this.storage=H}fetch(N){var H=this;return(0,B.Z)(function*(){const ee=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(N,ee)})()}attemptFetch(N,{throttleEndTimeMillis:H,backoffCount:ee}){var we=this;return(0,B.Z)(function*(){yield function Rr(R,N){return new Promise((H,ee)=>{const we=Math.max(N-Date.now(),0),xe=setTimeout(H,we);R.addEventListener(()=>{clearTimeout(xe),ee(Jn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,H);try{const xe=yield we.client.fetch(N);return yield we.storage.deleteThrottleMetadata(),xe}catch(xe){if(!function ve(R){if(!(R instanceof fe.ZR&&R.customData))return!1;const N=Number(R.customData.httpStatus);return 429===N||500===N||503===N||504===N}(xe))throw xe;const ot={throttleEndTimeMillis:Date.now()+(0,fe.$s)(ee),backoffCount:ee+1};return yield we.storage.setThrottleMetadata(ot),we.attemptFetch(N,ot)}})()}}class et{constructor(N,H,ee,we,xe){this.app=N,this._client=H,this._storageCache=ee,this._storage=we,this._logger=xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gt(R,N){const H=R.target.error||void 0;return Jn.create(N,{originalErrorMessage:H&&H?.message})}const ht="app_namespace_store";class $o{constructor(N,H,ee,we=function cs(){return new Promise((R,N)=>{try{const H=indexedDB.open("firebase_remote_config",1);H.onerror=ee=>{N(gt(ee,"storage-open"))},H.onsuccess=ee=>{R(ee.target.result)},H.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(ht,{keyPath:"compositeKey"})}}catch(H){N(Jn.create("storage-open",{originalErrorMessage:H?.message}))}})}()){this.appId=N,this.appName=H,this.namespace=ee,this.openDbPromise=we}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var H=this;return(0,B.Z)(function*(){const ee=yield H.openDbPromise;return new Promise((we,xe)=>{const Rt=ee.transaction([ht],"readonly").objectStore(ht),jt=H.createCompositeKey(N);try{const Ut=Rt.get(jt);Ut.onerror=An=>{xe(gt(An,"storage-get"))},Ut.onsuccess=An=>{const dn=An.target.result;we(dn?dn.value:void 0)}}catch(Ut){xe(Jn.create("storage-get",{originalErrorMessage:Ut?.message}))}})})()}set(N,H){var ee=this;return(0,B.Z)(function*(){const we=yield ee.openDbPromise;return new Promise((xe,ot)=>{const jt=we.transaction([ht],"readwrite").objectStore(ht),Ut=ee.createCompositeKey(N);try{const An=jt.put({compositeKey:Ut,value:H});An.onerror=dn=>{ot(gt(dn,"storage-set"))},An.onsuccess=()=>{xe()}}catch(An){ot(Jn.create("storage-set",{originalErrorMessage:An?.message}))}})})()}delete(N){var H=this;return(0,B.Z)(function*(){const ee=yield H.openDbPromise;return new Promise((we,xe)=>{const Rt=ee.transaction([ht],"readwrite").objectStore(ht),jt=H.createCompositeKey(N);try{const Ut=Rt.delete(jt);Ut.onerror=An=>{xe(gt(An,"storage-delete"))},Ut.onsuccess=()=>{we()}}catch(Ut){xe(Jn.create("storage-delete",{originalErrorMessage:Ut?.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Wr{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,B.Z)(function*(){const H=N.storage.getLastFetchStatus(),ee=N.storage.getLastSuccessfulFetchTimestampMillis(),we=N.storage.getActiveConfig(),xe=yield H;xe&&(N.lastFetchStatus=xe);const ot=yield ee;ot&&(N.lastSuccessfulFetchTimestampMillis=ot);const Rt=yield we;Rt&&(N.activeConfig=Rt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function nr(){return ao.apply(this,arguments)}function ao(){return(ao=(0,B.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function Gi(){(0,T._registerComponent)(new Ie.wA("remote-config",function R(N,{instanceIdentifier:H}){const ee=N.getProvider("app").getImmediate(),we=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!(0,fe.hl)())throw Jn.create("indexed-db-unavailable");const{projectId:xe,apiKey:ot,appId:Rt}=ee.options;if(!xe)throw Jn.create("registration-project-id");if(!ot)throw Jn.create("registration-api-key");if(!Rt)throw Jn.create("registration-app-id");const jt=new $o(Rt,ee.name,H=H||"firebase"),Ut=new Wr(jt),An=new be.Yd(fr);An.logLevel=be.in.ERROR;const dn=new oo(we,T.SDK_VERSION,H,xe,ot,Rt),vi=new me(dn,jt),Nr=new di(vi,jt,Ut,An),ra=new et(ee,Nr,Ut,jt,An);return function pr(R){const N=(0,fe.m9)(R);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(ra),ra},"PUBLIC").setMultipleInstances(!0)),(0,T.registerVersion)(fr,"0.4.0"),(0,T.registerVersion)(fr,"0.4.0","esm2017")}();const bi="/firebase-messaging-sw.js",Dr="/firebase-cloud-messaging-push-scope",ds="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lo="google.c.a.c_id",To="google.c.a.c_l",Ti="google.c.a.ts",Wo="google.c.a.e";var zi=(()=>{return(R=zi||(zi={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",zi;var R})();function Gr(R){const N=new Uint8Array(R);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Jr(R){const H=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ee=atob(H),we=new Uint8Array(ee.length);for(let xe=0;xe<ee.length;++xe)we[xe]=ee.charCodeAt(xe);return we}const Bs="fcm_token_details_db",ai="fcm_token_object_Store";function uo(R){return vn.apply(this,arguments)}function vn(){return vn=(0,B.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(Bs))return null;let N=null;return(yield(0,Ce.X3)(Bs,5,{upgrade:(ee=(0,B.Z)(function*(we,xe,ot,Rt){var jt;if(xe<2||!we.objectStoreNames.contains(ai))return;const Ut=Rt.objectStore(ai),An=yield Ut.index("fcmSenderId").get(R);if(yield Ut.clear(),An)if(2===xe){const dn=An;if(!dn.auth||!dn.p256dh||!dn.endpoint)return;N={token:dn.fcmToken,createTime:null!==(jt=dn.createTime)&&void 0!==jt?jt:Date.now(),subscriptionOptions:{auth:dn.auth,p256dh:dn.p256dh,endpoint:dn.endpoint,swScope:dn.swScope,vapidKey:"string"==typeof dn.vapidKey?dn.vapidKey:Gr(dn.vapidKey)}}}else if(3===xe){const dn=An;N={token:dn.fcmToken,createTime:dn.createTime,subscriptionOptions:{auth:Gr(dn.auth),p256dh:Gr(dn.p256dh),endpoint:dn.endpoint,swScope:dn.swScope,vapidKey:Gr(dn.vapidKey)}}}else if(4===xe){const dn=An;N={token:dn.fcmToken,createTime:dn.createTime,subscriptionOptions:{auth:Gr(dn.auth),p256dh:Gr(dn.p256dh),endpoint:dn.endpoint,swScope:dn.swScope,vapidKey:Gr(dn.vapidKey)}}}}),function(xe,ot,Rt,jt){return ee.apply(this,arguments)})})).close(),yield(0,Ce.Lj)(Bs),yield(0,Ce.Lj)("fcm_vapid_details_db"),yield(0,Ce.Lj)("undefined"),lr(N)?N:null;var ee}),vn.apply(this,arguments)}function lr(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:N}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Cr="firebase-messaging-store";let Ur=null;function Vr(){return Ur||(Ur=(0,Ce.X3)("firebase-messaging-database",1,{upgrade:(R,N)=>{0===N&&R.createObjectStore(Cr)}})),Ur}function hs(R){return ur.apply(this,arguments)}function ur(){return(ur=(0,B.Z)(function*(R){const N=Zi(R),ee=yield(yield Vr()).transaction(Cr).objectStore(Cr).get(N);if(ee)return ee;{const we=yield uo(R.appConfig.senderId);if(we)return yield Fn(R,we),we}})).apply(this,arguments)}function Fn(R,N){return So.apply(this,arguments)}function So(){return(So=(0,B.Z)(function*(R,N){const H=Zi(R),we=(yield Vr()).transaction(Cr,"readwrite");return yield we.objectStore(Cr).put(N,H),yield we.done,N})).apply(this,arguments)}function Oi(R){return Go.apply(this,arguments)}function Go(){return(Go=(0,B.Z)(function*(R){const N=Zi(R),ee=(yield Vr()).transaction(Cr,"readwrite");yield ee.objectStore(Cr).delete(N),yield ee.done})).apply(this,arguments)}function Zi({appConfig:R}){return R.appId}const wr=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Gt(R,N){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,B.Z)(function*(R,N){const H=yield Zo(R),ee=tt(N),we={method:"POST",headers:H,body:JSON.stringify(ee)};let xe;try{xe=yield(yield fetch(an(R.appConfig),we)).json()}catch(ot){throw wr.create("token-subscribe-failed",{errorInfo:ot?.toString()})}if(xe.error)throw wr.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw wr.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function ca(R,N){return xi.apply(this,arguments)}function xi(){return(xi=(0,B.Z)(function*(R,N){const H=yield Zo(R),ee=tt(N.subscriptionOptions),we={method:"PATCH",headers:H,body:JSON.stringify(ee)};let xe;try{xe=yield(yield fetch(`${an(R.appConfig)}/${N.token}`,we)).json()}catch(ot){throw wr.create("token-update-failed",{errorInfo:ot?.toString()})}if(xe.error)throw wr.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw wr.create("token-update-no-token");return xe.token})).apply(this,arguments)}function Ao(R,N){return co.apply(this,arguments)}function co(){return(co=(0,B.Z)(function*(R,N){const ee={method:"DELETE",headers:yield Zo(R)};try{const xe=yield(yield fetch(`${an(R.appConfig)}/${N}`,ee)).json();if(xe.error)throw wr.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(we){throw wr.create("token-unsubscribe-failed",{errorInfo:we?.toString()})}})).apply(this,arguments)}function an({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function Zo(R){return fs.apply(this,arguments)}function fs(){return(fs=(0,B.Z)(function*({appConfig:R,installations:N}){const H=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function tt({p256dh:R,auth:N,endpoint:H,vapidKey:ee}){const we={web:{endpoint:H,auth:N,p256dh:R}};return ee!==ds&&(we.web.applicationPubKey=ee),we}const En=6048e5;function Ki(R){return fi.apply(this,arguments)}function fi(){return(fi=(0,B.Z)(function*(R){const N=yield ps(R.swRegistration,R.vapidKey),H={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:N.endpoint,auth:Gr(N.getKey("auth")),p256dh:Gr(N.getKey("p256dh"))},ee=yield hs(R.firebaseDependencies);if(ee){if(da(ee.subscriptionOptions,H))return Date.now()>=ee.createTime+En?pi(R,{token:ee.token,createTime:Date.now(),subscriptionOptions:H}):ee.token;try{yield Ao(R.firebaseDependencies,ee.token)}catch(we){console.warn(we)}return Mo(R.firebaseDependencies,H)}return Mo(R.firebaseDependencies,H)})).apply(this,arguments)}function cr(R){return nn.apply(this,arguments)}function nn(){return(nn=(0,B.Z)(function*(R){const N=yield hs(R.firebaseDependencies);N&&(yield Ao(R.firebaseDependencies,N.token),yield Oi(R.firebaseDependencies));const H=yield R.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()})).apply(this,arguments)}function pi(R,N){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,B.Z)(function*(R,N){try{const H=yield ca(R.firebaseDependencies,N),ee=Object.assign(Object.assign({},N),{token:H,createTime:Date.now()});return yield Fn(R.firebaseDependencies,ee),H}catch(H){throw yield cr(R),H}})).apply(this,arguments)}function Mo(R,N){return rr.apply(this,arguments)}function rr(){return(rr=(0,B.Z)(function*(R,N){const ee={token:yield Gt(R,N),createTime:Date.now(),subscriptionOptions:N};return yield Fn(R,ee),ee.token})).apply(this,arguments)}function ps(R,N){return js.apply(this,arguments)}function js(){return(js=(0,B.Z)(function*(R,N){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Jr(N)})})).apply(this,arguments)}function da(R,N){return N.vapidKey===R.vapidKey&&N.endpoint===R.endpoint&&N.auth===R.auth&&N.p256dh===R.p256dh}function Ro(R){const N={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function dr(R,N){if(!N.notification)return;R.notification={};const H=N.notification.title;H&&(R.notification.title=H);const ee=N.notification.body;ee&&(R.notification.body=ee);const we=N.notification.image;we&&(R.notification.image=we);const xe=N.notification.icon;xe&&(R.notification.icon=xe)}(N,R),function Xr(R,N){!N.data||(R.data=N.data)}(N,R),function $s(R,N){var H,ee,we,xe,ot;if(!(N.fcmOptions||null!==(H=N.notification)&&void 0!==H&&H.click_action))return;R.fcmOptions={};const Rt=null!==(we=null===(ee=N.fcmOptions)||void 0===ee?void 0:ee.link)&&void 0!==we?we:null===(xe=N.notification)||void 0===xe?void 0:xe.click_action;Rt&&(R.fcmOptions.link=Rt);const jt=null===(ot=N.fcmOptions)||void 0===ot?void 0:ot.analytics_label;jt&&(R.fcmOptions.analyticsLabel=jt)}(N,R),N}function Ws(R){return"object"==typeof R&&!!R&&lo in R}function qi(R,N){const H=[];for(let ee=0;ee<R.length;ee++)H.push(R.charAt(ee)),ee<N.length&&H.push(N.charAt(ee));return H.join("")}function Gs(R){return wr.create("missing-app-config-values",{valueName:R})}qi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),qi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ho{constructor(N,H,ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const we=function Ko(R){if(!R||!R.options)throw Gs("App Configuration Object");if(!R.name)throw Gs("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:H}=R;for(const ee of N)if(!H[ee])throw Gs(ee);return{appName:R.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:we,installations:H,analyticsProvider:ee}}_delete(){return Promise.resolve()}}function gs(R){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,B.Z)(function*(R){try{R.swRegistration=yield navigator.serviceWorker.register(bi,{scope:Dr}),R.swRegistration.update().catch(()=>{})}catch(N){throw wr.create("failed-service-worker-registration",{browserErrorMessage:N?.message})}})).apply(this,arguments)}function gi(R,N){return Po.apply(this,arguments)}function Po(){return(Po=(0,B.Z)(function*(R,N){if(!N&&!R.swRegistration&&(yield gs(R)),N||!R.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw wr.create("invalid-sw-registration");R.swRegistration=N}})).apply(this,arguments)}function fo(R,N){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,B.Z)(function*(R,N){N?R.vapidKey=N:R.vapidKey||(R.vapidKey=ds)})).apply(this,arguments)}function zs(){return(zs=(0,B.Z)(function*(R,N){if(!navigator)throw wr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wr.create("permission-blocked");return yield fo(R,N?.vapidKey),yield gi(R,N?.serviceWorkerRegistration),Ki(R)})).apply(this,arguments)}function As(R,N,H){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,B.Z)(function*(R,N,H){const ee=mi(N);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(ee,{message_id:H[lo],message_name:H[To],message_time:H[Ti],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function mi(R){switch(R){case zi.NOTIFICATION_CLICKED:return"notification_open";case zi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function F(){return(F=(0,B.Z)(function*(R,N){const H=N.data;if(!H.isFirebaseMessaging)return;R.onMessageHandler&&H.messageType===zi.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Ro(H)):R.onMessageHandler.next(Ro(H)));const ee=H.data;Ws(ee)&&"1"===ee[Wo]&&(yield As(R,H.messageType,ee))})).apply(this,arguments)}const P="@firebase/messaging",G="0.12.0",re=R=>{const N=new ho(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function A(R,N){return F.apply(this,arguments)}(N,H)),N},Oe=R=>{const N=R.getProvider("messaging").getImmediate();return{getToken:ee=>function qo(R,N){return zs.apply(this,arguments)}(N,ee)}};function Tt(){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,B.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Be(){(0,T._registerComponent)(new Ie.wA("messaging",re,"PUBLIC")),(0,T._registerComponent)(new Ie.wA("messaging-internal",Oe,"PRIVATE")),(0,T.registerVersion)(P,G),(0,T.registerVersion)(P,G,"esm2017")}();const zr="analytics",Ni="firebase_id",Ji="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xi="https://www.googletagmanager.com/gtag/js",br=new be.Yd("@firebase/analytics");function ha(R){return Promise.all(R.map(N=>N.catch(H=>H)))}function fa(R,N){const H=document.createElement("script");H.src=`${Xi}?l=${R}&id=${N}`,H.async=!0,document.head.appendChild(H)}function pa(R,N,H,ee,we,xe){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,B.Z)(function*(R,N,H,ee,we,xe){const ot=ee[we];try{if(ot)yield N[ot];else{const jt=(yield ha(H)).find(Ut=>Ut.measurementId===we);jt&&(yield N[jt.appId])}}catch(Rt){br.error(Rt)}R("config",we,xe)})).apply(this,arguments)}function ms(R,N,H,ee,we){return _s.apply(this,arguments)}function _s(){return(_s=(0,B.Z)(function*(R,N,H,ee,we){try{let xe=[];if(we&&we.send_to){let ot=we.send_to;Array.isArray(ot)||(ot=[ot]);const Rt=yield ha(H);for(const jt of ot){const Ut=Rt.find(dn=>dn.measurementId===jt),An=Ut&&N[Ut.appId];if(!An){xe=[];break}xe.push(An)}}0===xe.length&&(xe=Object.values(N)),yield Promise.all(xe),R("event",ee,we||{})}catch(xe){br.error(xe)}})).apply(this,arguments)}function Hr(R){const N=window.document.getElementsByTagName("script");for(const H of Object.values(N))if(H.src&&H.src.includes(Xi)&&H.src.includes(R))return H;return null}const Zr=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),go=new class _i{constructor(N={},H=1e3){this.throttleMetadata=N,this.intervalMillis=H}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,H){this.throttleMetadata[N]=H}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Rs(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function mo(R){return ys.apply(this,arguments)}function ys(){return(ys=(0,B.Z)(function*(R){var N;const{appId:H,apiKey:ee}=R,we={method:"GET",headers:Rs(ee)},xe=Ji.replace("{app-id}",H),ot=yield fetch(xe,we);if(200!==ot.status&&304!==ot.status){let Rt="";try{const jt=yield ot.json();null!==(N=jt.error)&&void 0!==N&&N.message&&(Rt=jt.error.message)}catch{}throw Zr.create("config-fetch-failed",{httpStatus:ot.status,responseMessage:Rt})}return ot.json()})).apply(this,arguments)}function xr(R){return yi.apply(this,arguments)}function yi(){return(yi=(0,B.Z)(function*(R,N=go,H){const{appId:ee,apiKey:we,measurementId:xe}=R.options;if(!ee)throw Zr.create("no-app-id");if(!we){if(xe)return{measurementId:xe,appId:ee};throw Zr.create("no-api-key")}const ot=N.getThrottleMetadata(ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Rt=new Ga;return setTimeout((0,B.Z)(function*(){Rt.abort()}),void 0!==H?H:6e4),Sa({appId:ee,apiKey:we,measurementId:xe},ot,Rt,N)})).apply(this,arguments)}function Sa(R,N,H){return xo.apply(this,arguments)}function xo(){return(xo=(0,B.Z)(function*(R,{throttleEndTimeMillis:N,backoffCount:H},ee,we=go){var xe;const{appId:ot,measurementId:Rt}=R;try{yield Wa(ee,N)}catch(jt){if(Rt)return br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rt} provided in the "measurementId" field in the local Firebase config. [${jt?.message}]`),{appId:ot,measurementId:Rt};throw jt}try{const jt=yield mo(R);return we.deleteThrottleMetadata(ot),jt}catch(jt){const Ut=jt;if(!Qa(Ut)){if(we.deleteThrottleMetadata(ot),Rt)return br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Rt} provided in the "measurementId" field in the local Firebase config. [${Ut?.message}]`),{appId:ot,measurementId:Rt};throw jt}const An=503===Number(null===(xe=Ut?.customData)||void 0===xe?void 0:xe.httpStatus)?(0,fe.$s)(H,we.intervalMillis,30):(0,fe.$s)(H,we.intervalMillis),dn={throttleEndTimeMillis:Date.now()+An,backoffCount:H+1};return we.setThrottleMetadata(ot,dn),br.debug(`Calling attemptFetch again in ${An} millis`),Sa(R,dn,ee,we)}})).apply(this,arguments)}function Wa(R,N){return new Promise((H,ee)=>{const we=Math.max(N-Date.now(),0),xe=setTimeout(H,we);R.addEventListener(()=>{clearTimeout(xe),ee(Zr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function Qa(R){if(!(R instanceof fe.ZR&&R.customData))return!1;const N=Number(R.customData.httpStatus);return 429===N||500===N||503===N||504===N}class Ga{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let Jo,xs;function es(){return(es=(0,B.Z)(function*(R,N,H,ee,we){if(we&&we.global)R("event",H,ee);else{const xe=yield N;R("event",H,Object.assign(Object.assign({},ee),{send_to:xe}))}})).apply(this,arguments)}function Ns(R){xs=R}function ko(R){Jo=R}function Aa(){return gr.apply(this,arguments)}function gr(){return(gr=(0,B.Z)(function*(){if(!(0,fe.hl)())return br.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(R){return br.warn(Zr.create("indexeddb-unavailable",{errorInfo:R?.toString()}).message),!1}return!0})).apply(this,arguments)}function Fo(){return(Fo=(0,B.Z)(function*(R,N,H,ee,we,xe,ot){var Rt;const jt=xr(R);jt.then(Nr=>{H[Nr.measurementId]=Nr.appId,R.options.measurementId&&Nr.measurementId!==R.options.measurementId&&br.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${Nr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Nr=>br.error(Nr)),N.push(jt);const Ut=Aa().then(Nr=>{if(Nr)return ee.getId()}),[An,dn]=yield Promise.all([jt,Ut]);Hr(xe)||fa(xe,An.measurementId),xs&&(we("consent","default",xs),Ns(void 0)),we("js",new Date);const vi=null!==(Rt=ot?.config)&&void 0!==Rt?Rt:{};return vi.origin="firebase",vi.update=!0,null!=dn&&(vi[Ni]=dn),we("config",An.measurementId,vi),Jo&&(we("set",Jo),ko(void 0)),An.measurementId})).apply(this,arguments)}class Xo{constructor(N){this.app=N}_delete(){return delete Kr[this.app.options.appId],Promise.resolve()}}let Kr={},ks=[];const vo={};let Ks,ts,Lo="dataLayer",ns=!1;function Ja(R,N,H){!function ya(){const R=[];if((0,fe.ru)()&&R.push("This is a browser extension environment."),(0,fe.zI)()||R.push("Cookies are not available."),R.length>0){const N=R.map((ee,we)=>`(${we+1}) ${ee}`).join(" "),H=Zr.create("invalid-analytics-context",{errorInfo:N});br.warn(H.message)}}();const ee=R.options.appId;if(!ee)throw Zr.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw Zr.create("no-api-key");br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Kr[ee])throw Zr.create("already-exists",{id:ee});if(!ns){!function Qo(R){let N=[];Array.isArray(window[R])?N=window[R]:window[R]=N}(Lo);const{wrappedGtag:xe,gtagCore:ot}=function fn(R,N,H,ee,we){let xe=function(...ot){window[ee].push(arguments)};return window[we]&&"function"==typeof window[we]&&(xe=window[we]),window[we]=function Ta(R,N,H,ee){function xe(){return(xe=(0,B.Z)(function*(ot,Rt,jt){try{"event"===ot?yield ms(R,N,H,Rt,jt):"config"===ot?yield pa(R,N,H,ee,Rt,jt):"consent"===ot?R("consent","update",jt):R("set",Rt)}catch(Ut){br.error(Ut)}})).apply(this,arguments)}return function we(ot,Rt,jt){return xe.apply(this,arguments)}}(xe,R,N,H),{gtagCore:xe,wrappedGtag:window[we]}}(Kr,ks,vo,Lo,"gtag");ts=xe,Ks=ot,ns=!0}return Kr[ee]=function yo(R,N,H,ee,we,xe,ot){return Fo.apply(this,arguments)}(R,ks,vo,N,Ks,Lo,H),new Xo(R)}function Ra(){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,B.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const za="@firebase/analytics";!function ri(){(0,T._registerComponent)(new Ie.wA(zr,(N,{options:H})=>Ja(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,T._registerComponent)(new Ie.wA("analytics-internal",function R(N){try{const H=N.getProvider(zr).getImmediate();return{logEvent:(ee,we,xe)=>function Pa(R,N,H,ee){R=(0,fe.m9)(R),function dl(R,N,H,ee,we){return es.apply(this,arguments)}(ts,Kr[R.app.options.appId],N,H,ee).catch(we=>br.error(we))}(H,ee,we,xe)}}catch(H){throw Zr.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,T.registerVersion)(za,"0.9.0"),(0,T.registerVersion)(za,"0.9.0","esm2017")}();var rs=U(4408),Eo=U(7565);const Co=new class qs extends Eo.v{}(class xa extends rs.o{constructor(N,H){super(N,H),this.scheduler=N,this.work=H}schedule(N,H=0){return H>0?super.schedule(N,H):(this.delay=H,this.state=N,this.scheduler.flush(this),this)}execute(N,H){return H>0||this.closed?super.execute(N,H):this._execute(N,H)}requestAsyncId(N,H,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(N,H,ee):(N.flush(this),0)}});var Na=U(4986),Vo=U(8505),Ys=U(5363),Za=U(9468);const Fi=new w.GfV("7.5.0"),Bo="__angularfire_symbol__analyticsIsSupportedValue",Vi="__angularfire_symbol__analyticsIsSupported",v="__angularfire_symbol__remoteConfigIsSupportedValue",E="__angularfire_symbol__remoteConfigIsSupported",_="__angularfire_symbol__messagingIsSupportedValue",b="__angularfire_symbol__messagingIsSupported";function Fe(R,N,H){if(N){if(1===N.length)return N[0];const xe=N.filter(ot=>ot.app===H);if(1===xe.length)return xe[0]}return H.container.getProvider(R).getImmediate({optional:!0})}globalThis[Vi]||(globalThis[Vi]=Ra().then(R=>globalThis[Bo]=R).catch(()=>globalThis[Bo]=!1)),globalThis[b]||(globalThis[b]=Tt().then(R=>globalThis[_]=R).catch(()=>globalThis[_]=!1)),globalThis[E]||(globalThis[E]=nr().then(R=>globalThis[v]=R).catch(()=>globalThis[v]=!1));const ft=(R,N)=>{const H=N?[N]:(0,Z.C6)(),ee=[];return H.forEach(we=>{we.container.getProvider(R).instances.forEach(ot=>{ee.includes(ot)||ee.push(ot)})}),ee};function tn(){}class _t{constructor(N,H=Co){this.zone=N,this.delegate=H}now(){return this.delegate.now()}schedule(N,H,ee){const we=this.zone;return this.delegate.schedule(function(ot){we.runGuarded(()=>{N.apply(this,[ot])})},H,ee)}}class Hn{constructor(N){this.zone=N,this.task=null}call(N,H){const ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tn,{},tn,tn)),H.pipe((0,Vo.b)({next:ee,complete:ee,error:ee})).subscribe(N).add(ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ii=(()=>{class R{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new _t(Zone.current)),this.insideAngular=H.run(()=>new _t(Zone.current,Na.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(H){return new(H||R)(w.LFG(w.R0b))},R.\u0275prov=w.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function li(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function Ea(R){return R.pipe((0,Ys.Q)(li().outsideAngular))}function Ls(R){return li(),function ka(R){return function(H){return(H=H.lift(new Hn(R.ngZone))).pipe((0,Za.R)(R.outsideAngular),(0,Ys.Q)(R.insideAngular))}}(li())(R)}},2090:(bt,ke,U)=>{U.d(ke,{$s:()=>It,BH:()=>Bt,DV:()=>Ft,Dv:()=>Kn,GJ:()=>xn,L:()=>Ce,LL:()=>Zt,Pz:()=>wn,Sg:()=>ut,UG:()=>Ve,UI:()=>yr,US:()=>Ie,Wj:()=>Vt,Wl:()=>Pn,Yr:()=>je,ZB:()=>ie,ZR:()=>bn,aH:()=>Ot,b$:()=>Me,cI:()=>Kt,dS:()=>hn,eu:()=>dt,g5:()=>B,gK:()=>Vn,gQ:()=>on,h$:()=>be,hl:()=>at,hu:()=>Z,jU:()=>Ye,lb:()=>qr,m9:()=>Xt,ne:()=>Nn,p$:()=>ae,pd:()=>$r,r3:()=>Gn,ru:()=>Ne,tV:()=>Te,uI:()=>Qe,ug:()=>Yr,vZ:()=>ct,w1:()=>Et,w9:()=>$n,xO:()=>In,xb:()=>Sr,z$:()=>it,zI:()=>oe,zd:()=>Ar});const Z=function(ce,ne){if(!ce)throw B(ne)},B=function(ce){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+ce)},T=function(ce){const ne=[];let pe=0;for(let He=0;He<ce.length;He++){let ye=ce.charCodeAt(He);ye<128?ne[pe++]=ye:ye<2048?(ne[pe++]=ye>>6|192,ne[pe++]=63&ye|128):55296==(64512&ye)&&He+1<ce.length&&56320==(64512&ce.charCodeAt(He+1))?(ye=65536+((1023&ye)<<10)+(1023&ce.charCodeAt(++He)),ne[pe++]=ye>>18|240,ne[pe++]=ye>>12&63|128,ne[pe++]=ye>>6&63|128,ne[pe++]=63&ye|128):(ne[pe++]=ye>>12|224,ne[pe++]=ye>>6&63|128,ne[pe++]=63&ye|128)}return ne},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ce,ne){if(!Array.isArray(ce))throw Error("encodeByteArray takes an array as a parameter");this.init_();const pe=ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,He=[];for(let ye=0;ye<ce.length;ye+=3){const mt=ce[ye],Nt=ye+1<ce.length,Dn=Nt?ce[ye+1]:0,Tn=ye+2<ce.length,yn=Tn?ce[ye+2]:0;let Y=(15&Dn)<<2|yn>>6,Se=63&yn;Tn||(Se=64,Nt||(Y=64)),He.push(pe[mt>>2],pe[(3&mt)<<4|Dn>>4],pe[Y],pe[Se])}return He.join("")},encodeString(ce,ne){return this.HAS_NATIVE_SUPPORT&&!ne?btoa(ce):this.encodeByteArray(T(ce),ne)},decodeString(ce,ne){return this.HAS_NATIVE_SUPPORT&&!ne?atob(ce):function(ce){const ne=[];let pe=0,He=0;for(;pe<ce.length;){const ye=ce[pe++];if(ye<128)ne[He++]=String.fromCharCode(ye);else if(ye>191&&ye<224){const mt=ce[pe++];ne[He++]=String.fromCharCode((31&ye)<<6|63&mt)}else if(ye>239&&ye<365){const Tn=((7&ye)<<18|(63&ce[pe++])<<12|(63&ce[pe++])<<6|63&ce[pe++])-65536;ne[He++]=String.fromCharCode(55296+(Tn>>10)),ne[He++]=String.fromCharCode(56320+(1023&Tn))}else{const mt=ce[pe++],Nt=ce[pe++];ne[He++]=String.fromCharCode((15&ye)<<12|(63&mt)<<6|63&Nt)}}return ne.join("")}(this.decodeStringToByteArray(ce,ne))},decodeStringToByteArray(ce,ne){this.init_();const pe=ne?this.charToByteMapWebSafe_:this.charToByteMap_,He=[];for(let ye=0;ye<ce.length;){const mt=pe[ce.charAt(ye++)],Dn=ye<ce.length?pe[ce.charAt(ye)]:0;++ye;const yn=ye<ce.length?pe[ce.charAt(ye)]:64;++ye;const J=ye<ce.length?pe[ce.charAt(ye)]:64;if(++ye,null==mt||null==Dn||null==yn||null==J)throw Error();He.push(mt<<2|Dn>>4),64!==yn&&(He.push(Dn<<4&240|yn>>2),64!==J&&He.push(yn<<6&192|J))}return He},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ce=0;ce<this.ENCODED_VALS.length;ce++)this.byteToCharMap_[ce]=this.ENCODED_VALS.charAt(ce),this.charToByteMap_[this.byteToCharMap_[ce]]=ce,this.byteToCharMapWebSafe_[ce]=this.ENCODED_VALS_WEBSAFE.charAt(ce),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ce]]=ce,ce>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ce)]=ce,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ce)]=ce)}}},be=function(ce){const ne=T(ce);return Ie.encodeByteArray(ne,!0)},Ce=function(ce){return be(ce).replace(/\./g,"")},Te=function(ce){try{return Ie.decodeString(ce,!0)}catch(ne){console.error("base64Decode failed: ",ne)}return null};function ae(ce){return ie(void 0,ce)}function ie(ce,ne){if(!(ne instanceof Object))return ne;switch(ne.constructor){case Date:return new Date(ne.getTime());case Object:void 0===ce&&(ce={});break;case Array:ce=[];break;default:return ne}for(const pe in ne)!ne.hasOwnProperty(pe)||!he(pe)||(ce[pe]=ie(ce[pe],ne[pe]));return ce}function he(ce){return"__proto__"!==ce}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Qe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function Ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ye(){return"object"==typeof self&&self.self===self}function Ne(){const ce="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ce&&void 0!==ce.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Et(){const ce=it();return ce.indexOf("MSIE ")>=0||ce.indexOf("Trident/")>=0}function je(){return!1}function at(){try{return"object"==typeof indexedDB}catch{return!1}}function dt(){return new Promise((ce,ne)=>{try{let pe=!0;const He="validate-browser-context-for-indexeddb-analytics-module",ye=self.indexedDB.open(He);ye.onsuccess=()=>{ye.result.close(),pe||self.indexedDB.deleteDatabase(He),ce(!0)},ye.onupgradeneeded=()=>{pe=!1},ye.onerror=()=>{var mt;ne((null===(mt=ye.error)||void 0===mt?void 0:mt.message)||"")}}catch(pe){ne(pe)}})}function oe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const De=()=>{try{return function V(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ce=process.env.__FIREBASE_DEFAULTS__;return ce?JSON.parse(ce):void 0})()||(()=>{if(typeof document>"u")return;let ce;try{ce=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ne=ce&&Te(ce[1]);return ne&&JSON.parse(ne)})()}catch(ce){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ce}`)}},Ot=()=>{var ce;return null===(ce=De())||void 0===ce?void 0:ce.config},wn=ce=>{var ne;return null===(ne=De())||void 0===ne?void 0:ne[`_${ce}`]};class Bt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ne,pe)=>{this.resolve=ne,this.reject=pe})}wrapCallback(ne){return(pe,He)=>{pe?this.reject(pe):this.resolve(He),"function"==typeof ne&&(this.promise.catch(()=>{}),1===ne.length?ne(pe):ne(pe,He))}}}function ut(ce,ne){if(ce.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const He=ne||"demo-project",ye=ce.iat||0,mt=ce.sub||ce.user_id;if(!mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nt=Object.assign({iss:`https://securetoken.google.com/${He}`,aud:He,iat:ye,exp:ye+3600,auth_time:ye,sub:mt,user_id:mt,firebase:{sign_in_provider:"custom",identities:{}}},ce);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(Nt)),""].join(".")}class bn extends Error{constructor(ne,pe,He){super(pe),this.code=ne,this.customData=He,this.name="FirebaseError",Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zt.prototype.create)}}class Zt{constructor(ne,pe,He){this.service=ne,this.serviceName=pe,this.errors=He}create(ne,...pe){const He=pe[0]||{},ye=`${this.service}/${ne}`,mt=this.errors[ne],Nt=mt?function xt(ce,ne){return ce.replace(Qn,(pe,He)=>{const ye=ne[He];return null!=ye?String(ye):`<${He}?>`})}(mt,He):"Error";return new bn(ye,`${this.serviceName}: ${Nt} (${ye}).`,He)}}const Qn=/\{\$([^}]+)}/g;function Kt(ce){return JSON.parse(ce)}function Pn(ce){return JSON.stringify(ce)}const _n=function(ce){let ne={},pe={},He={},ye="";try{const mt=ce.split(".");ne=Kt(Te(mt[0])||""),pe=Kt(Te(mt[1])||""),ye=mt[2],He=pe.d||{},delete pe.d}catch{}return{header:ne,claims:pe,data:He,signature:ye}},$n=function(ce){const pe=_n(ce).claims;return!!pe&&"object"==typeof pe&&pe.hasOwnProperty("iat")},xn=function(ce){const ne=_n(ce).claims;return"object"==typeof ne&&!0===ne.admin};function Gn(ce,ne){return Object.prototype.hasOwnProperty.call(ce,ne)}function Ft(ce,ne){if(Object.prototype.hasOwnProperty.call(ce,ne))return ce[ne]}function Sr(ce){for(const ne in ce)if(Object.prototype.hasOwnProperty.call(ce,ne))return!1;return!0}function yr(ce,ne,pe){const He={};for(const ye in ce)Object.prototype.hasOwnProperty.call(ce,ye)&&(He[ye]=ne.call(pe,ce[ye],ye,ce));return He}function ct(ce,ne){if(ce===ne)return!0;const pe=Object.keys(ce),He=Object.keys(ne);for(const ye of pe){if(!He.includes(ye))return!1;const mt=ce[ye],Nt=ne[ye];if(Zn(mt)&&Zn(Nt)){if(!ct(mt,Nt))return!1}else if(mt!==Nt)return!1}for(const ye of He)if(!pe.includes(ye))return!1;return!0}function Zn(ce){return null!==ce&&"object"==typeof ce}function In(ce){const ne=[];for(const[pe,He]of Object.entries(ce))Array.isArray(He)?He.forEach(ye=>{ne.push(encodeURIComponent(pe)+"="+encodeURIComponent(ye))}):ne.push(encodeURIComponent(pe)+"="+encodeURIComponent(He));return ne.length?"&"+ne.join("&"):""}function Ar(ce){const ne={};return ce.replace(/^\?/,"").split("&").forEach(He=>{if(He){const[ye,mt]=He.split("=");ne[decodeURIComponent(ye)]=decodeURIComponent(mt)}}),ne}function $r(ce){const ne=ce.indexOf("?");if(!ne)return"";const pe=ce.indexOf("#",ne);return ce.substring(ne,pe>0?pe:void 0)}class on{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ne=1;ne<this.blockSize;++ne)this.pad_[ne]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ne,pe){pe||(pe=0);const He=this.W_;if("string"==typeof ne)for(let J=0;J<16;J++)He[J]=ne.charCodeAt(pe)<<24|ne.charCodeAt(pe+1)<<16|ne.charCodeAt(pe+2)<<8|ne.charCodeAt(pe+3),pe+=4;else for(let J=0;J<16;J++)He[J]=ne[pe]<<24|ne[pe+1]<<16|ne[pe+2]<<8|ne[pe+3],pe+=4;for(let J=16;J<80;J++){const Y=He[J-3]^He[J-8]^He[J-14]^He[J-16];He[J]=4294967295&(Y<<1|Y>>>31)}let yn,te,ye=this.chain_[0],mt=this.chain_[1],Nt=this.chain_[2],Dn=this.chain_[3],Tn=this.chain_[4];for(let J=0;J<80;J++){J<40?J<20?(yn=Dn^mt&(Nt^Dn),te=1518500249):(yn=mt^Nt^Dn,te=1859775393):J<60?(yn=mt&Nt|Dn&(mt|Nt),te=2400959708):(yn=mt^Nt^Dn,te=3395469782);const Y=(ye<<5|ye>>>27)+yn+Tn+te+He[J]&4294967295;Tn=Dn,Dn=Nt,Nt=4294967295&(mt<<30|mt>>>2),mt=ye,ye=Y}this.chain_[0]=this.chain_[0]+ye&4294967295,this.chain_[1]=this.chain_[1]+mt&4294967295,this.chain_[2]=this.chain_[2]+Nt&4294967295,this.chain_[3]=this.chain_[3]+Dn&4294967295,this.chain_[4]=this.chain_[4]+Tn&4294967295}update(ne,pe){if(null==ne)return;void 0===pe&&(pe=ne.length);const He=pe-this.blockSize;let ye=0;const mt=this.buf_;let Nt=this.inbuf_;for(;ye<pe;){if(0===Nt)for(;ye<=He;)this.compress_(ne,ye),ye+=this.blockSize;if("string"==typeof ne){for(;ye<pe;)if(mt[Nt]=ne.charCodeAt(ye),++Nt,++ye,Nt===this.blockSize){this.compress_(mt),Nt=0;break}}else for(;ye<pe;)if(mt[Nt]=ne[ye],++Nt,++ye,Nt===this.blockSize){this.compress_(mt),Nt=0;break}}this.inbuf_=Nt,this.total_+=pe}digest(){const ne=[];let pe=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ye=this.blockSize-1;ye>=56;ye--)this.buf_[ye]=255&pe,pe/=256;this.compress_(this.buf_);let He=0;for(let ye=0;ye<5;ye++)for(let mt=24;mt>=0;mt-=8)ne[He]=this.chain_[ye]>>mt&255,++He;return ne}}function Nn(ce,ne){const pe=new Jt(ce,ne);return pe.subscribe.bind(pe)}class Jt{constructor(ne,pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=pe,this.task.then(()=>{ne(this)}).catch(He=>{this.error(He)})}next(ne){this.forEachObserver(pe=>{pe.next(ne)})}error(ne){this.forEachObserver(pe=>{pe.error(ne)}),this.close(ne)}complete(){this.forEachObserver(ne=>{ne.complete()}),this.close()}subscribe(ne,pe,He){let ye;if(void 0===ne&&void 0===pe&&void 0===He)throw new Error("Missing Observer.");ye=function Mt(ce,ne){if("object"!=typeof ce||null===ce)return!1;for(const pe of ne)if(pe in ce&&"function"==typeof ce[pe])return!0;return!1}(ne,["next","error","complete"])?ne:{next:ne,error:pe,complete:He},void 0===ye.next&&(ye.next=kn),void 0===ye.error&&(ye.error=kn),void 0===ye.complete&&(ye.complete=kn);const mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ye.error(this.finalError):ye.complete()}catch{}}),this.observers.push(ye),mt}unsubscribeOne(ne){void 0===this.observers||void 0===this.observers[ne]||(delete this.observers[ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ne){if(!this.finalized)for(let pe=0;pe<this.observers.length;pe++)this.sendOne(pe,ne)}sendOne(ne,pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ne])try{pe(this.observers[ne])}catch(He){typeof console<"u"&&console.error&&console.error(He)}})}close(ne){this.finalized||(this.finalized=!0,void 0!==ne&&(this.finalError=ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kn(){}const Kn=function(ce,ne,pe,He){let ye;if(He<ne?ye="at least "+ne:He>pe&&(ye=0===pe?"none":"no more than "+pe),ye)throw new Error(ce+" failed: Was called with "+He+(1===He?" argument.":" arguments.")+" Expects "+ye+".")};function Vn(ce,ne){return`${ce} failed: ${ne} argument `}function Vt(ce,ne,pe,He){if((!He||pe)&&"function"!=typeof pe)throw new Error(Vn(ce,ne)+"must be a valid function.")}function qr(ce,ne,pe,He){if((!He||pe)&&("object"!=typeof pe||null===pe))throw new Error(Vn(ce,ne)+"must be a valid context object.")}const hn=function(ce){const ne=[];let pe=0;for(let He=0;He<ce.length;He++){let ye=ce.charCodeAt(He);if(ye>=55296&&ye<=56319){const mt=ye-55296;He++,Z(He<ce.length,"Surrogate pair missing trail surrogate."),ye=65536+(mt<<10)+(ce.charCodeAt(He)-56320)}ye<128?ne[pe++]=ye:ye<2048?(ne[pe++]=ye>>6|192,ne[pe++]=63&ye|128):ye<65536?(ne[pe++]=ye>>12|224,ne[pe++]=ye>>6&63|128,ne[pe++]=63&ye|128):(ne[pe++]=ye>>18|240,ne[pe++]=ye>>12&63|128,ne[pe++]=ye>>6&63|128,ne[pe++]=63&ye|128)}return ne},Yr=function(ce){let ne=0;for(let pe=0;pe<ce.length;pe++){const He=ce.charCodeAt(pe);He<128?ne++:He<2048?ne+=2:He>=55296&&He<=56319?(ne+=4,pe++):ne+=3}return ne};function It(ce,ne=1e3,pe=2){const He=ne*Math.pow(pe,ce),ye=Math.round(.5*He*(Math.random()-.5)*2);return Math.min(144e5,He+ye)}function Xt(ce){return ce&&ce._delegate?ce._delegate:ce}},7022:(bt,ke,U)=>{U.r(ke),U.d(ke,{InventoryModule:()=>Uu});var w=U(6895),Z=U(318);class B{constructor(h){h&&(this.img_file=h)}}var T=U(4650),fe=U(8746),Ie=U(2849),be=U(9751),Ce=U(9646),Te=U(8996),ae=U(4986),ie=U(4482),he=U(5403),Qe=U(4004),Ve=U(3900),Ye=U(2122),Ne=U(2011),Me=U(3942),wt=U(5861),Et=U(9681),Ue=U(2090),je=U(4859);const qe="firebasestorage.googleapis.com",at="storageBucket";class ue extends Ue.ZR{constructor(h,p,S=0){super(_e(h),`Firebase Storage: ${p} (${_e(h)})`),this.status_=S,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ue.prototype)}get status(){return this.status_}set status(h){this.status_=h}_codeEquals(h){return _e(h)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(h){this.customData.serverResponse=h,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function _e(f){return"storage/"+f}function Re(){return new ue("unknown","An unknown error occurred, please check the error payload for server response.")}function Bt(){return new ue("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function ut(){return new ue("canceled","User canceled the upload/download.")}function xt(){return new ue("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _n(f){return new ue("invalid-argument",f)}function hr(){return new ue("app-deleted","The Firebase app was deleted.")}function _r(f){return new ue("invalid-root-operation","The operation '"+f+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $n(f,h){return new ue("invalid-format","String does not match format '"+f+"': "+h)}function xn(f){throw new ue("internal-error","Internal error: "+f)}class Gn{constructor(h,p){this.bucket=h,this.path_=p}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const h=encodeURIComponent;return"/b/"+h(this.bucket)+"/o/"+h(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(h,p){let S;try{S=Gn.makeFromUrl(h,p)}catch{return new Gn(h,"")}if(""===S.path)return S;throw function bn(f){return new ue("invalid-default-bucket","Invalid default bucket '"+f+"'.")}(h)}static makeFromUrl(h,p){let S=null;const $="([A-Za-z0-9.\\-_]+)",vt=new RegExp("^gs://"+$+"(/(.*))?$","i");function $t(Si){Si.path_=decodeURIComponent(Si.path)}const kr=p.replace(/[.]/g,"\\."),Bi=[{regex:vt,indices:{bucket:1,path:3},postModify:function de(Si){"/"===Si.path.charAt(Si.path.length-1)&&(Si.path_=Si.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${kr}/v[A-Za-z0-9_]+/b/${$}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:$t},{regex:new RegExp(`^https?://${p===qe?"(?:storage.googleapis.com|storage.cloud.google.com)":p}/${$}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:$t}];for(let Si=0;Si<Bi.length;Si++){const Js=Bi[Si],Xs=Js.regex.exec(h);if(Xs){let Va=Xs[Js.indices.path];Va||(Va=""),S=new Gn(Xs[Js.indices.bucket],Va),Js.postModify(S);break}}if(null==S)throw function ln(f){return new ue("invalid-url","Invalid URL '"+f+"'.")}(h);return S}}class Ft{constructor(h){this.promise_=Promise.reject(h)}getPromise(){return this.promise_}cancel(h=!1){}}function In(f){return"string"==typeof f||f instanceof String}function Ar(f){return $r()&&f instanceof Blob}function $r(){return typeof Blob<"u"&&!(0,Ue.UG)()}function on(f,h,p,S){if(S<h)throw _n(`Invalid value for '${f}'. Expected ${h} or greater.`);if(S>p)throw _n(`Invalid value for '${f}'. Expected ${p} or less.`)}function Nn(f,h,p){let S=h;return null==p&&(S=`https://${h}`),`${p}://${S}/v0${f}`}function Jt(f){const h=encodeURIComponent;let p="?";for(const S in f)f.hasOwnProperty(S)&&(p=p+(h(S)+"=")+h(f[S])+"&");return p=p.slice(0,-1),p}var Dt=(()=>{return(f=Dt||(Dt={}))[f.NO_ERROR=0]="NO_ERROR",f[f.NETWORK_ERROR=1]="NETWORK_ERROR",f[f.ABORT=2]="ABORT",Dt;var f})();function Mt(f,h){const p=f>=500&&f<600,$=-1!==[408,429].indexOf(f),de=-1!==h.indexOf(f);return p||$||de}class kn{constructor(h,p,S,$,de,Ze,vt,pt,$t,gn,kr,Tr=!0){this.url_=h,this.method_=p,this.headers_=S,this.body_=$,this.successCodes_=de,this.additionalRetryCodes_=Ze,this.callback_=vt,this.errorCallback_=pt,this.timeout_=$t,this.progressCallback_=gn,this.connectionFactory_=kr,this.retry=Tr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((jr,oi)=>{this.resolve_=jr,this.reject_=oi,this.start_()})}start_(){const p=(S,$)=>{const de=this.resolve_,Ze=this.reject_,vt=$.connection;if($.wasSuccessCode)try{const pt=this.callback_(vt,vt.getResponse());!function ct(f){return void 0!==f}(pt)?de():de(pt)}catch(pt){Ze(pt)}else if(null!==vt){const pt=Re();pt.serverResponse=vt.getErrorText(),Ze(this.errorCallback_?this.errorCallback_(vt,pt):pt)}else Ze($.canceled?this.appDelete_?hr():ut():Bt())};this.canceled_?p(0,new Kn(!1,null,!0)):this.backoffId_=function Sr(f,h,p){let S=1,$=null,de=null,Ze=!1,vt=0;function pt(){return 2===vt}let $t=!1;function gn(...Ei){$t||($t=!0,h.apply(null,Ei))}function kr(Ei){$=setTimeout(()=>{$=null,f(jr,pt())},Ei)}function Tr(){de&&clearTimeout(de)}function jr(Ei,...sa){if($t)return void Tr();if(Ei)return Tr(),void gn.call(null,Ei,...sa);if(pt()||Ze)return Tr(),void gn.call(null,Ei,...sa);let Bi;S<64&&(S*=2),1===vt?(vt=2,Bi=0):Bi=1e3*(S+Math.random()),kr(Bi)}let oi=!1;function ws(Ei){oi||(oi=!0,Tr(),!$t&&(null!==$?(Ei||(vt=2),clearTimeout($),kr(0)):Ei||(vt=1)))}return kr(0),de=setTimeout(()=>{Ze=!0,ws(!0)},p),ws}((S,$)=>{if($)return void S(!1,new Kn(!1,null,!0));const de=this.connectionFactory_();this.pendingConnection_=de;const Ze=vt=>{null!==this.progressCallback_&&this.progressCallback_(vt.loaded,vt.lengthComputable?vt.total:-1)};null!==this.progressCallback_&&de.addUploadProgressListener(Ze),de.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&de.removeUploadProgressListener(Ze),this.pendingConnection_=null;const vt=de.getErrorCode()===Dt.NO_ERROR,pt=de.getStatus();if((!vt||Mt(pt,this.additionalRetryCodes_))&&this.retry){const gn=de.getErrorCode()===Dt.ABORT;return void S(!1,new Kn(!1,null,gn))}const $t=-1!==this.successCodes_.indexOf(pt);S(!0,new Kn($t,de))})},p,this.timeout_)}getPromise(){return this.promise_}cancel(h){this.canceled_=!0,this.appDelete_=h||!1,null!==this.backoffId_&&function yr(f){f(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Kn{constructor(h,p,S){this.wasSuccessCode=h,this.connection=p,this.canceled=!!S}}function Mn(...f){const h=function Yr(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==h){const p=new h;for(let S=0;S<f.length;S++)p.append(f[S]);return p.getBlob()}if($r())return new Blob(f);throw new ue("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Je={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ke{constructor(h,p){this.data=h,this.contentType=p||null}}function It(f,h){switch(f){case Je.RAW:return new Ke(Lt(h));case Je.BASE64:case Je.BASE64URL:return new Ke(Xt(f,h));case Je.DATA_URL:return new Ke(function ne(f){const h=new ce(f);return h.base64?Xt(Je.BASE64,h.rest):function Yt(f){let h;try{h=decodeURIComponent(f)}catch{throw $n(Je.DATA_URL,"Malformed data URL.")}return Lt(h)}(h.rest)}(h),function pe(f){return new ce(f).contentType}(h))}throw Re()}function Lt(f){const h=[];for(let p=0;p<f.length;p++){let S=f.charCodeAt(p);S<=127?h.push(S):S<=2047?h.push(192|S>>6,128|63&S):55296==(64512&S)?p<f.length-1&&56320==(64512&f.charCodeAt(p+1))?(S=65536|(1023&S)<<10|1023&f.charCodeAt(++p),h.push(240|S>>18,128|S>>12&63,128|S>>6&63,128|63&S)):h.push(239,191,189):56320==(64512&S)?h.push(239,191,189):h.push(224|S>>12,128|S>>6&63,128|63&S)}return new Uint8Array(h)}function Xt(f,h){switch(f){case Je.BASE64:{const $=-1!==h.indexOf("-"),de=-1!==h.indexOf("_");if($||de)throw $n(f,"Invalid character '"+($?"-":"_")+"' found: is it base64url encoded?");break}case Je.BASE64URL:{const $=-1!==h.indexOf("+"),de=-1!==h.indexOf("/");if($||de)throw $n(f,"Invalid character '"+($?"+":"/")+"' found: is it base64 encoded?");h=h.replace(/-/g,"+").replace(/_/g,"/");break}}let p;try{p=function er(f){if(typeof atob>"u")throw function Pn(f){return new ue("unsupported-environment",`${f} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(f)}(h)}catch($){throw $.message.includes("polyfill")?$:$n(f,"Invalid character found")}const S=new Uint8Array(p.length);for(let $=0;$<p.length;$++)S[$]=p.charCodeAt($);return S}class ce{constructor(h){this.base64=!1,this.contentType=null;const p=h.match(/^data:([^,]+)?,/);if(null===p)throw $n(Je.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const S=p[1]||null;null!=S&&(this.base64=function He(f,h){return f.length>=h.length&&f.substring(f.length-h.length)===h}(S,";base64"),this.contentType=this.base64?S.substring(0,S.length-7):S),this.rest=h.substring(h.indexOf(",")+1)}}class ye{constructor(h,p){let S=0,$="";Ar(h)?(this.data_=h,S=h.size,$=h.type):h instanceof ArrayBuffer?(p?this.data_=new Uint8Array(h):(this.data_=new Uint8Array(h.byteLength),this.data_.set(new Uint8Array(h))),S=this.data_.length):h instanceof Uint8Array&&(p?this.data_=h:(this.data_=new Uint8Array(h.length),this.data_.set(h)),S=h.length),this.size_=S,this.type_=$}size(){return this.size_}type(){return this.type_}slice(h,p){if(Ar(this.data_)){const $=function zn(f,h,p){return f.webkitSlice?f.webkitSlice(h,p):f.mozSlice?f.mozSlice(h,p):f.slice?f.slice(h,p):null}(this.data_,h,p);return null===$?null:new ye($)}{const S=new Uint8Array(this.data_.buffer,h,p-h);return new ye(S,!0)}}static getBlob(...h){if($r()){const p=h.map(S=>S instanceof ye?S.data_:S);return new ye(Mn.apply(null,p))}{const p=h.map(Ze=>In(Ze)?It(Je.RAW,Ze).data:Ze.data_);let S=0;p.forEach(Ze=>{S+=Ze.byteLength});const $=new Uint8Array(S);let de=0;return p.forEach(Ze=>{for(let vt=0;vt<Ze.length;vt++)$[de++]=Ze[vt]}),new ye($,!0)}}uploadData(){return this.data_}}function mt(f){let h;try{h=JSON.parse(f)}catch{return null}return function wi(f){return"object"==typeof f&&!Array.isArray(f)}(h)?h:null}function Tn(f){const h=f.lastIndexOf("/",f.length-2);return-1===h?f:f.slice(h+1)}function yn(f,h){return h}class te{constructor(h,p,S,$){this.server=h,this.local=p||h,this.writable=!!S,this.xform=$||yn}}let J=null;function Se(){if(J)return J;const f=[];f.push(new te("bucket")),f.push(new te("generation")),f.push(new te("metageneration")),f.push(new te("name","fullPath",!0));const p=new te("name");p.xform=function h(de,Ze){return function Y(f){return!In(f)||f.length<2?f:Tn(f)}(Ze)},f.push(p);const $=new te("size");return $.xform=function S(de,Ze){return void 0!==Ze?Number(Ze):Ze},f.push($),f.push(new te("timeCreated")),f.push(new te("updated")),f.push(new te("md5Hash",null,!0)),f.push(new te("cacheControl",null,!0)),f.push(new te("contentDisposition",null,!0)),f.push(new te("contentEncoding",null,!0)),f.push(new te("contentLanguage",null,!0)),f.push(new te("contentType",null,!0)),f.push(new te("metadata","customMetadata",!0)),J=f,J}function sn(f,h,p){const S=mt(h);return null===S?null:function St(f,h,p){const S={type:"file"},$=p.length;for(let de=0;de<$;de++){const Ze=p[de];S[Ze.local]=Ze.xform(S,h[Ze.server])}return function ze(f,h){Object.defineProperty(f,"ref",{get:function p(){const de=new Gn(f.bucket,f.fullPath);return h._makeStorageReference(de)}})}(S,f),S}(f,S,p)}function ir(f,h){const p={},S=h.length;for(let $=0;$<S;$++){const de=h[$];de.writable&&(p[de.server]=f[de.local])}return JSON.stringify(p)}const Ii="prefixes";class vr{constructor(h,p,S,$){this.url=h,this.method=p,this.handler=S,this.timeout=$,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fr(f){if(!f)throw Re()}function or(f,h){return function p(S,$){const de=sn(f,$,h);return fr(null!==de),de}}function Er(f){return function h(p,S){let $;return $=401===p.getStatus()?p.getErrorText().includes("Firebase App Check token is invalid")?function Ot(){return new ue("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function st(){return new ue("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===p.getStatus()?function $e(f){return new ue("quota-exceeded","Quota for bucket '"+f+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(f.bucket):403===p.getStatus()?function wn(f){return new ue("unauthorized","User does not have permission to access '"+f+"'.")}(f.path):S,$.status=p.getStatus(),$.serverResponse=S.serverResponse,$}}function Jn(f){const h=Er(f);return function p(S,$){let de=h(S,$);return 404===S.getStatus()&&(de=function De(f){return new ue("object-not-found","Object '"+f+"' does not exist.")}(f.path)),de.serverResponse=$.serverResponse,de}}function Mr(f,h,p){const $=Nn(h.fullServerUrl(),f.host,f._protocol),Ze=f.maxOperationRetryTime,vt=new vr($,"GET",or(f,p),Ze);return vt.errorHandler=Jn(h),vt}function Rn(f,h,p,S,$){const de={};de.prefix=h.isRoot?"":h.path+"/",p&&p.length>0&&(de.delimiter=p),S&&(de.pageToken=S),$&&(de.maxResults=$);const vt=Nn(h.bucketOnlyServerUrl(),f.host,f._protocol),$t=f.maxOperationRetryTime,gn=new vr(vt,"GET",function $i(f,h){return function p(S,$){const de=function ji(f,h,p){const S=mt(p);return null===S?null:function qn(f,h,p){const S={prefixes:[],items:[],nextPageToken:p.nextPageToken};if(p[Ii])for(const $ of p[Ii]){const de=$.replace(/\/$/,""),Ze=f._makeStorageReference(new Gn(h,de));S.prefixes.push(Ze)}if(p.items)for(const $ of p.items){const de=f._makeStorageReference(new Gn(h,$.name));S.items.push(de)}return S}(f,h,S)}(f,h,$);return fr(null!==de),de}}(f,h.bucket),$t);return gn.urlParams=de,gn.errorHandler=Er(h),gn}function Ri(f,h,p){const S=Object.assign({},p);return S.fullPath=f.path,S.size=h.size(),S.contentType||(S.contentType=function Mi(f,h){return f&&f.contentType||h&&h.type()||"application/octet-stream"}(null,h)),S}class pr{constructor(h,p,S,$){this.current=h,this.total=p,this.finalized=!!S,this.metadata=$||null}}function Is(f,h){let p=null;try{p=f.getResponseHeader("X-Goog-Upload-Status")}catch{fr(!1)}return fr(!!p&&-1!==(h||["active"]).indexOf(p)),p}const bo={STATE_CHANGED:"state_changed"},Bn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ci(f){switch(f){case"running":case"pausing":case"canceling":return Bn.RUNNING;case"paused":return Bn.PAUSED;case"success":return Bn.SUCCESS;case"canceled":return Bn.CANCELED;default:return Bn.ERROR}}class so{constructor(h,p,S){if(function Zn(f){return"function"==typeof f}(h)||null!=p||null!=S)this.next=h,this.error=p??void 0,this.complete=S??void 0;else{const de=h;this.next=de.next,this.error=de.error,this.complete=de.complete}}}function di(f){return(...h)=>{Promise.resolve().then(()=>f(...h))}}class Rr extends class oo{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dt.NO_ERROR,this.sendPromise_=new Promise(h=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dt.ABORT,h()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dt.NETWORK_ERROR,h()}),this.xhr_.addEventListener("load",()=>{h()})})}send(h,p,S,$){if(this.sent_)throw xn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(p,h,!0),void 0!==$)for(const de in $)$.hasOwnProperty(de)&&this.xhr_.setRequestHeader(de,$[de].toString());return void 0!==S?this.xhr_.send(S):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(h){return this.xhr_.getResponseHeader(h)}addUploadProgressListener(h){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",h)}removeUploadProgressListener(h){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",h)}}{initXhr(){this.xhr_.responseType="text"}}function ve(){return new Rr}class gt{constructor(h,p,S=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=h,this._blob=p,this._metadata=S,this._mappings=Se(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=$=>{if(this._request=void 0,this._chunkMultiplier=1,$._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const de=this.isExponentialBackoffExpired();if(Mt($.status,[])){if(!de)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();$=Bt()}this._error=$,this._transition("error")}},this._metadataErrorHandler=$=>{this._request=void 0,$._codeEquals("canceled")?this.completeTransitions_():(this._error=$,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(($,de)=>{this._resolve=$,this._reject=de,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const h=this._transferred;return p=>this._updateProgress(h+p)}_shouldDoResumable(h){return h.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(h){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([p,S])=>{switch(this._state){case"running":h(p,S);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((h,p)=>{const S=function ar(f,h,p,S,$){const de=h.bucketOnlyServerUrl(),Ze=Ri(h,S,$),vt={name:Ze.fullPath},pt=Nn(de,f.host,f._protocol),gn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${S.size()}`,"X-Goog-Upload-Header-Content-Type":Ze.contentType,"Content-Type":"application/json; charset=utf-8"},kr=ir(Ze,p),oi=new vr(pt,"POST",function jr(ws){let Ei;Is(ws);try{Ei=ws.getResponseHeader("X-Goog-Upload-URL")}catch{fr(!1)}return fr(In(Ei)),Ei},f.maxUploadRetryTime);return oi.urlParams=vt,oi.headers=gn,oi.body=kr,oi.errorHandler=Er(h),oi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),$=this._ref.storage._makeRequest(S,ve,h,p);this._request=$,$.getPromise().then(de=>{this._request=void 0,this._uploadUrl=de,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const h=this._uploadUrl;this._resolveToken((p,S)=>{const $=function Qr(f,h,p,S){const pt=new vr(p,"POST",function de($t){const gn=Is($t,["active","final"]);let kr=null;try{kr=$t.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fr(!1)}kr||fr(!1);const Tr=Number(kr);return fr(!isNaN(Tr)),new pr(Tr,S.size(),"final"===gn)},f.maxUploadRetryTime);return pt.headers={"X-Goog-Upload-Command":"query"},pt.errorHandler=Er(h),pt}(this._ref.storage,this._ref._location,h,this._blob),de=this._ref.storage._makeRequest($,ve,p,S);this._request=de,de.getPromise().then(Ze=>{this._request=void 0,this._updateProgress(Ze.current),this._needToFetchStatus=!1,Ze.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const h=262144*this._chunkMultiplier,p=new pr(this._transferred,this._blob.size()),S=this._uploadUrl;this._resolveToken(($,de)=>{let Ze;try{Ze=function Ds(f,h,p,S,$,de,Ze,vt){const pt=new pr(0,0);if(Ze?(pt.current=Ze.current,pt.total=Ze.total):(pt.current=0,pt.total=S.size()),S.size()!==pt.total)throw function Qn(){return new ue("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const $t=pt.total-pt.current;let gn=$t;$>0&&(gn=Math.min(gn,$));const kr=pt.current;let jr="";jr=0===gn?"finalize":$t===gn?"upload, finalize":"upload";const oi={"X-Goog-Upload-Command":jr,"X-Goog-Upload-Offset":`${pt.current}`},ws=S.slice(kr,kr+gn);if(null===ws)throw xt();const Bi=new vr(p,"POST",function Ei(Si,Js){const Xs=Is(Si,["active","final"]),Ul=pt.current+gn,Va=S.size();let Io;return Io="final"===Xs?or(h,de)(Si,Js):null,new pr(Ul,Va,"final"===Xs,Io)},h.maxUploadRetryTime);return Bi.headers=oi,Bi.body=ws.uploadData(),Bi.progressCallback=vt||null,Bi.errorHandler=Er(f),Bi}(this._ref._location,this._ref.storage,S,this._blob,h,this._mappings,p,this._makeProgressCallback())}catch(pt){return this._error=pt,void this._transition("error")}const vt=this._ref.storage._makeRequest(Ze,ve,$,de,!1);this._request=vt,vt.getPromise().then(pt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(pt.current),pt.finalized?(this._metadata=pt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((h,p)=>{const S=Mr(this._ref.storage,this._ref._location,this._mappings),$=this._ref.storage._makeRequest(S,ve,h,p);this._request=$,$.getPromise().then(de=>{this._request=void 0,this._metadata=de,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((h,p)=>{const S=function ui(f,h,p,S,$){const de=h.bucketOnlyServerUrl(),Ze={"X-Goog-Upload-Protocol":"multipart"},pt=function vt(){let Bi="";for(let Si=0;Si<2;Si++)Bi+=Math.random().toString().slice(2);return Bi}();Ze["Content-Type"]="multipart/related; boundary="+pt;const $t=Ri(h,S,$),gn=ir($t,p),jr=ye.getBlob("--"+pt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+gn+"\r\n--"+pt+"\r\nContent-Type: "+$t.contentType+"\r\n\r\n",S,"\r\n--"+pt+"--");if(null===jr)throw xt();const oi={name:$t.fullPath},ws=Nn(de,f.host,f._protocol),sa=f.maxUploadRetryTime,Qs=new vr(ws,"POST",or(f,p),sa);return Qs.urlParams=oi,Qs.headers=Ze,Qs.body=jr.uploadData(),Qs.errorHandler=Er(h),Qs}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),$=this._ref.storage._makeRequest(S,ve,h,p);this._request=$,$.getPromise().then(de=>{this._request=void 0,this._metadata=de,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(h){const p=this._transferred;this._transferred=h,this._transferred!==p&&this._notifyObservers()}_transition(h){if(this._state!==h)switch(h){case"canceling":case"pausing":this._state=h,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const p="paused"===this._state;this._state=h,p&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=h,this._notifyObservers();break;case"canceled":this._error=ut(),this._state=h,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const h=ci(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:h,metadata:this._metadata,task:this,ref:this._ref}}on(h,p,S,$){const de=new so(p||void 0,S||void 0,$||void 0);return this._addObserver(de),()=>{this._removeObserver(de)}}then(h,p){return this._promise.then(h,p)}catch(h){return this.then(null,h)}_addObserver(h){this._observers.push(h),this._notifyObserver(h)}_removeObserver(h){const p=this._observers.indexOf(h);-1!==p&&this._observers.splice(p,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(p=>{this._notifyObserver(p)})}_finishPromise(){if(void 0!==this._resolve){let h=!0;switch(ci(this._state)){case Bn.SUCCESS:di(this._resolve.bind(null,this.snapshot))();break;case Bn.CANCELED:case Bn.ERROR:di(this._reject.bind(null,this._error))();break;default:h=!1}h&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(h){switch(ci(this._state)){case Bn.RUNNING:case Bn.PAUSED:h.next&&di(h.next.bind(h,this.snapshot))();break;case Bn.SUCCESS:h.complete&&di(h.complete.bind(h))();break;default:h.error&&di(h.error.bind(h,this._error))()}}resume(){const h="paused"===this._state||"pausing"===this._state;return h&&this._transition("running"),h}pause(){const h="running"===this._state;return h&&this._transition("pausing"),h}cancel(){const h="running"===this._state||"pausing"===this._state;return h&&this._transition("canceling"),h}}class ht{constructor(h,p){this._service=h,this._location=p instanceof Gn?p:Gn.makeFromUrl(p,h.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(h,p){return new ht(h,p)}get root(){const h=new Gn(this._location.bucket,"");return this._newRef(this._service,h)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Tn(this._location.path)}get storage(){return this._service}get parent(){const h=function Nt(f){if(0===f.length)return null;const h=f.lastIndexOf("/");return-1===h?"":f.slice(0,h)}(this._location.path);if(null===h)return null;const p=new Gn(this._location.bucket,h);return new ht(this._service,p)}_throwIfRoot(h){if(""===this._location.path)throw _r(h)}}function Xn(f,h,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,wt.Z)(function*(f,h,p){const $=yield nr(f,{pageToken:p});h.prefixes.push(...$.prefixes),h.items.push(...$.items),null!=$.nextPageToken&&(yield Xn(f,h,$.nextPageToken))})).apply(this,arguments)}function nr(f,h){null!=h&&"number"==typeof h.maxResults&&on("options.maxResults",1,1e3,h.maxResults);const p=h||{},S=Rn(f.storage,f._location,"/",p.pageToken,p.maxResults);return f.storage.makeRequestWithTokens(S,ve)}function Dr(f){f._throwIfRoot("getDownloadURL");const h=function Vs(f,h,p){const $=Nn(h.fullServerUrl(),f.host,f._protocol),Ze=f.maxOperationRetryTime,vt=new vr($,"GET",function Wi(f,h){return function p(S,$){const de=sn(f,$,h);return fr(null!==de),function un(f,h,p,S){const $=mt(h);if(null===$||!In($.downloadTokens))return null;const de=$.downloadTokens;if(0===de.length)return null;const Ze=encodeURIComponent;return de.split(",").map($t=>{const kr=f.fullPath;return Nn("/b/"+Ze(f.bucket)+"/o/"+Ze(kr),p,S)+Jt({alt:"media",token:$t})})[0]}(de,$,f.host,f._protocol)}}(f,p),Ze);return vt.errorHandler=Jn(h),vt}(f.storage,f._location,Se());return f.storage.makeRequestWithTokens(h,ve).then(p=>{if(null===p)throw function Kt(){return new ue("no-download-url","The given file does not have any download URLs.")}();return p})}function hi(f,h){const p=function Dn(f,h){const p=h.split("/").filter(S=>S.length>0).join("/");return 0===f.length?p:f+"/"+p}(f._location.path,h),S=new Gn(f._location.bucket,p);return new ht(f.storage,S)}function Ti(f,h){if(f instanceof Gr){const p=f;if(null==p._bucket)throw function Zt(){return new ue("no-default-bucket","No default bucket found. Did you set the '"+at+"' property when initializing the app?")}();const S=new ht(p,p._bucket);return null!=h?Ti(S,h):S}return void 0!==h?hi(f,h):f}function Wo(f,h){if(h&&function lo(f){return/^[A-Za-z]+:\/\//.test(f)}(h)){if(f instanceof Gr)return function To(f,h){return new ht(f,h)}(f,h);throw _n("To use ref(service, url), the first argument must be a Storage instance.")}return Ti(f,h)}function Pi(f,h){const p=h?.[at];return null==p?null:Gn.makeFromBucketSpec(p,f)}class Gr{constructor(h,p,S,$,de){this.app=h,this._authProvider=p,this._appCheckProvider=S,this._url=$,this._firebaseVersion=de,this._bucket=null,this._host=qe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=$?Gn.makeFromBucketSpec($,this._host):Pi(this._host,this.app.options)}get host(){return this._host}set host(h){this._host=h,this._bucket=null!=this._url?Gn.makeFromBucketSpec(this._url,h):Pi(h,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(h){on("time",0,Number.POSITIVE_INFINITY,h),this._maxUploadRetryTime=h}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(h){on("time",0,Number.POSITIVE_INFINITY,h),this._maxOperationRetryTime=h}_getAuthToken(){var h=this;return(0,wt.Z)(function*(){if(h._overrideAuthToken)return h._overrideAuthToken;const p=h._authProvider.getImmediate({optional:!0});if(p){const S=yield p.getToken();if(null!==S)return S.accessToken}return null})()}_getAppCheckToken(){var h=this;return(0,wt.Z)(function*(){const p=h._appCheckProvider.getImmediate({optional:!0});return p?(yield p.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(h=>h.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(h){return new ht(this,h)}_makeRequest(h,p,S,$,de=!0){if(this._deleted)return new Ft(hr());{const Ze=function hn(f,h,p,S,$,de,Ze=!0){const vt=Jt(f.urlParams),pt=f.url+vt,$t=Object.assign({},f.headers);return function Vt(f,h){h&&(f["X-Firebase-GMPID"]=h)}($t,h),function Vn(f,h){null!==h&&h.length>0&&(f.Authorization="Firebase "+h)}($t,p),function Ir(f,h){f["X-Firebase-Storage-Version"]="webjs/"+(h??"AppManager")}($t,de),function qr(f,h){null!==h&&(f["X-Firebase-AppCheck"]=h)}($t,S),new kn(pt,f.method,$t,f.body,f.successCodes,f.additionalRetryCodes,f.handler,f.errorHandler,f.timeout,f.progressCallback,$,Ze)}(h,this._appId,S,$,p,this._firebaseVersion,de);return this._requests.add(Ze),Ze.getPromise().then(()=>this._requests.delete(Ze),()=>this._requests.delete(Ze)),Ze}}makeRequestWithTokens(h,p){var S=this;return(0,wt.Z)(function*(){const[$,de]=yield Promise.all([S._getAuthToken(),S._getAppCheckToken()]);return S._makeRequest(h,p,$,de).getPromise()})()}}const Jr="@firebase/storage";function ur(f,h){return Wo(f=(0,Ue.m9)(f),h)}function zo(f,{instanceIdentifier:h}){const p=f.getProvider("app").getImmediate(),S=f.getProvider("auth-internal"),$=f.getProvider("app-check-internal");return new Gr(p,S,$,h,Et.SDK_VERSION)}!function wr(){(0,Et._registerComponent)(new je.wA("storage",zo,"PUBLIC").setMultipleInstances(!0)),(0,Et.registerVersion)(Jr,"0.10.0",""),(0,Et.registerVersion)(Jr,"0.10.0","esm2017")}();class Gt{constructor(h,p,S){this._delegate=h,this.task=p,this.ref=S}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ss{constructor(h,p){this._delegate=h,this._ref=p,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Gt(this._delegate.snapshot,this,this._ref)}then(h,p){return this._delegate.then(S=>{if(h)return h(new Gt(S,this,this._ref))},p)}on(h,p,S,$){let de;return p&&(de="function"==typeof p?Ze=>p(new Gt(Ze,this,this._ref)):{next:p.next?Ze=>p.next(new Gt(Ze,this,this._ref)):void 0,complete:p.complete||void 0,error:p.error||void 0}),this._delegate.on(h,de,S||void 0,$||void 0)}}class ca{constructor(h,p){this._delegate=h,this._service=p}get prefixes(){return this._delegate.prefixes.map(h=>new xi(h,this._service))}get items(){return this._delegate.items.map(h=>new xi(h,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class xi{constructor(h,p){this._delegate=h,this.storage=p}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(h){const p=function Fn(f,h){return hi(f,h)}(this._delegate,h);return new xi(p,this.storage)}get root(){return new xi(this._delegate.root,this.storage)}get parent(){const h=this._delegate.parent;return null==h?null:new xi(h,this.storage)}put(h,p){return this._throwIfRoot("put"),new Ss(function lr(f,h,p){return function $o(f,h,p){return f._throwIfRoot("uploadBytesResumable"),new gt(f,new ye(h),p)}(f=(0,Ue.m9)(f),h,p)}(this._delegate,h,p),this)}putString(h,p=Je.RAW,S){this._throwIfRoot("putString");const $=It(p,h),de=Object.assign({},S);return null==de.contentType&&null!=$.contentType&&(de.contentType=$.contentType),new Ss(new gt(this._delegate,new ye($.data,!0),de),this)}listAll(){return function Ur(f){return function Gi(f){const h={prefixes:[],items:[]};return Xn(f,h).then(()=>h)}(f=(0,Ue.m9)(f))}(this._delegate).then(h=>new ca(h,this.storage))}list(h){return function Cr(f,h){return nr(f=(0,Ue.m9)(f),h)}(this._delegate,h||void 0).then(p=>new ca(p,this.storage))}getMetadata(){return function Ts(f){return function ao(f){f._throwIfRoot("getMetadata");const h=Mr(f.storage,f._location,Se());return f.storage.makeRequestWithTokens(h,ve)}(f=(0,Ue.m9)(f))}(this._delegate)}updateMetadata(h){return function ua(f,h){return function bi(f,h){f._throwIfRoot("updateMetadata");const p=function Di(f,h,p,S){const de=Nn(h.fullServerUrl(),f.host,f._protocol),vt=ir(p,S),$t=f.maxOperationRetryTime,gn=new vr(de,"PATCH",or(f,S),$t);return gn.headers={"Content-Type":"application/json; charset=utf-8"},gn.body=vt,gn.errorHandler=Jn(h),gn}(f.storage,f._location,h,Se());return f.storage.makeRequestWithTokens(p,ve)}(f=(0,Ue.m9)(f),h)}(this._delegate,h)}getDownloadURL(){return function Vr(f){return Dr(f=(0,Ue.m9)(f))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function hs(f){return function ds(f){f._throwIfRoot("deleteObject");const h=function Lr(f,h){const S=Nn(h.fullServerUrl(),f.host,f._protocol),vt=new vr(S,"DELETE",function Ze(pt,$t){},f.maxOperationRetryTime);return vt.successCodes=[200,204],vt.errorHandler=Jn(h),vt}(f.storage,f._location);return f.storage.makeRequestWithTokens(h,ve)}(f=(0,Ue.m9)(f))}(this._delegate)}_throwIfRoot(h){if(""===this._delegate._location.path)throw _r(h)}}class Ao{constructor(h,p){this.app=h,this._delegate=p}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(h){if(co(h))throw _n("ref() expected a child path but got a URL, use refFromURL instead.");return new xi(ur(this._delegate,h),this)}refFromURL(h){if(!co(h))throw _n("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Gn.makeFromUrl(h,this._delegate.host)}catch{throw _n("refFromUrl() expected a valid full URL but got an invalid one.")}return new xi(ur(this._delegate,h),this)}setMaxUploadRetryTime(h){this._delegate.maxUploadRetryTime=h}setMaxOperationRetryTime(h){this._delegate.maxOperationRetryTime=h}useEmulator(h,p,S={}){!function Oi(f,h,p,S={}){!function zi(f,h,p,S={}){f.host=`${h}:${p}`,f._protocol="http";const{mockUserToken:$}=S;$&&(f._overrideAuthToken="string"==typeof $?$:(0,Ue.Sg)($,f.app.options.projectId))}(f,h,p,S)}(this._delegate,h,p,S)}}function co(f){return/^[A-Za-z]+:\/\//.test(f)}function tt(f,{instanceIdentifier:h}){const p=f.getProvider("app-compat").getImmediate(),S=f.getProvider("storage").getImmediate({identifier:h});return new Ao(p,S)}!function En(f){const h={TaskState:Bn,TaskEvent:bo,StringFormat:Je,Storage:Ao,Reference:xi};f.INTERNAL.registerComponent(new je.wA("storage-compat",tt,"PUBLIC").setServiceProps(h).setMultipleInstances(!0)),f.registerVersion("@firebase/storage-compat","0.2.0")}(Me.Z);var Ki=U(6217);function nn(f){const h=function cr(f){return new be.y(h=>{const p=Ze=>h.next(Ze);p(f.snapshot);const de=f.on("state_changed",p);return f.then(Ze=>{p(Ze),h.complete()},Ze=>{p(f.snapshot),(Ze=>{h.error(Ze)})(Ze)}),function(){de()}}).pipe(function it(f,h=ae.z){return(0,ie.e)((p,S)=>{let $=null,de=null,Ze=null;const vt=()=>{if($){$.unsubscribe(),$=null;const $t=de;de=null,S.next($t)}};function pt(){const $t=Ze+f,gn=h.now();if(gn<$t)return $=this.schedule(void 0,$t-gn),void S.add($);vt()}p.subscribe((0,he.x)(S,$t=>{de=$t,Ze=h.now(),$||($=h.schedule(pt,f),S.add($))},()=>{vt(),S.complete()},void 0,()=>{de=$=null}))})}(0))}(f);return{task:f,then:f.then.bind(f),catch:f.catch.bind(f),pause:f.pause.bind(f),cancel:f.cancel.bind(f),resume:f.resume.bind(f),snapshotChanges:()=>h,percentageChanges:()=>h.pipe((0,Qe.U)(p=>p.bytesTransferred/p.totalBytes*100))}}function pi(f){return{getDownloadURL:()=>(0,Ce.of)(void 0).pipe(Ye.fc,(0,Ve.w)(()=>f.getDownloadURL()),Ye.iC),getMetadata:()=>(0,Ce.of)(void 0).pipe(Ye.fc,(0,Ve.w)(()=>f.getMetadata()),Ye.iC),delete:()=>(0,Te.D)(f.delete()),child:h=>pi(f.child(h)),updateMetadata:h=>(0,Te.D)(f.updateMetadata(h)),put:(h,p)=>nn(f.put(h,p)),putString:(h,p,S)=>nn(f.putString(h,p,S)),list:h=>(0,Te.D)(f.list(h)),listAll:()=>(0,Te.D)(f.listAll())}}U(9260);const Pr=new T.OlP("angularfire2.storageBucket"),Mo=new T.OlP("angularfire2.storage.maxUploadRetryTime"),rr=new T.OlP("angularfire2.storage.maxOperationRetryTime"),ps=new T.OlP("angularfire2.storage.use-emulator");let js=(()=>{class f{constructor(p,S,$,de,Ze,vt,pt,$t,gn,kr){const Tr=(0,Ne.on)(p,Ze,S);this.storage=(0,Ne.cc)(`${Tr.name}.storage.${$}`,"AngularFireStorage",Tr.name,()=>{const jr=Ze.runOutsideAngular(()=>Tr.storage($||void 0)),oi=gn;return oi&&jr.useEmulator(...oi),pt&&jr.setMaxUploadRetryTime(pt),$t&&jr.setMaxOperationRetryTime($t),jr},[pt,$t])}ref(p){return pi(this.storage.ref(p))}refFromURL(p){return pi(this.storage.refFromURL(p))}upload(p,S,$){return pi(this.storage.ref(p)).put(S,$)}}return f.\u0275fac=function(p){return new(p||f)(T.LFG(Ne.Dh),T.LFG(Ne.xv,8),T.LFG(Pr,8),T.LFG(T.Lbi),T.LFG(T.R0b),T.LFG(Ye.HU),T.LFG(Mo,8),T.LFG(rr,8),T.LFG(ps,8),T.LFG(Ki.nm,8))},f.\u0275prov=T.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"}),f})(),Xr=(()=>{class f{constructor(p,S){this.db=p,this.storage=S,this.dbPath="/products",this.productRef=p.list(this.dbPath)}getAll(){return this.productRef}getProducts(p){return this.db.list(this.dbPath,S=>S.limitToLast(p))}getProducts2(p,S){return this.db.list(this.dbPath,$=>$.orderByKey().startAt(S).limitToFirst(p+1))}pushProduct(p){const S=`${this.dbPath}/${p.img_file?.name}`,$=this.storage.ref(S),de=this.storage.upload(S,p.img_file);return de.snapshotChanges().pipe((0,fe.x)(()=>{$.getDownloadURL().subscribe(Ze=>{p.img_url=Ze,this.create(p)})})).subscribe(),de.percentageChanges()}create(p){return this.productRef.push(p)}updateProduct(p){if(p.key){const{key:S,...$}=p;this.update(S,$).then(()=>{}).catch(de=>console.log(de))}}update(p,S){return this.productRef.update(p,S)}removeProduct(p){this.delete(p?.key).then(()=>{this.deleteFileStorage(p?.img_file?.name)}).catch(S=>console.log(S))}deleteFileStorage(p){const S=this.storage.ref(this.dbPath);p?S.child(p).delete():console.log("file name is not definied")}delete(p){return this.productRef.remove(p)}deleteAll(){return this.productRef.remove()}}return f.\u0275fac=function(p){return new(p||f)(T.LFG(Ie.KQ),T.LFG(js))},f.\u0275prov=T.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();var $s=U(4742),Ws=U(8421),qi=U(7669),Ko=U(3268),Gs=U(1810);let gs=(()=>{class f{constructor(p,S){this._renderer=p,this._elementRef=S,this.onChange=$=>{},this.onTouched=()=>{}}setProperty(p,S){this._renderer.setProperty(this._elementRef.nativeElement,p,S)}registerOnTouched(p){this.onTouched=p}registerOnChange(p){this.onChange=p}setDisabledState(p){this.setProperty("disabled",p)}}return f.\u0275fac=function(p){return new(p||f)(T.Y36(T.Qsj),T.Y36(T.SBq))},f.\u0275dir=T.lG2({type:f}),f})(),Yi=(()=>{class f extends gs{}return f.\u0275fac=function(){let h;return function(S){return(h||(h=T.n5z(f)))(S||f)}}(),f.\u0275dir=T.lG2({type:f,features:[T.qOj]}),f})();const gi=new T.OlP("NgValueAccessor"),Oo={provide:gi,useExisting:(0,T.Gpc)(()=>As),multi:!0},zs=new T.OlP("CompositionEventMode");let As=(()=>{class f extends gs{constructor(p,S,$){super(p,S),this._compositionMode=$,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qo(){const f=(0,w.q)()?(0,w.q)().getUserAgent():"";return/android (\d+)/.test(f.toLowerCase())}())}writeValue(p){this.setProperty("value",p??"")}_handleInput(p){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(p)}_compositionStart(){this._composing=!0}_compositionEnd(p){this._composing=!1,this._compositionMode&&this.onChange(p)}}return f.\u0275fac=function(p){return new(p||f)(T.Y36(T.Qsj),T.Y36(T.SBq),T.Y36(zs,8))},f.\u0275dir=T.lG2({type:f,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(p,S){1&p&&T.NdJ("input",function(de){return S._handleInput(de.target.value)})("blur",function(){return S.onTouched()})("compositionstart",function(){return S._compositionStart()})("compositionend",function(de){return S._compositionEnd(de.target.value)})},features:[T._Bn([Oo]),T.qOj]}),f})();const F=new T.OlP("NgValidators"),P=new T.OlP("NgAsyncValidators");function sr(f){return null!=f}function ei(f){return(0,T.QGY)(f)?(0,Te.D)(f):f}function ti(f){let h={};return f.forEach(p=>{h=null!=p?{...h,...p}:h}),0===Object.keys(h).length?null:h}function zr(f,h){return h.map(p=>p(f))}function Br(f){return f.map(h=>function Ni(f){return!f.validate}(h)?h:p=>h.validate(p))}function Ji(f){return null!=f?function Qi(f){if(!f)return null;const h=f.filter(sr);return 0==h.length?null:function(p){return ti(zr(p,h))}}(Br(f)):null}function br(f){return null!=f?function Xi(f){if(!f)return null;const h=f.filter(sr);return 0==h.length?null:function(p){return function ho(...f){const h=(0,qi.jO)(f),{args:p,keys:S}=(0,$s.D)(f),$=new be.y(de=>{const{length:Ze}=p;if(!Ze)return void de.complete();const vt=new Array(Ze);let pt=Ze,$t=Ze;for(let gn=0;gn<Ze;gn++){let kr=!1;(0,Ws.Xf)(p[gn]).subscribe((0,he.x)(de,Tr=>{kr||(kr=!0,$t--),vt[gn]=Tr},()=>pt--,void 0,()=>{(!pt||!kr)&&($t||de.next(S?(0,Gs.n)(S,vt):vt),de.complete())}))}});return h?$.pipe((0,Ko.Z)(h)):$}(zr(p,h).map(ei)).pipe((0,Qe.U)(ti))}}(Br(f)):null}function ha(f,h){return null===f?[h]:Array.isArray(f)?[...f,h]:[f,h]}function pa(f){return f?Array.isArray(f)?f:[f]:[]}function Ms(f,h){return Array.isArray(f)?f.includes(h):f===h}function ms(f,h){const p=pa(h);return pa(f).forEach($=>{Ms(p,$)||p.push($)}),p}function _s(f,h){return pa(h).filter(p=>!Ms(f,p))}class Ta{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(h){this._rawValidators=h||[],this._composedValidatorFn=Ji(this._rawValidators)}_setAsyncValidators(h){this._rawAsyncValidators=h||[],this._composedAsyncValidatorFn=br(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(h){this._onDestroyCallbacks.push(h)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(h=>h()),this._onDestroyCallbacks=[]}reset(h){this.control&&this.control.reset(h)}hasError(h,p){return!!this.control&&this.control.hasError(h,p)}getError(h,p){return this.control?this.control.getError(h,p):null}}class fn extends Ta{get formDirective(){return null}get path(){return null}}class Hr extends Ta{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Zs=(()=>{class f extends class po{constructor(h){this._cd=h}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(p){super(p)}}return f.\u0275fac=function(p){return new(p||f)(T.Y36(Hr,2))},f.\u0275dir=T.lG2({type:f,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(p,S){2&p&&T.ekj("ng-untouched",S.isUntouched)("ng-touched",S.isTouched)("ng-pristine",S.isPristine)("ng-dirty",S.isDirty)("ng-valid",S.isValid)("ng-invalid",S.isInvalid)("ng-pending",S.isPending)},features:[T.qOj]}),f})();const Os="VALID",ki="INVALID",_o="PENDING",vs="DISABLED";function Ns(f){return Array.isArray(f)?Ji(f):f||null}function Aa(f){return Array.isArray(f)?br(f):f||null}function gr(f){return null!=f&&!Array.isArray(f)&&"object"==typeof f}function ts(f,h){(function Ja(f,h){const p=function fa(f){return f._rawValidators}(f);null!==h.validator?f.setValidators(ha(p,h.validator)):"function"==typeof p&&f.setValidators([p]);const S=function Qo(f){return f._rawAsyncValidators}(f);null!==h.asyncValidator?f.setAsyncValidators(ha(S,h.asyncValidator)):"function"==typeof S&&f.setAsyncValidators([S]);const $=()=>f.updateValueAndValidity();Wn(h._rawValidators,$),Wn(h._rawAsyncValidators,$)})(f,h),h.valueAccessor.writeValue(f.value),f.disabled&&h.valueAccessor.setDisabledState?.(!0),function ea(f,h){h.valueAccessor.registerOnChange(p=>{f._pendingValue=p,f._pendingChange=!0,f._pendingDirty=!0,"change"===f.updateOn&&Xa(f,h)})}(f,h),function Rl(f,h){const p=(S,$)=>{h.valueAccessor.writeValue(S),$&&h.viewToModelUpdate(S)};f.registerOnChange(p),h._registerOnDestroy(()=>{f._unregisterOnChange(p)})}(f,h),function Ra(f,h){h.valueAccessor.registerOnTouched(()=>{f._pendingTouched=!0,"blur"===f.updateOn&&f._pendingChange&&Xa(f,h),"submit"!==f.updateOn&&f.markAsTouched()})}(f,h),function ya(f,h){if(h.valueAccessor.setDisabledState){const p=S=>{h.valueAccessor.setDisabledState(S)};f.registerOnDisabledChange(p),h._registerOnDestroy(()=>{f._unregisterOnDisabledChange(p)})}}(f,h)}function Wn(f,h){f.forEach(p=>{p.registerOnValidatorChange&&p.registerOnValidatorChange(h)})}function Xa(f,h){f._pendingDirty&&f.markAsDirty(),f.setValue(f._pendingValue,{emitModelToViewChange:!1}),h.viewToModelUpdate(f._pendingValue),f._pendingChange=!1}function Na(f,h){const p=f.indexOf(h);p>-1&&f.splice(p,1)}function Vo(f){return"object"==typeof f&&null!==f&&2===Object.keys(f).length&&"value"in f&&"disabled"in f}const j={provide:Hr,useExisting:(0,T.Gpc)(()=>se)},X=(()=>Promise.resolve())();let se=(()=>{class f extends Hr{constructor(p,S,$,de,Ze){super(),this._changeDetectorRef=Ze,this.control=new class extends class Xo{constructor(h,p){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=h,this._rawAsyncValidators=p,this._composedValidatorFn=Ns(this._rawValidators),this._composedAsyncValidatorFn=Aa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(h){this._rawValidators=this._composedValidatorFn=h}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(h){this._rawAsyncValidators=this._composedAsyncValidatorFn=h}get parent(){return this._parent}get valid(){return this.status===Os}get invalid(){return this.status===ki}get pending(){return this.status==_o}get disabled(){return this.status===vs}get enabled(){return this.status!==vs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(h){this._rawValidators=h,this._composedValidatorFn=Ns(h)}setAsyncValidators(h){this._rawAsyncValidators=h,this._composedAsyncValidatorFn=Aa(h)}addValidators(h){this.setValidators(ms(h,this._rawValidators))}addAsyncValidators(h){this.setAsyncValidators(ms(h,this._rawAsyncValidators))}removeValidators(h){this.setValidators(_s(h,this._rawValidators))}removeAsyncValidators(h){this.setAsyncValidators(_s(h,this._rawAsyncValidators))}hasValidator(h){return Ms(this._rawValidators,h)}hasAsyncValidator(h){return Ms(this._rawAsyncValidators,h)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(h={}){this.touched=!0,this._parent&&!h.onlySelf&&this._parent.markAsTouched(h)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(h=>h.markAllAsTouched())}markAsUntouched(h={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(p=>{p.markAsUntouched({onlySelf:!0})}),this._parent&&!h.onlySelf&&this._parent._updateTouched(h)}markAsDirty(h={}){this.pristine=!1,this._parent&&!h.onlySelf&&this._parent.markAsDirty(h)}markAsPristine(h={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(p=>{p.markAsPristine({onlySelf:!0})}),this._parent&&!h.onlySelf&&this._parent._updatePristine(h)}markAsPending(h={}){this.status=_o,!1!==h.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!h.onlySelf&&this._parent.markAsPending(h)}disable(h={}){const p=this._parentMarkedDirty(h.onlySelf);this.status=vs,this.errors=null,this._forEachChild(S=>{S.disable({...h,onlySelf:!0})}),this._updateValue(),!1!==h.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...h,skipPristineCheck:p}),this._onDisabledChange.forEach(S=>S(!0))}enable(h={}){const p=this._parentMarkedDirty(h.onlySelf);this.status=Os,this._forEachChild(S=>{S.enable({...h,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:h.emitEvent}),this._updateAncestors({...h,skipPristineCheck:p}),this._onDisabledChange.forEach(S=>S(!1))}_updateAncestors(h){this._parent&&!h.onlySelf&&(this._parent.updateValueAndValidity(h),h.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(h){this._parent=h}getRawValue(){return this.value}updateValueAndValidity(h={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Os||this.status===_o)&&this._runAsyncValidator(h.emitEvent)),!1!==h.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!h.onlySelf&&this._parent.updateValueAndValidity(h)}_updateTreeValidity(h={emitEvent:!0}){this._forEachChild(p=>p._updateTreeValidity(h)),this.updateValueAndValidity({onlySelf:!0,emitEvent:h.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vs:Os}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(h){if(this.asyncValidator){this.status=_o,this._hasOwnPendingAsyncValidator=!0;const p=ei(this.asyncValidator(this));this._asyncValidationSubscription=p.subscribe(S=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(S,{emitEvent:h})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(h,p={}){this.errors=h,this._updateControlsErrors(!1!==p.emitEvent)}get(h){let p=h;return null==p||(Array.isArray(p)||(p=p.split(".")),0===p.length)?null:p.reduce((S,$)=>S&&S._find($),this)}getError(h,p){const S=p?this.get(p):this;return S&&S.errors?S.errors[h]:null}hasError(h,p){return!!this.getError(h,p)}get root(){let h=this;for(;h._parent;)h=h._parent;return h}_updateControlsErrors(h){this.status=this._calculateStatus(),h&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(h)}_initObservables(){this.valueChanges=new T.vpe,this.statusChanges=new T.vpe}_calculateStatus(){return this._allControlsDisabled()?vs:this.errors?ki:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_o)?_o:this._anyControlsHaveStatus(ki)?ki:Os}_anyControlsHaveStatus(h){return this._anyControls(p=>p.status===h)}_anyControlsDirty(){return this._anyControls(h=>h.dirty)}_anyControlsTouched(){return this._anyControls(h=>h.touched)}_updatePristine(h={}){this.pristine=!this._anyControlsDirty(),this._parent&&!h.onlySelf&&this._parent._updatePristine(h)}_updateTouched(h={}){this.touched=this._anyControlsTouched(),this._parent&&!h.onlySelf&&this._parent._updateTouched(h)}_registerOnCollectionChange(h){this._onCollectionChange=h}_setUpdateStrategy(h){gr(h)&&null!=h.updateOn&&(this._updateOn=h.updateOn)}_parentMarkedDirty(h){return!h&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(h){return null}}{constructor(h=null,p,S){super(function xs(f){return(gr(f)?f.validators:f)||null}(p),function ko(f,h){return(gr(h)?h.asyncValidators:f)||null}(S,p)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(h),this._setUpdateStrategy(p),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gr(p)&&(p.nonNullable||p.initialValueIsDefault)&&(this.defaultValue=Vo(h)?h.value:h)}setValue(h,p={}){this.value=this._pendingValue=h,this._onChange.length&&!1!==p.emitModelToViewChange&&this._onChange.forEach(S=>S(this.value,!1!==p.emitViewToModelChange)),this.updateValueAndValidity(p)}patchValue(h,p={}){this.setValue(h,p)}reset(h=this.defaultValue,p={}){this._applyFormState(h),this.markAsPristine(p),this.markAsUntouched(p),this.setValue(this.value,p),this._pendingChange=!1}_updateValue(){}_anyControls(h){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(h){this._onChange.push(h)}_unregisterOnChange(h){Na(this._onChange,h)}registerOnDisabledChange(h){this._onDisabledChange.push(h)}_unregisterOnDisabledChange(h){Na(this._onDisabledChange,h)}_forEachChild(h){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(h){Vo(h)?(this.value=this._pendingValue=h.value,h.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=h}},this._registered=!1,this.update=new T.vpe,this._parent=p,this._setValidators(S),this._setAsyncValidators($),this.valueAccessor=function rs(f,h){if(!h)return null;let p,S,$;return Array.isArray(h),h.forEach(de=>{de.constructor===As?p=de:function Oa(f){return Object.getPrototypeOf(f.constructor)===Yi}(de)?S=de:$=de}),$||S||p||null}(0,de)}ngOnChanges(p){if(this._checkForErrors(),!this._registered||"name"in p){if(this._registered&&(this._checkName(),this.formDirective)){const S=p.name.previousValue;this.formDirective.removeControl({name:S,path:this._getPath(S)})}this._setUpControl()}"isDisabled"in p&&this._updateDisabled(p),function za(f,h){if(!f.hasOwnProperty("model"))return!1;const p=f.model;return!!p.isFirstChange()||!Object.is(h,p.currentValue)}(p,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(p){this.viewModel=p,this.update.emit(p)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ts(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(p){X.then(()=>{this.control.setValue(p,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(p){const S=p.isDisabled.currentValue,$=0!==S&&(0,T.D6c)(S);X.then(()=>{$&&!this.control.disabled?this.control.disable():!$&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(p){return this._parent?function Ks(f,h){return[...h.path,f]}(p,this._parent):[p]}}return f.\u0275fac=function(p){return new(p||f)(T.Y36(fn,9),T.Y36(F,10),T.Y36(P,10),T.Y36(gi,10),T.Y36(T.sBO,8))},f.\u0275dir=T.lG2({type:f,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[T._Bn([j]),T.qOj,T.TTD]}),f})();const ft={provide:gi,useExisting:(0,T.Gpc)(()=>tn),multi:!0};let tn=(()=>{class f extends Yi{writeValue(p){this.setProperty("value",p??"")}registerOnChange(p){this.onChange=S=>{p(""==S?null:parseFloat(S))}}}return f.\u0275fac=function(){let h;return function(S){return(h||(h=T.n5z(f)))(S||f)}}(),f.\u0275dir=T.lG2({type:f,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(p,S){1&p&&T.NdJ("input",function(de){return S.onChange(de.target.value)})("blur",function(){return S.onTouched()})},features:[T._Bn([ft]),T.qOj]}),f})(),ii=(()=>{class f{}return f.\u0275fac=function(p){return new(p||f)},f.\u0275mod=T.oAB({type:f}),f.\u0275inj=T.cJS({}),f})(),kl=(()=>{class f{}return f.\u0275fac=function(p){return new(p||f)},f.\u0275mod=T.oAB({type:f}),f.\u0275inj=T.cJS({imports:[ii]}),f})(),wa=(()=>{class f{}return f.\u0275fac=function(p){return new(p||f)},f.\u0275mod=T.oAB({type:f}),f.\u0275inj=T.cJS({imports:[kl]}),f})(),ia=(()=>{class f{constructor(p,S){this.ProductService=p,this.router=S,this.product=new B(void 0),this.submitted=!1,this.img_preview="",this.percentage=0}ngOnInit(){}saveProduct(){this.image&&(this.product.img_file=this.image,this.image=void 0,this.ProductService.pushProduct(this.product).subscribe(p=>{this.percentage=Math.round(p||0)},p=>{console.log(p)}),this.router.navigateByUrl("/inventory"))}preview(p){if(this.img_preview="",this.image=p.target.files.item(0),this.image){const S=new FileReader;S.onload=$=>{this.preview=$.target.result},S.readAsDataURL(this.image)}this.img_preview=URL.createObjectURL(p.target.files[0])}}return f.\u0275fac=function(p){return new(p||f)(T.Y36(Xr),T.Y36(Z.F0))},f.\u0275cmp=T.Xpm({type:f,selectors:[["app-add-product"]],decls:37,vars:6,consts:[[1,"container",2,"margin-top","7rem"],[1,"text-muted"],[1,"mb-3"],[1,"form-floating","mb-3"],["type","text","id","name","placeholder","Rompope",1,"form-control",3,"ngModel","ngModelChange"],["for","name"],["type","number","id","stock","placeholder","15",1,"form-control",3,"ngModel","ngModelChange"],["for","stock"],[1,"form-floating","input-group","mb-3"],[1,"input-group-text"],["type","text","id","price","placeholder","150",1,"form-control",3,"ngModel","ngModelChange"],["for","price",1,"ms-4"],["type","text","id","description","placeholder","150",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["type","text","id","provider","placeholder","150",1,"form-control",3,"ngModel","ngModelChange"],["for","provider"],["for","image",1,"mb-2"],["type","file","required","","accept","image/*","id","image",1,"mb-3","form-control",3,"change"],[1,"mb-3","row"],[1,"col"],["id","frame","alt","imagen de producto",1,"img-thumbnail","d-block","mx-auto",3,"src"],["type","submit",1,"float-start","btn","btn-success",3,"click"]],template:function(p,S){1&p&&(T.TgZ(0,"div",0)(1,"h3",1),T._uU(2,"A\xf1adir Producto \u{1f527}"),T.qZA(),T._UZ(3,"hr",2),T.TgZ(4,"div",3)(5,"input",4),T.NdJ("ngModelChange",function(de){return S.product.name=de}),T.qZA(),T.TgZ(6,"label",5),T._uU(7,"Nombre del Producto"),T.qZA()(),T.TgZ(8,"div",3)(9,"input",6),T.NdJ("ngModelChange",function(de){return S.product.stock=de}),T.qZA(),T.TgZ(10,"label",7),T._uU(11,"Cantidad en Inventario"),T.qZA()(),T.TgZ(12,"div",8)(13,"span",9),T._uU(14,"$"),T.qZA(),T.TgZ(15,"input",10),T.NdJ("ngModelChange",function(de){return S.product.price=de}),T.qZA(),T.TgZ(16,"span",9),T._uU(17,"0.00"),T.qZA(),T.TgZ(18,"label",11),T._uU(19,"Precio"),T.qZA()(),T.TgZ(20,"div",3)(21,"input",12),T.NdJ("ngModelChange",function(de){return S.product.description=de}),T.qZA(),T.TgZ(22,"label",13),T._uU(23,"Descripcion"),T.qZA()(),T.TgZ(24,"div",3)(25,"input",14),T.NdJ("ngModelChange",function(de){return S.product.provider=de}),T.qZA(),T.TgZ(26,"label",15),T._uU(27,"Proveedor"),T.qZA()(),T.TgZ(28,"label",16),T._uU(29,"Imagen"),T.qZA(),T.TgZ(30,"input",17),T.NdJ("change",function(de){return S.preview(de)}),T.qZA(),T.TgZ(31,"div",18)(32,"div",19),T._UZ(33,"img",20),T.qZA(),T.TgZ(34,"div",19)(35,"button",21),T.NdJ("click",function(){return S.saveProduct()}),T._uU(36,"Submit"),T.qZA()()()()),2&p&&(T.xp6(5),T.Q6J("ngModel",S.product.name),T.xp6(4),T.Q6J("ngModel",S.product.stock),T.xp6(6),T.Q6J("ngModel",S.product.price),T.xp6(6),T.Q6J("ngModel",S.product.description),T.xp6(4),T.Q6J("ngModel",S.product.provider),T.xp6(8),T.Q6J("src",S.preview,T.LSH))},dependencies:[As,tn,Zs,se]}),f})();function ml(f,h){if(1&f&&(T.TgZ(0,"div",9)(1,"a",10)(2,"div",11)(3,"div",12),T._UZ(4,"img",13),T.qZA(),T.TgZ(5,"div",14)(6,"h4",15),T._uU(7),T.qZA(),T.TgZ(8,"p",16),T._uU(9),T.qZA()()()()()),2&f){const p=h.$implicit;T.xp6(1),T.Q6J("routerLink","details")("state",p),T.xp6(3),T.Q6J("src",p.img_url,T.LSH),T.xp6(3),T.Oqu(p.name),T.xp6(2),T.Oqu(p.description)}}function Cs(f,h){if(1&f){const p=T.EpF();T.TgZ(0,"div")(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),T._UZ(5,"img",5),T.qZA(),T.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"input",9),T.NdJ("ngModelChange",function($){T.CHM(p);const de=T.oxw();return T.KtG(de.product.name=$)}),T.qZA(),T.TgZ(10,"label",10),T._uU(11,"Nombre del Producto"),T.qZA()(),T.TgZ(12,"div",8)(13,"input",11),T.NdJ("ngModelChange",function($){T.CHM(p);const de=T.oxw();return T.KtG(de.product.stock=$)}),T.qZA(),T.TgZ(14,"label",12),T._uU(15,"Cantidad en Inventario"),T.qZA()(),T.TgZ(16,"div",13)(17,"span",14),T._uU(18,"$"),T.qZA(),T.TgZ(19,"input",15),T.NdJ("ngModelChange",function($){T.CHM(p);const de=T.oxw();return T.KtG(de.product.price=$)}),T.qZA(),T.TgZ(20,"span",14),T._uU(21,"0.00"),T.qZA(),T.TgZ(22,"label",16),T._uU(23,"Precio"),T.qZA()(),T.TgZ(24,"div",8)(25,"input",17),T.NdJ("ngModelChange",function($){T.CHM(p);const de=T.oxw();return T.KtG(de.product.description=$)}),T.qZA(),T.TgZ(26,"label",18),T._uU(27,"Descripcion"),T.qZA()(),T.TgZ(28,"div",8)(29,"input",19),T.NdJ("ngModelChange",function($){T.CHM(p);const de=T.oxw();return T.KtG(de.product.provider=$)}),T.qZA(),T.TgZ(30,"label",20),T._uU(31,"Proveedor"),T.qZA()(),T.TgZ(32,"button",21),T.NdJ("click",function(){T.CHM(p);const $=T.oxw();return T.KtG($.deleteProduct())}),T._uU(33,"Eliminar"),T.qZA(),T.TgZ(34,"button",22),T.NdJ("click",function(){T.CHM(p);const $=T.oxw();return T.KtG($.updateProduct())}),T._uU(35,"Editar"),T.qZA(),T.TgZ(36,"p",23)(37,"small",24),T._uU(38,"Last updated 3 mins ago"),T.qZA()()()()()()()()}if(2&f){const p=T.oxw();T.xp6(5),T.Q6J("src",p.product.img_url,T.LSH),T.xp6(4),T.Q6J("ngModel",p.product.name),T.xp6(4),T.Q6J("ngModel",p.product.stock),T.xp6(6),T.Q6J("ngModel",p.product.price),T.xp6(6),T.Q6J("ngModel",p.product.description),T.xp6(4),T.Q6J("ngModel",p.product.provider)}}const Ll=[{path:"",component:(()=>{class f{constructor(p){this.ProductService=p,this.currentIndex=-1,this.title=""}ngOnInit(){this.retrieveProducts()}retrieveProducts(){this.ProductService.getProducts(6).snapshotChanges().pipe((0,Qe.U)(p=>p.map(S=>({key:S.payload.key,...S.payload.val()})))).subscribe(p=>{this.products=p})}}return f.\u0275fac=function(p){return new(p||f)(T.Y36(Xr))},f.\u0275cmp=T.Xpm({type:f,selectors:[["app-inventory-list"]],decls:12,vars:1,consts:[[1,"mt-5","container"],[1,"col-md-12"],[1,"row","grid"],[1,"col-12",2,"margin-top","7rem"],[1,"d-inline","text-weight-bold","text-muted","text-left"],[1,"mb-2"],["class","mt-5 col-xs-12 col-md-6 col-lg-3",4,"ngFor","ngForOf"],[1,"position-fixed","bottom-0","end-0",2,"margin","6rem"],["type","button","href","add","aria-expanded","false","aria-haspopup","true",1,"btn","btn-primary","btn-lg","rounded-circle"],[1,"mt-5","col-xs-12","col-md-6","col-lg-3"],[2,"text-decoration","none","color","inherit",3,"routerLink","state"],[1,"card","shadow","my-3"],[1,"card-thumbnail"],["alt","thumbnail",1,"img-fluid",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(p,S){1&p&&(T.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),T._uU(5,"Inventario"),T.qZA(),T._UZ(6,"hr",5),T.qZA(),T.YNc(7,ml,10,5,"div",6),T.qZA()(),T.TgZ(8,"div",7)(9,"a",8)(10,"span"),T._uU(11,"+"),T.qZA()()()()),2&p&&(T.xp6(7),T.Q6J("ngForOf",S.products))},dependencies:[w.sg,Z.yS]}),f})()},{path:"details",component:(()=>{class f{constructor(p,S){this.ProductService=p,this.router=S,this.product=new B(void 0),this.refreshList=new T.vpe,this.message=""}ngOnInit(){this.product=history.state}ngOnChanges(){this.message=""}updateProduct(){this.ProductService.updateProduct(this.product),this.router.navigateByUrl("/inventory")}deleteProduct(){this.ProductService.removeProduct(this.product),this.router.navigateByUrl("/inventory")}}return f.\u0275fac=function(p){return new(p||f)(T.Y36(Xr),T.Y36(Z.F0))},f.\u0275cmp=T.Xpm({type:f,selectors:[["app-product-detail"]],outputs:{refreshList:"refreshList"},features:[T.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[1,"container",2,"margin-top","8rem"],[1,"card","shadow","border-0","mb-3"],[1,"row","g-0"],[1,"col-md-4","my-auto"],["alt","product image",1,"img-thumbnail",3,"src"],[1,"col-md-8"],[1,"card-body"],[1,"form-floating","mb-3"],["type","text","id","name","placeholder","Rompope",1,"form-control",3,"ngModel","ngModelChange"],["for","name"],["type","number","id","stock","placeholder","15",1,"form-control",3,"ngModel","ngModelChange"],["for","stock"],[1,"form-floating","input-group","mb-3"],[1,"input-group-text"],["type","text","id","price","placeholder","150",1,"form-control",3,"ngModel","ngModelChange"],["for","price",1,"ms-4"],["type","text","id","description","placeholder","150",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["type","text","id","provider","placeholder","150",1,"form-control",3,"ngModel","ngModelChange"],["for","provider"],[1,"mb-3","btn","btn-lg","btn-outline-danger","pill-rounded",3,"click"],[1,"mb-3","ms-3","btn","btn-lg","btn-outline-primary","pill-rounded",3,"click"],[1,"card-text"],[1,"text-muted"]],template:function(p,S){1&p&&T.YNc(0,Cs,39,6,"div",0),2&p&&T.Q6J("ngIf",S.product)},dependencies:[w.O5,As,tn,Zs,se]}),f})()},{path:"add",component:ia}];let eu=(()=>{class f{}return f.\u0275fac=function(p){return new(p||f)},f.\u0275mod=T.oAB({type:f}),f.\u0275inj=T.cJS({imports:[Z.Bz.forChild(Ll),Z.Bz]}),f})(),Uu=(()=>{class f{}return f.\u0275fac=function(p){return new(p||f)},f.\u0275mod=T.oAB({type:f}),f.\u0275inj=T.cJS({imports:[w.ez,eu,wa]}),f})()},3224:(bt,ke,U)=>{var w=U(1481),Z=U(4650),B=U(318),T=U(6895);function fe(Ye,Ne){if(1&Ye&&(Z.TgZ(0,"div",16)(1,"div",17)(2,"div",18)(3,"a",19),Z._UZ(4,"img",20),Z.qZA()(),Z.TgZ(5,"div",21)(6,"h4",22),Z._uU(7),Z.qZA()()()()),2&Ye){const Me=Ne.$implicit;Z.xp6(3),Z.Q6J("routerLink",Me.src),Z.xp6(4),Z.Oqu(Me.title)}}const be=[{path:"",component:(()=>{class Ye{constructor(){this.options=[{title:"Inventario",src:"./inventory"},{title:"Registro de Ventas",src:"./sells"},{title:" Historial",src:"./history"}]}ngOnInit(){}}return Ye.\u0275fac=function(Me){return new(Me||Ye)},Ye.\u0275cmp=Z.Xpm({type:Ye,selectors:[["app-landing"]],decls:25,vars:1,consts:[[1,"d-flex","align-items-center","justify-content-center","flex-column","mb-0","min-vh-100","parallax","paralsecq"],[1,"text-center","mx-2"],[1,"blockquote","display-2","text-white"],[1,"blockquote-footer","text-white"],["title","Source Title"],[1,"arrow_container"],["href","#topic1",2,"text-decoration","none"],[1,"chevron"],[1,"txt"],["id","topic1",1,"d-flex","align-items-center","justify-content-center","flex-column","mb-0","min-vh-100","parallax","paralsec"],[1,"container",2,"margin-top","-9rem"],[1,"row"],[1,"col-12"],[1,"text-weight-bold","text-white","text-center",2,"margin-bottom","7rem"],[1,"mt-5","text-white"],["class","col-sm-12 col-md-4",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-4"],[1,"card","border-0","bg-card","shadow","my-3"],[1,"card-thumbnail"],[3,"routerLink"],["src","assets/batman.jpg","alt","thumbnail",1,"img-fluid"],[1,"card-body"],[1,"card-title","text-center"]],template:function(Me,wt){1&Me&&(Z.TgZ(0,"main")(1,"div",0)(2,"figure",1)(3,"blockquote",2)(4,"h1"),Z._uU(5,' Then I heard the voice of the Lord saying, "Whom shall I send? And who will go for us?" And I said, "Here am I. Send me!"'),Z.qZA()(),Z.TgZ(6,"figcaption",3)(7,"cite",4),Z._uU(8,"Isaiah 6:8"),Z.qZA(),Z._uU(9,". "),Z.qZA()(),Z.TgZ(10,"div",5)(11,"a",6),Z._UZ(12,"div",7)(13,"div",7)(14,"div",7),Z.TgZ(15,"span",8),Z._uU(16,"MORE PROJECTS"),Z.qZA()()()(),Z.TgZ(17,"div",9)(18,"div",10)(19,"div",11)(20,"div",12)(21,"h2",13),Z._uU(22,"Totus tous"),Z.qZA()(),Z._UZ(23,"hr",14),Z.YNc(24,fe,8,2,"div",15),Z.qZA()()()()),2&Me&&(Z.xp6(24),Z.Q6J("ngForOf",wt.options))},dependencies:[T.sg,B.yS],styles:['blockquote[_ngcontent-%COMP%]{position:relative;border:none;font-family:Georgia,Times New Roman,Times,serif;quotes:"\\201c""\\201d""\\2018""\\2019"}blockquote[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:before{content:open-quote;font-weight:700;font-size:7rem}blockquote[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]:after{position:absolute;top:6.5rem;content:close-quote;font-weight:700;font-size:7rem}.arrow_container[_ngcontent-%COMP%]{position:relative;width:24px;height:24px;margin:0 auto}.chevron[_ngcontent-%COMP%]{position:absolute;width:28px;height:8px;opacity:0;transform:scale3d(.5,.5,.5);animation:move 3s ease-out infinite}.chevron[_ngcontent-%COMP%]:before, .chevron[_ngcontent-%COMP%]:after{content:" ";position:absolute;top:0;height:100%;width:51%;background:#fff}.chevron[_ngcontent-%COMP%]:before{left:0;transform:skew(0,30deg)}.chevron[_ngcontent-%COMP%]:after{right:0;width:50%;transform:skew(0,-30deg)}.chevron[_ngcontent-%COMP%]:first-child{animation:move 3s ease-out 1s infinite}.chevron[_ngcontent-%COMP%]:nth-child(2){animation:move 3s ease-out 2s infinite}.txt[_ngcontent-%COMP%]{display:block;margin-top:75px;margin-left:-30px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:12px;color:#fff;text-transform:uppercase;white-space:nowrap;opacity:.25;animation:pulse 2s linear alternate infinite}@keyframes pulse{to{opacity:1}}@keyframes move{25%{opacity:1}33%{opacity:1;transform:translateY(30px)}67%{opacity:1;transform:translateY(40px)}to{opacity:0;transform:translateY(55px) scale3d(.5,.5,.5)}}.parallax[_ngcontent-%COMP%]{background-attachment:fixed;background-size:cover;background-position:50% 50%}.paralsecq[_ngcontent-%COMP%]{background-image:url(library.cdcf02aa6884f537.jpg)}']}),Ye})()},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"},{path:"sells",loadChildren:()=>U.e(73).then(U.bind(U,4073)).then(Ye=>Ye.SellsModule)},{path:"/InvIglesia/inventory",loadChildren:()=>Promise.resolve().then(U.bind(U,7022)).then(Ye=>Ye.InventoryModule)},{path:"history",loadChildren:()=>U.e(855).then(U.bind(U,5855)).then(Ye=>Ye.HistoryModule)}];let Ce=(()=>{class Ye{}return Ye.\u0275fac=function(Me){return new(Me||Ye)},Ye.\u0275mod=Z.oAB({type:Ye}),Ye.\u0275inj=Z.cJS({imports:[B.Bz.forRoot(be,{preloadingStrategy:B.wm}),B.Bz]}),Ye})(),Te=(()=>{class Ye{constructor(){}ngOnInit(){window.onscroll=function(){!function Me(){document.body.scrollTop>100||document.documentElement.scrollTop>100?(document.getElementById("navbar").classList.remove("navbar-dark"),document.getElementById("navbar").classList.add("bg-light"),document.getElementById("navbar").classList.add("navbar-light"),document.getElementById("navbar").classList.add("link-active-light"),document.getElementById("navbar").classList.remove("link-active")):(document.getElementById("navbar").classList.remove("link-active-light"),document.getElementById("navbar").classList.remove("navbar-light"),document.getElementById("navbar").classList.remove("bg-light"),document.getElementById("navbar").classList.add("navbar-dark"))}()}}}return Ye.\u0275fac=function(Me){return new(Me||Ye)},Ye.\u0275cmp=Z.Xpm({type:Ye,selectors:[["app-navbar"]],decls:21,vars:0,consts:[["id","navbar",1,"navbar","navbar-expand-lg","fixed-top","navbar-dark","shadow","bg-body-tertiary"],[1,"container-fluid"],["routerLinkActive","active link-active","href","/",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mx-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLinkActive","active link-active","routerLink","vida",1,"nav-link"],[1,"navbar-nav","ml-md-auto"],[1,"nav-item","display-6"],["href","/InvIglesia/inventory","rel","noopener","aria-label","GitHub",1,"nav-link"],["href","sells","target","_blank","rel","noopener","aria-label","GitHub",1,"nav-link"],["href","history","target","_blank","rel","noopener","aria-label","GitHub",1,"nav-link"]],template:function(Me,wt){1&Me&&(Z.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),Z._uU(3,"Iglesia"),Z.qZA(),Z.TgZ(4,"button",3),Z._UZ(5,"span",4),Z.qZA(),Z.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),Z._uU(10,"+ VIDA\u{1f41e}"),Z.qZA()()(),Z.TgZ(11,"ul",9)(12,"li",10)(13,"a",11),Z._uU(14," \u{1f4c4} "),Z.qZA()(),Z.TgZ(15,"li",10)(16,"a",12),Z._uU(17," \u{1f4b8} "),Z.qZA()(),Z.TgZ(18,"li",10)(19,"a",13),Z._uU(20," \u{1f559} "),Z.qZA()()()()()())},dependencies:[B.yS,B.Od],styles:['.navbar-nav-svg[_ngcontent-%COMP%]{display:inline-block;width:1.5rem;height:1.5rem;vertical-align:text-top}.navbar[_ngcontent-%COMP%]{transition:1s!important}.link-active[_ngcontent-%COMP%]{border-bottom:.1rem solid rgba(255,255,255,.55)!important}.link-active-light[_ngcontent-%COMP%]{border-bottom:.1rem solid rgba(255,255,255,.1)!important}.bg-card[_ngcontent-%COMP%]{background-color:#f9f9f9}.bg-card[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:after{content:""!important;display:block!important;border-bottom:.1rem solid rgba(255,255,255,.55)!important;transform:scaleX(0)!important;transition:.35s ease-in-out!important}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover:after{transform:scaleX(1)!important}']}),Ye})(),ae=(()=>{class Ye{constructor(){this.title="InvIglesia"}}return Ye.\u0275fac=function(Me){return new(Me||Ye)},Ye.\u0275cmp=Z.Xpm({type:Ye,selectors:[["app-root"]],decls:2,vars:0,template:function(Me,wt){1&Me&&Z._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[B.lC,Te]}),Ye})();var ie=U(2011),he=U(2849);const it_firebase={apiKey:"AIzaSyBUhppSf0NoFtLuuP1gLlGLQCe3IS5TgLA",authDomain:"church-library-e24f5.firebaseapp.com",projectId:"church-library-e24f5",storageBucket:"church-library-e24f5.appspot.com",messagingSenderId:"1054482339092",appId:"1:1054482339092:web:6d0ba6ac56ce90d14c1e01",measurementId:"G-FSGY3SFY3R"};var Qe=U(7022);let Ve=(()=>{class Ye{}return Ye.\u0275fac=function(Me){return new(Me||Ye)},Ye.\u0275mod=Z.oAB({type:Ye,bootstrap:[ae]}),Ye.\u0275inj=Z.cJS({imports:[w.b2,Ce,Qe.InventoryModule,ie.hO.initializeApp(it_firebase),he.JS]}),Ye})();(0,Z.G48)(),w.q6().bootstrapModule(Ve).catch(Ye=>console.error(Ye))},9751:(bt,ke,U)=>{U.d(ke,{y:()=>Ce});var w=U(930),Z=U(727),B=U(8822),T=U(9635),fe=U(2416),Ie=U(576),be=U(2806);let Ce=(()=>{class he{constructor(Qe){Qe&&(this._subscribe=Qe)}lift(Qe){const Ve=new he;return Ve.source=this,Ve.operator=Qe,Ve}subscribe(Qe,Ve,Ye){const Ne=function ie(he){return he&&he instanceof w.Lv||function ae(he){return he&&(0,Ie.m)(he.next)&&(0,Ie.m)(he.error)&&(0,Ie.m)(he.complete)}(he)&&(0,Z.Nn)(he)}(Qe)?Qe:new w.Hp(Qe,Ve,Ye);return(0,be.x)(()=>{const{operator:Me,source:wt}=this;Ne.add(Me?Me.call(Ne,wt):wt?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(Ve){Qe.error(Ve)}}forEach(Qe,Ve){return new(Ve=Te(Ve))((Ye,Ne)=>{const Me=new w.Hp({next:wt=>{try{Qe(wt)}catch(Et){Ne(Et),Me.unsubscribe()}},error:Ne,complete:Ye});this.subscribe(Me)})}_subscribe(Qe){var Ve;return null===(Ve=this.source)||void 0===Ve?void 0:Ve.subscribe(Qe)}[B.L](){return this}pipe(...Qe){return(0,T.U)(Qe)(this)}toPromise(Qe){return new(Qe=Te(Qe))((Ve,Ye)=>{let Ne;this.subscribe(Me=>Ne=Me,Me=>Ye(Me),()=>Ve(Ne))})}}return he.create=it=>new he(it),he})();function Te(he){var it;return null!==(it=he??fe.v.Promise)&&void 0!==it?it:Promise}},7579:(bt,ke,U)=>{U.d(ke,{x:()=>be});var w=U(9751),Z=U(727);const T=(0,U(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=U(8737),Ie=U(2806);let be=(()=>{class Te extends w.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const he=new Ce(this,this);return he.operator=ie,he}_throwIfClosed(){if(this.closed)throw new T}next(ie){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(ie)}})}error(ie){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:he}=this;for(;he.length;)he.shift().error(ie)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:he,isStopped:it,observers:Qe}=this;return he||it?Z.Lc:(this.currentObservers=null,Qe.push(ie),new Z.w0(()=>{this.currentObservers=null,(0,fe.P)(Qe,ie)}))}_checkFinalizedStatuses(ie){const{hasError:he,thrownError:it,isStopped:Qe}=this;he?ie.error(it):Qe&&ie.complete()}asObservable(){const ie=new w.y;return ie.source=this,ie}}return Te.create=(ae,ie)=>new Ce(ae,ie),Te})();class Ce extends be{constructor(ae,ie){super(),this.destination=ae,this.source=ie}next(ae){var ie,he;null===(he=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===he||he.call(ie,ae)}error(ae){var ie,he;null===(he=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===he||he.call(ie,ae)}complete(){var ae,ie;null===(ie=null===(ae=this.destination)||void 0===ae?void 0:ae.complete)||void 0===ie||ie.call(ae)}_subscribe(ae){var ie,he;return null!==(he=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(ae))&&void 0!==he?he:Z.Lc}}},930:(bt,ke,U)=>{U.d(ke,{Hp:()=>Ye,Lv:()=>he});var w=U(576),Z=U(727),B=U(2416),T=U(7849),fe=U(5032);const Ie=Te("C",void 0,void 0);function Te(Ue,je,qe){return{kind:Ue,value:je,error:qe}}var ae=U(3410),ie=U(2806);class he extends Z.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,Z.Nn)(je)&&je.add(this)):this.destination=Et}static create(je,qe,at){return new Ye(je,qe,at)}next(je){this.isStopped?wt(function Ce(Ue){return Te("N",Ue,void 0)}(je),this):this._next(je)}error(je){this.isStopped?wt(function be(Ue){return Te("E",void 0,Ue)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?wt(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const it=Function.prototype.bind;function Qe(Ue,je){return it.call(Ue,je)}class Ve{constructor(je){this.partialObserver=je}next(je){const{partialObserver:qe}=this;if(qe.next)try{qe.next(je)}catch(at){Ne(at)}}error(je){const{partialObserver:qe}=this;if(qe.error)try{qe.error(je)}catch(at){Ne(at)}else Ne(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(qe){Ne(qe)}}}class Ye extends he{constructor(je,qe,at){let dt;if(super(),(0,w.m)(je)||!je)dt={next:je??void 0,error:qe??void 0,complete:at??void 0};else{let oe;this&&B.v.useDeprecatedNextContext?(oe=Object.create(je),oe.unsubscribe=()=>this.unsubscribe(),dt={next:je.next&&Qe(je.next,oe),error:je.error&&Qe(je.error,oe),complete:je.complete&&Qe(je.complete,oe)}):dt=je}this.destination=new Ve(dt)}}function Ne(Ue){B.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(Ue):(0,T.h)(Ue)}function wt(Ue,je){const{onStoppedNotification:qe}=B.v;qe&&ae.z.setTimeout(()=>qe(Ue,je))}const Et={closed:!0,next:fe.Z,error:function Me(Ue){throw Ue},complete:fe.Z}},727:(bt,ke,U)=>{U.d(ke,{Lc:()=>Ie,w0:()=>fe,Nn:()=>be});var w=U(576);const B=(0,U(3888).d)(Te=>function(ie){Te(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((he,it)=>`${it+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var T=U(8737);class fe{constructor(ae){this.initialTeardown=ae,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ae;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Qe of ie)Qe.remove(this);else ie.remove(this);const{initialTeardown:he}=this;if((0,w.m)(he))try{he()}catch(Qe){ae=Qe instanceof B?Qe.errors:[Qe]}const{_finalizers:it}=this;if(it){this._finalizers=null;for(const Qe of it)try{Ce(Qe)}catch(Ve){ae=ae??[],Ve instanceof B?ae=[...ae,...Ve.errors]:ae.push(Ve)}}if(ae)throw new B(ae)}}add(ae){var ie;if(ae&&ae!==this)if(this.closed)Ce(ae);else{if(ae instanceof fe){if(ae.closed||ae._hasParent(this))return;ae._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(ae)}}_hasParent(ae){const{_parentage:ie}=this;return ie===ae||Array.isArray(ie)&&ie.includes(ae)}_addParent(ae){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(ae),ie):ie?[ie,ae]:ae}_removeParent(ae){const{_parentage:ie}=this;ie===ae?this._parentage=null:Array.isArray(ie)&&(0,T.P)(ie,ae)}remove(ae){const{_finalizers:ie}=this;ie&&(0,T.P)(ie,ae),ae instanceof fe&&ae._removeParent(this)}}fe.EMPTY=(()=>{const Te=new fe;return Te.closed=!0,Te})();const Ie=fe.EMPTY;function be(Te){return Te instanceof fe||Te&&"closed"in Te&&(0,w.m)(Te.remove)&&(0,w.m)(Te.add)&&(0,w.m)(Te.unsubscribe)}function Ce(Te){(0,w.m)(Te)?Te():Te.unsubscribe()}},2416:(bt,ke,U)=>{U.d(ke,{v:()=>w});const w={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(bt,ke,U)=>{U.d(ke,{E:()=>Z});const Z=new(U(9751).y)(fe=>fe.complete())},8996:(bt,ke,U)=>{U.d(ke,{D:()=>je});var w=U(8421),Z=U(5363),B=U(9468),Ie=U(9751),Ce=U(2202),Te=U(576),ae=U(9672);function he(qe,at){if(!qe)throw new Error("Iterable cannot be null");return new Ie.y(dt=>{(0,ae.f)(dt,at,()=>{const oe=qe[Symbol.asyncIterator]();(0,ae.f)(dt,at,()=>{oe.next().then(V=>{V.done?dt.complete():dt.next(V.value)})},0,!0)})})}var it=U(3670),Qe=U(8239),Ve=U(1144),Ye=U(6495),Ne=U(2206),Me=U(4532),wt=U(3260);function je(qe,at){return at?function Ue(qe,at){if(null!=qe){if((0,it.c)(qe))return function T(qe,at){return(0,w.Xf)(qe).pipe((0,B.R)(at),(0,Z.Q)(at))}(qe,at);if((0,Ve.z)(qe))return function be(qe,at){return new Ie.y(dt=>{let oe=0;return at.schedule(function(){oe===qe.length?dt.complete():(dt.next(qe[oe++]),dt.closed||this.schedule())})})}(qe,at);if((0,Qe.t)(qe))return function fe(qe,at){return(0,w.Xf)(qe).pipe((0,B.R)(at),(0,Z.Q)(at))}(qe,at);if((0,Ne.D)(qe))return he(qe,at);if((0,Ye.T)(qe))return function ie(qe,at){return new Ie.y(dt=>{let oe;return(0,ae.f)(dt,at,()=>{oe=qe[Ce.h](),(0,ae.f)(dt,at,()=>{let V,ue;try{({value:V,done:ue}=oe.next())}catch(_e){return void dt.error(_e)}ue?dt.complete():dt.next(V)},0,!0)}),()=>(0,Te.m)(oe?.return)&&oe.return()})}(qe,at);if((0,wt.L)(qe))return function Et(qe,at){return he((0,wt.Q)(qe),at)}(qe,at)}throw(0,Me.z)(qe)}(qe,at):(0,w.Xf)(qe)}},8421:(bt,ke,U)=>{U.d(ke,{Xf:()=>it});var w=U(655),Z=U(1144),B=U(8239),T=U(9751),fe=U(3670),Ie=U(2206),be=U(4532),Ce=U(6495),Te=U(3260),ae=U(576),ie=U(7849),he=U(8822);function it(Ue){if(Ue instanceof T.y)return Ue;if(null!=Ue){if((0,fe.c)(Ue))return function Qe(Ue){return new T.y(je=>{const qe=Ue[he.L]();if((0,ae.m)(qe.subscribe))return qe.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,Z.z)(Ue))return function Ve(Ue){return new T.y(je=>{for(let qe=0;qe<Ue.length&&!je.closed;qe++)je.next(Ue[qe]);je.complete()})}(Ue);if((0,B.t)(Ue))return function Ye(Ue){return new T.y(je=>{Ue.then(qe=>{je.closed||(je.next(qe),je.complete())},qe=>je.error(qe)).then(null,ie.h)})}(Ue);if((0,Ie.D)(Ue))return Me(Ue);if((0,Ce.T)(Ue))return function Ne(Ue){return new T.y(je=>{for(const qe of Ue)if(je.next(qe),je.closed)return;je.complete()})}(Ue);if((0,Te.L)(Ue))return function wt(Ue){return Me((0,Te.Q)(Ue))}(Ue)}throw(0,be.z)(Ue)}function Me(Ue){return new T.y(je=>{(function Et(Ue,je){var qe,at,dt,oe;return(0,w.mG)(this,void 0,void 0,function*(){try{for(qe=(0,w.KL)(Ue);!(at=yield qe.next()).done;)if(je.next(at.value),je.closed)return}catch(V){dt={error:V}}finally{try{at&&!at.done&&(oe=qe.return)&&(yield oe.call(qe))}finally{if(dt)throw dt.error}}je.complete()})})(Ue,je).catch(qe=>je.error(qe))})}},6451:(bt,ke,U)=>{U.d(ke,{T:()=>Ie});var w=U(8189),Z=U(8421),B=U(515),T=U(7669),fe=U(8996);function Ie(...be){const Ce=(0,T.yG)(be),Te=(0,T._6)(be,1/0),ae=be;return ae.length?1===ae.length?(0,Z.Xf)(ae[0]):(0,w.J)(Te)((0,fe.D)(ae,Ce)):B.E}},9646:(bt,ke,U)=>{U.d(ke,{of:()=>B});var w=U(7669),Z=U(8996);function B(...T){const fe=(0,w.yG)(T);return(0,Z.D)(T,fe)}},5403:(bt,ke,U)=>{U.d(ke,{x:()=>Z});var w=U(930);function Z(T,fe,Ie,be,Ce){return new B(T,fe,Ie,be,Ce)}class B extends w.Lv{constructor(fe,Ie,be,Ce,Te,ae){super(fe),this.onFinalize=Te,this.shouldUnsubscribe=ae,this._next=Ie?function(ie){try{Ie(ie)}catch(he){fe.error(he)}}:super._next,this._error=Ce?function(ie){try{Ce(ie)}catch(he){fe.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(ie){fe.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},6590:(bt,ke,U)=>{U.d(ke,{d:()=>B});var w=U(4482),Z=U(5403);function B(T){return(0,w.e)((fe,Ie)=>{let be=!1;fe.subscribe((0,Z.x)(Ie,Ce=>{be=!0,Ie.next(Ce)},()=>{be||Ie.next(T),Ie.complete()}))})}},9300:(bt,ke,U)=>{U.d(ke,{h:()=>B});var w=U(4482),Z=U(5403);function B(T,fe){return(0,w.e)((Ie,be)=>{let Ce=0;Ie.subscribe((0,Z.x)(be,Te=>T.call(fe,Te,Ce++)&&be.next(Te)))})}},8746:(bt,ke,U)=>{U.d(ke,{x:()=>Z});var w=U(4482);function Z(B){return(0,w.e)((T,fe)=>{try{T.subscribe(fe)}finally{fe.add(B)}})}},590:(bt,ke,U)=>{U.d(ke,{P:()=>be});var w=U(6805),Z=U(9300),B=U(5698),T=U(6590),fe=U(8068),Ie=U(4671);function be(Ce,Te){const ae=arguments.length>=2;return ie=>ie.pipe(Ce?(0,Z.h)((he,it)=>Ce(he,it,ie)):Ie.y,(0,B.q)(1),ae?(0,T.d)(Te):(0,fe.T)(()=>new w.K))}},4004:(bt,ke,U)=>{U.d(ke,{U:()=>B});var w=U(4482),Z=U(5403);function B(T,fe){return(0,w.e)((Ie,be)=>{let Ce=0;Ie.subscribe((0,Z.x)(be,Te=>{be.next(T.call(fe,Te,Ce++))}))})}},8189:(bt,ke,U)=>{U.d(ke,{J:()=>B});var w=U(5577),Z=U(4671);function B(T=1/0){return(0,w.z)(Z.y,T)}},5577:(bt,ke,U)=>{U.d(ke,{z:()=>Ce});var w=U(4004),Z=U(8421),B=U(4482),T=U(9672),fe=U(5403),be=U(576);function Ce(Te,ae,ie=1/0){return(0,be.m)(ae)?Ce((he,it)=>(0,w.U)((Qe,Ve)=>ae(he,Qe,it,Ve))((0,Z.Xf)(Te(he,it))),ie):("number"==typeof ae&&(ie=ae),(0,B.e)((he,it)=>function Ie(Te,ae,ie,he,it,Qe,Ve,Ye){const Ne=[];let Me=0,wt=0,Et=!1;const Ue=()=>{Et&&!Ne.length&&!Me&&ae.complete()},je=at=>Me<he?qe(at):Ne.push(at),qe=at=>{Qe&&ae.next(at),Me++;let dt=!1;(0,Z.Xf)(ie(at,wt++)).subscribe((0,fe.x)(ae,oe=>{it?.(oe),Qe?je(oe):ae.next(oe)},()=>{dt=!0},void 0,()=>{if(dt)try{for(Me--;Ne.length&&Me<he;){const oe=Ne.shift();Ve?(0,T.f)(ae,Ve,()=>qe(oe)):qe(oe)}Ue()}catch(oe){ae.error(oe)}}))};return Te.subscribe((0,fe.x)(ae,je,()=>{Et=!0,Ue()})),()=>{Ye?.()}}(he,it,Te,ie)))}},5363:(bt,ke,U)=>{U.d(ke,{Q:()=>T});var w=U(9672),Z=U(4482),B=U(5403);function T(fe,Ie=0){return(0,Z.e)((be,Ce)=>{be.subscribe((0,B.x)(Ce,Te=>(0,w.f)(Ce,fe,()=>Ce.next(Te),Ie),()=>(0,w.f)(Ce,fe,()=>Ce.complete(),Ie),Te=>(0,w.f)(Ce,fe,()=>Ce.error(Te),Ie)))})}},5026:(bt,ke,U)=>{U.d(ke,{R:()=>T});var w=U(4482),Z=U(5403);function B(fe,Ie,be,Ce,Te){return(ae,ie)=>{let he=be,it=Ie,Qe=0;ae.subscribe((0,Z.x)(ie,Ve=>{const Ye=Qe++;it=he?fe(it,Ve,Ye):(he=!0,Ve),Ce&&ie.next(it)},Te&&(()=>{he&&ie.next(it),ie.complete()})))}}function T(fe,Ie){return(0,w.e)(B(fe,Ie,arguments.length>=2,!0))}},3099:(bt,ke,U)=>{U.d(ke,{B:()=>fe});var w=U(8421),Z=U(7579),B=U(930),T=U(4482);function fe(be={}){const{connector:Ce=(()=>new Z.x),resetOnError:Te=!0,resetOnComplete:ae=!0,resetOnRefCountZero:ie=!0}=be;return he=>{let it,Qe,Ve,Ye=0,Ne=!1,Me=!1;const wt=()=>{Qe?.unsubscribe(),Qe=void 0},Et=()=>{wt(),it=Ve=void 0,Ne=Me=!1},Ue=()=>{const je=it;Et(),je?.unsubscribe()};return(0,T.e)((je,qe)=>{Ye++,!Me&&!Ne&&wt();const at=Ve=Ve??Ce();qe.add(()=>{Ye--,0===Ye&&!Me&&!Ne&&(Qe=Ie(Ue,ie))}),at.subscribe(qe),!it&&Ye>0&&(it=new B.Hp({next:dt=>at.next(dt),error:dt=>{Me=!0,wt(),Qe=Ie(Et,Te,dt),at.error(dt)},complete:()=>{Ne=!0,wt(),Qe=Ie(Et,ae),at.complete()}}),(0,w.Xf)(je).subscribe(it))})(he)}}function Ie(be,Ce,...Te){if(!0===Ce)return void be();if(!1===Ce)return;const ae=new B.Hp({next:()=>{ae.unsubscribe(),be()}});return Ce(...Te).subscribe(ae)}},9468:(bt,ke,U)=>{U.d(ke,{R:()=>Z});var w=U(4482);function Z(B,T=0){return(0,w.e)((fe,Ie)=>{Ie.add(B.schedule(()=>fe.subscribe(Ie),T))})}},3900:(bt,ke,U)=>{U.d(ke,{w:()=>T});var w=U(8421),Z=U(4482),B=U(5403);function T(fe,Ie){return(0,Z.e)((be,Ce)=>{let Te=null,ae=0,ie=!1;const he=()=>ie&&!Te&&Ce.complete();be.subscribe((0,B.x)(Ce,it=>{Te?.unsubscribe();let Qe=0;const Ve=ae++;(0,w.Xf)(fe(it,Ve)).subscribe(Te=(0,B.x)(Ce,Ye=>Ce.next(Ie?Ie(it,Ye,Ve,Qe++):Ye),()=>{Te=null,he()}))},()=>{ie=!0,he()}))})}},5698:(bt,ke,U)=>{U.d(ke,{q:()=>T});var w=U(515),Z=U(4482),B=U(5403);function T(fe){return fe<=0?()=>w.E:(0,Z.e)((Ie,be)=>{let Ce=0;Ie.subscribe((0,B.x)(be,Te=>{++Ce<=fe&&(be.next(Te),fe<=Ce&&be.complete())}))})}},8505:(bt,ke,U)=>{U.d(ke,{b:()=>fe});var w=U(576),Z=U(4482),B=U(5403),T=U(4671);function fe(Ie,be,Ce){const Te=(0,w.m)(Ie)||be||Ce?{next:Ie,error:be,complete:Ce}:Ie;return Te?(0,Z.e)((ae,ie)=>{var he;null===(he=Te.subscribe)||void 0===he||he.call(Te);let it=!0;ae.subscribe((0,B.x)(ie,Qe=>{var Ve;null===(Ve=Te.next)||void 0===Ve||Ve.call(Te,Qe),ie.next(Qe)},()=>{var Qe;it=!1,null===(Qe=Te.complete)||void 0===Qe||Qe.call(Te),ie.complete()},Qe=>{var Ve;it=!1,null===(Ve=Te.error)||void 0===Ve||Ve.call(Te,Qe),ie.error(Qe)},()=>{var Qe,Ve;it&&(null===(Qe=Te.unsubscribe)||void 0===Qe||Qe.call(Te)),null===(Ve=Te.finalize)||void 0===Ve||Ve.call(Te)}))}):T.y}},8068:(bt,ke,U)=>{U.d(ke,{T:()=>T});var w=U(6805),Z=U(4482),B=U(5403);function T(Ie=fe){return(0,Z.e)((be,Ce)=>{let Te=!1;be.subscribe((0,B.x)(Ce,ae=>{Te=!0,Ce.next(ae)},()=>Te?Ce.complete():Ce.error(Ie())))})}function fe(){return new w.K}},4408:(bt,ke,U)=>{U.d(ke,{o:()=>fe});var w=U(727);class Z extends w.w0{constructor(be,Ce){super()}schedule(be,Ce=0){return this}}const B={setInterval(Ie,be,...Ce){const{delegate:Te}=B;return Te?.setInterval?Te.setInterval(Ie,be,...Ce):setInterval(Ie,be,...Ce)},clearInterval(Ie){const{delegate:be}=B;return(be?.clearInterval||clearInterval)(Ie)},delegate:void 0};var T=U(8737);class fe extends Z{constructor(be,Ce){super(be,Ce),this.scheduler=be,this.work=Ce,this.pending=!1}schedule(be,Ce=0){var Te;if(this.closed)return this;this.state=be;const ae=this.id,ie=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(ie,ae,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(Te=this.id)&&void 0!==Te?Te:this.requestAsyncId(ie,this.id,Ce),this}requestAsyncId(be,Ce,Te=0){return B.setInterval(be.flush.bind(be,this),Te)}recycleAsyncId(be,Ce,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return Ce;null!=Ce&&B.clearInterval(Ce)}execute(be,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(be,Ce);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Ce){let ae,Te=!1;try{this.work(be)}catch(ie){Te=!0,ae=ie||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),ae}unsubscribe(){if(!this.closed){const{id:be,scheduler:Ce}=this,{actions:Te}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,T.P)(Te,this),null!=be&&(this.id=this.recycleAsyncId(Ce,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(bt,ke,U)=>{U.d(ke,{v:()=>B});var w=U(6063);class Z{constructor(fe,Ie=Z.now){this.schedulerActionCtor=fe,this.now=Ie}schedule(fe,Ie=0,be){return new this.schedulerActionCtor(this,fe).schedule(be,Ie)}}Z.now=w.l.now;class B extends Z{constructor(fe,Ie=Z.now){super(fe,Ie),this.actions=[],this._active=!1}flush(fe){const{actions:Ie}=this;if(this._active)return void Ie.push(fe);let be;this._active=!0;do{if(be=fe.execute(fe.state,fe.delay))break}while(fe=Ie.shift());if(this._active=!1,be){for(;fe=Ie.shift();)fe.unsubscribe();throw be}}}},4986:(bt,ke,U)=>{U.d(ke,{z:()=>B});var w=U(4408);const B=new(U(7565).v)(w.o)},6063:(bt,ke,U)=>{U.d(ke,{l:()=>w});const w={now:()=>(w.delegate||Date).now(),delegate:void 0}},3410:(bt,ke,U)=>{U.d(ke,{z:()=>w});const w={setTimeout(Z,B,...T){const{delegate:fe}=w;return fe?.setTimeout?fe.setTimeout(Z,B,...T):setTimeout(Z,B,...T)},clearTimeout(Z){const{delegate:B}=w;return(B?.clearTimeout||clearTimeout)(Z)},delegate:void 0}},2202:(bt,ke,U)=>{U.d(ke,{h:()=>Z});const Z=function w(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,ke,U)=>{U.d(ke,{L:()=>w});const w="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(bt,ke,U)=>{U.d(ke,{K:()=>Z});const Z=(0,U(3888).d)(B=>function(){B(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(bt,ke,U)=>{U.d(ke,{_6:()=>Ie,jO:()=>T,yG:()=>fe});var w=U(576);function B(be){return be[be.length-1]}function T(be){return(0,w.m)(B(be))?be.pop():void 0}function fe(be){return function Z(be){return be&&(0,w.m)(be.schedule)}(B(be))?be.pop():void 0}function Ie(be,Ce){return"number"==typeof B(be)?be.pop():Ce}},4742:(bt,ke,U)=>{U.d(ke,{D:()=>fe});const{isArray:w}=Array,{getPrototypeOf:Z,prototype:B,keys:T}=Object;function fe(be){if(1===be.length){const Ce=be[0];if(w(Ce))return{args:Ce,keys:null};if(function Ie(be){return be&&"object"==typeof be&&Z(be)===B}(Ce)){const Te=T(Ce);return{args:Te.map(ae=>Ce[ae]),keys:Te}}}return{args:be,keys:null}}},8737:(bt,ke,U)=>{function w(Z,B){if(Z){const T=Z.indexOf(B);0<=T&&Z.splice(T,1)}}U.d(ke,{P:()=>w})},3888:(bt,ke,U)=>{function w(Z){const T=Z(fe=>{Error.call(fe),fe.stack=(new Error).stack});return T.prototype=Object.create(Error.prototype),T.prototype.constructor=T,T}U.d(ke,{d:()=>w})},1810:(bt,ke,U)=>{function w(Z,B){return Z.reduce((T,fe,Ie)=>(T[fe]=B[Ie],T),{})}U.d(ke,{n:()=>w})},2806:(bt,ke,U)=>{U.d(ke,{O:()=>T,x:()=>B});var w=U(2416);let Z=null;function B(fe){if(w.v.useDeprecatedSynchronousErrorHandling){const Ie=!Z;if(Ie&&(Z={errorThrown:!1,error:null}),fe(),Ie){const{errorThrown:be,error:Ce}=Z;if(Z=null,be)throw Ce}}else fe()}function T(fe){w.v.useDeprecatedSynchronousErrorHandling&&Z&&(Z.errorThrown=!0,Z.error=fe)}},9672:(bt,ke,U)=>{function w(Z,B,T,fe=0,Ie=!1){const be=B.schedule(function(){T(),Ie?Z.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(Z.add(be),!Ie)return be}U.d(ke,{f:()=>w})},4671:(bt,ke,U)=>{function w(Z){return Z}U.d(ke,{y:()=>w})},1144:(bt,ke,U)=>{U.d(ke,{z:()=>w});const w=Z=>Z&&"number"==typeof Z.length&&"function"!=typeof Z},2206:(bt,ke,U)=>{U.d(ke,{D:()=>Z});var w=U(576);function Z(B){return Symbol.asyncIterator&&(0,w.m)(B?.[Symbol.asyncIterator])}},576:(bt,ke,U)=>{function w(Z){return"function"==typeof Z}U.d(ke,{m:()=>w})},3670:(bt,ke,U)=>{U.d(ke,{c:()=>B});var w=U(8822),Z=U(576);function B(T){return(0,Z.m)(T[w.L])}},6495:(bt,ke,U)=>{U.d(ke,{T:()=>B});var w=U(2202),Z=U(576);function B(T){return(0,Z.m)(T?.[w.h])}},8239:(bt,ke,U)=>{U.d(ke,{t:()=>Z});var w=U(576);function Z(B){return(0,w.m)(B?.then)}},3260:(bt,ke,U)=>{U.d(ke,{L:()=>T,Q:()=>B});var w=U(655),Z=U(576);function B(fe){return(0,w.FC)(this,arguments,function*(){const be=fe.getReader();try{for(;;){const{value:Ce,done:Te}=yield(0,w.qq)(be.read());if(Te)return yield(0,w.qq)(void 0);yield yield(0,w.qq)(Ce)}}finally{be.releaseLock()}})}function T(fe){return(0,Z.m)(fe?.getReader)}},4482:(bt,ke,U)=>{U.d(ke,{A:()=>Z,e:()=>B});var w=U(576);function Z(T){return(0,w.m)(T?.lift)}function B(T){return fe=>{if(Z(fe))return fe.lift(function(Ie){try{return T(Ie,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(bt,ke,U)=>{U.d(ke,{Z:()=>T});var w=U(4004);const{isArray:Z}=Array;function T(fe){return(0,w.U)(Ie=>function B(fe,Ie){return Z(Ie)?fe(...Ie):fe(Ie)}(fe,Ie))}},5032:(bt,ke,U)=>{function w(){}U.d(ke,{Z:()=>w})},9635:(bt,ke,U)=>{U.d(ke,{U:()=>B,z:()=>Z});var w=U(4671);function Z(...T){return B(T)}function B(T){return 0===T.length?w.y:1===T.length?T[0]:function(Ie){return T.reduce((be,Ce)=>Ce(be),Ie)}}},7849:(bt,ke,U)=>{U.d(ke,{h:()=>B});var w=U(2416),Z=U(3410);function B(T){Z.z.setTimeout(()=>{const{onUnhandledError:fe}=w.v;if(!fe)throw T;fe(T)})}},4532:(bt,ke,U)=>{function w(Z){return new TypeError(`You provided ${null!==Z&&"object"==typeof Z?"an invalid object":`'${Z}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(ke,{z:()=>w})},655:(bt,ke,U)=>{function T(ue,_e){var Re={};for(var De in ue)Object.prototype.hasOwnProperty.call(ue,De)&&_e.indexOf(De)<0&&(Re[De]=ue[De]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(De=Object.getOwnPropertySymbols(ue);$e<De.length;$e++)_e.indexOf(De[$e])<0&&Object.prototype.propertyIsEnumerable.call(ue,De[$e])&&(Re[De[$e]]=ue[De[$e]])}return Re}function Ce(ue,_e,Re,De){return new(Re||(Re=Promise))(function(st,Ot){function wn(ln){try{ut(De.next(ln))}catch(bn){Ot(bn)}}function Bt(ln){try{ut(De.throw(ln))}catch(bn){Ot(bn)}}function ut(ln){ln.done?st(ln.value):function $e(st){return st instanceof Re?st:new Re(function(Ot){Ot(st)})}(ln.value).then(wn,Bt)}ut((De=De.apply(ue,_e||[])).next())})}function Ne(ue){return this instanceof Ne?(this.v=ue,this):new Ne(ue)}function Me(ue,_e,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,De=Re.apply(ue,_e||[]),st=[];return $e={},Ot("next"),Ot("throw"),Ot("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function Ot(Zt){De[Zt]&&($e[Zt]=function(xt){return new Promise(function(Qn,Kt){st.push([Zt,xt,Qn,Kt])>1||wn(Zt,xt)})})}function wn(Zt,xt){try{!function Bt(Zt){Zt.value instanceof Ne?Promise.resolve(Zt.value.v).then(ut,ln):bn(st[0][2],Zt)}(De[Zt](xt))}catch(Qn){bn(st[0][3],Qn)}}function ut(Zt){wn("next",Zt)}function ln(Zt){wn("throw",Zt)}function bn(Zt,xt){Zt(xt),st.shift(),st.length&&wn(st[0][0],st[0][1])}}function Et(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,_e=ue[Symbol.asyncIterator];return _e?_e.call(ue):(ue=function he(ue){var _e="function"==typeof Symbol&&Symbol.iterator,Re=_e&&ue[_e],De=0;if(Re)return Re.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&De>=ue.length&&(ue=void 0),{value:ue&&ue[De++],done:!ue}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),Re={},De("next"),De("throw"),De("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function De(st){Re[st]=ue[st]&&function(Ot){return new Promise(function(wn,Bt){!function $e(st,Ot,wn,Bt){Promise.resolve(Bt).then(function(ut){st({value:ut,done:wn})},Ot)}(wn,Bt,(Ot=ue[st](Ot)).done,Ot.value)})}}}U.d(ke,{FC:()=>Me,KL:()=>Et,_T:()=>T,mG:()=>Ce,qq:()=>Ne})},6895:(bt,ke,U)=>{U.d(ke,{Do:()=>Et,EM:()=>Ts,HT:()=>fe,JF:()=>hs,K0:()=>be,Mx:()=>Mr,O5:()=>pr,PM:()=>ai,S$:()=>Ne,V_:()=>ae,Ye:()=>Ue,b0:()=>wt,bD:()=>zi,ez:()=>Pi,q:()=>B,sg:()=>Mi,w_:()=>Ie});var w=U(4650);let Z=null;function B(){return Z}function fe(A){Z||(Z=A)}class Ie{}const be=new w.OlP("DocumentToken");let Ce=(()=>{class A{historyGo(P){throw new Error("Not implemented")}}return A.\u0275fac=function(P){return new(P||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return function Te(){return(0,w.LFG)(ie)}()},providedIn:"platform"}),A})();const ae=new w.OlP("Location Initialized");let ie=(()=>{class A extends Ce{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(P){const G=B().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",P,!1),()=>G.removeEventListener("popstate",P)}onHashChange(P){const G=B().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",P,!1),()=>G.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,G,re){he()?this._history.pushState(P,G,re):this.location.hash=re}replaceState(P,G,re){he()?this._history.replaceState(P,G,re):this.location.hash=re}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return A.\u0275fac=function(P){return new(P||A)(w.LFG(be))},A.\u0275prov=w.Yz7({token:A,factory:function(){return function it(){return new ie((0,w.LFG)(be))}()},providedIn:"platform"}),A})();function he(){return!!window.history.pushState}function Qe(A,F){if(0==A.length)return F;if(0==F.length)return A;let P=0;return A.endsWith("/")&&P++,F.startsWith("/")&&P++,2==P?A+F.substring(1):1==P?A+F:A+"/"+F}function Ve(A){const F=A.match(/#|\?|$/),P=F&&F.index||A.length;return A.slice(0,P-("/"===A[P-1]?1:0))+A.slice(P)}function Ye(A){return A&&"?"!==A[0]?"?"+A:A}let Ne=(()=>{class A{historyGo(P){throw new Error("Not implemented")}}return A.\u0275fac=function(P){return new(P||A)},A.\u0275prov=w.Yz7({token:A,factory:function(){return(0,w.f3M)(wt)},providedIn:"root"}),A})();const Me=new w.OlP("appBaseHref");let wt=(()=>{class A extends Ne{constructor(P,G){super(),this._platformLocation=P,this._removeListenerFns=[],this._baseHref=G??this._platformLocation.getBaseHrefFromDOM()??(0,w.f3M)(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return Qe(this._baseHref,P)}path(P=!1){const G=this._platformLocation.pathname+Ye(this._platformLocation.search),re=this._platformLocation.hash;return re&&P?`${G}${re}`:G}pushState(P,G,re,Oe){const Be=this.prepareExternalUrl(re+Ye(Oe));this._platformLocation.pushState(P,G,Be)}replaceState(P,G,re,Oe){const Be=this.prepareExternalUrl(re+Ye(Oe));this._platformLocation.replaceState(P,G,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return A.\u0275fac=function(P){return new(P||A)(w.LFG(Ce),w.LFG(Me,8))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),Et=(()=>{class A extends Ne{constructor(P,G){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(P){const G=Qe(this._baseHref,P);return G.length>0?"#"+G:G}pushState(P,G,re,Oe){let Be=this.prepareExternalUrl(re+Ye(Oe));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.pushState(P,G,Be)}replaceState(P,G,re,Oe){let Be=this.prepareExternalUrl(re+Ye(Oe));0==Be.length&&(Be=this._platformLocation.pathname),this._platformLocation.replaceState(P,G,Be)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(P=0){this._platformLocation.historyGo?.(P)}}return A.\u0275fac=function(P){return new(P||A)(w.LFG(Ce),w.LFG(Me,8))},A.\u0275prov=w.Yz7({token:A,factory:A.\u0275fac}),A})(),Ue=(()=>{class A{constructor(P){this._subject=new w.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=P;const G=this._locationStrategy.getBaseHref();this._baseHref=Ve(at(G)),this._locationStrategy.onPopState(re=>{this._subject.emit({url:this.path(!0),pop:!0,state:re.state,type:re.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(P=!1){return this.normalize(this._locationStrategy.path(P))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(P,G=""){return this.path()==this.normalize(P+Ye(G))}normalize(P){return A.stripTrailingSlash(function qe(A,F){return A&&F.startsWith(A)?F.substring(A.length):F}(this._baseHref,at(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._locationStrategy.prepareExternalUrl(P)}go(P,G="",re=null){this._locationStrategy.pushState(re,"",P,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ye(G)),re)}replaceState(P,G="",re=null){this._locationStrategy.replaceState(re,"",P,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+Ye(G)),re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(P=0){this._locationStrategy.historyGo?.(P)}onUrlChange(P){return this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(P);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(P="",G){this._urlChangeListeners.forEach(re=>re(P,G))}subscribe(P,G,re){return this._subject.subscribe({next:P,error:G,complete:re})}}return A.normalizeQueryParams=Ye,A.joinWithSlash=Qe,A.stripTrailingSlash=Ve,A.\u0275fac=function(P){return new(P||A)(w.LFG(Ne))},A.\u0275prov=w.Yz7({token:A,factory:function(){return function je(){return new Ue((0,w.LFG)(Ne))}()},providedIn:"root"}),A})();function at(A){return A.replace(/\/index.html$/,"")}function Mr(A,F){F=encodeURIComponent(F);for(const P of A.split(";")){const G=P.indexOf("="),[re,Oe]=-1==G?[P,""]:[P.slice(0,G),P.slice(G+1)];if(re.trim()===F)return decodeURIComponent(Oe)}return null}class Lr{constructor(F,P,G,re){this.$implicit=F,this.ngForOf=P,this.index=G,this.count=re}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mi=(()=>{class A{constructor(P,G,re){this._viewContainer=P,this._template=G,this._differs=re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const G=this._viewContainer;P.forEachOperation((re,Oe,Be)=>{if(null==re.previousIndex)G.createEmbeddedView(this._template,new Lr(re.item,this._ngForOf,-1,-1),null===Be?void 0:Be);else if(null==Be)G.remove(null===Oe?void 0:Oe);else if(null!==Oe){const Tt=G.get(Oe);G.move(Tt,Be),Ri(Tt,re)}});for(let re=0,Oe=G.length;re<Oe;re++){const Tt=G.get(re).context;Tt.index=re,Tt.count=Oe,Tt.ngForOf=this._ngForOf}P.forEachIdentityChange(re=>{Ri(G.get(re.currentIndex),re)})}static ngTemplateContextGuard(P,G){return!0}}return A.\u0275fac=function(P){return new(P||A)(w.Y36(w.s_b),w.Y36(w.Rgc),w.Y36(w.ZZ4))},A.\u0275dir=w.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function Ri(A,F){A.context.$implicit=F.item}let pr=(()=>{class A{constructor(P,G){this._viewContainer=P,this._context=new Is,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){ar("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){ar("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,G){return!0}}return A.\u0275fac=function(P){return new(P||A)(w.Y36(w.s_b),w.Y36(w.Rgc))},A.\u0275dir=w.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class Is{constructor(){this.$implicit=null,this.ngIf=null}}function ar(A,F){if(F&&!F.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,w.AaK)(F)}'.`)}let Pi=(()=>{class A{}return A.\u0275fac=function(P){return new(P||A)},A.\u0275mod=w.oAB({type:A}),A.\u0275inj=w.cJS({}),A})();const zi="browser";function ai(A){return"server"===A}let Ts=(()=>{class A{}return A.\u0275prov=(0,w.Yz7)({token:A,providedIn:"root",factory:()=>new ua((0,w.LFG)(be),window)}),A})();class ua{constructor(F,P){this.document=F,this.window=P,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const P=function Ur(A,F){const P=A.getElementById(F)||A.getElementsByName(F)[0];if(P)return P;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const G=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let re=G.currentNode;for(;re;){const Oe=re.shadowRoot;if(Oe){const Be=Oe.getElementById(F)||Oe.querySelector(`[name="${F}"]`);if(Be)return Be}re=G.nextNode()}}return null}(this.document,F);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=F)}}scrollToElement(F){const P=F.getBoundingClientRect(),G=P.left+this.window.pageXOffset,re=P.top+this.window.pageYOffset,Oe=this.offset();this.window.scrollTo(G-Oe[0],re-Oe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=Cr(this.window.history)||Cr(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Cr(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class hs{}},4650:(bt,ke,U)=>{U.d(ke,{$8M:()=>Xo,$Z:()=>Hp,AFp:()=>G_,AaK:()=>Ce,CHM:()=>Ki,CRH:()=>w_,CZH:()=>lh,CqO:()=>Pg,D6c:()=>$w,EJc:()=>iw,EpF:()=>Mg,F4k:()=>Rg,FYo:()=>y,FiY:()=>Rt,G48:()=>bw,GfV:()=>q,Gpc:()=>ie,JOm:()=>ia,KtG:()=>fi,LFG:()=>si,LSH:()=>gc,Lbi:()=>tw,Lck:()=>G0,MMx:()=>Nf,NdJ:()=>Ef,OlP:()=>Wn,Oqu:()=>Df,PXZ:()=>vw,Q6J:()=>pf,QGY:()=>vf,QP$:()=>Dn,Qsj:()=>D,R0b:()=>cl,RDi:()=>g,Rgc:()=>Cd,SBq:()=>i,Sil:()=>ow,Suo:()=>C_,TTD:()=>ds,TgZ:()=>Qd,X6Q:()=>Dw,XFs:()=>ct,Xpm:()=>Ke,Xts:()=>td,Y36:()=>Ic,YKP:()=>t_,YNc:()=>Sg,Yjl:()=>He,Yz7:()=>xt,Z0I:()=>_n,ZZ4:()=>sp,_Bn:()=>e_,_UZ:()=>mf,_Vd:()=>Ou,_c5:()=>Hw,_uU:()=>om,aQg:()=>op,c2e:()=>nw,cJS:()=>Kt,cg1:()=>Tf,dDg:()=>gw,dqk:()=>kn,eFA:()=>iy,ekj:()=>wf,eoX:()=>ty,f3M:()=>R,g9A:()=>Z_,h0i:()=>Uc,hGG:()=>jw,iGM:()=>E_,ifc:()=>Mt,ip1:()=>W_,jDz:()=>r_,kL8:()=>Tm,lG2:()=>pe,lqb:()=>qa,lri:()=>X_,n5z:()=>Aa,oAB:()=>Xt,oxw:()=>Fg,q4F:()=>le,qLn:()=>Wt,qOj:()=>cf,qZA:()=>Jd,rWj:()=>ey,sBO:()=>Tw,sIi:()=>dd,s_b:()=>sh,soG:()=>uh,tb:()=>K_,tp0:()=>Ut,uIk:()=>ff,vHH:()=>Ve,vpe:()=>Kl,wAp:()=>mn,xp6:()=>Ap,z2F:()=>ch,zSh:()=>ad,zs3:()=>Xu});var w=U(7579),Z=U(727),B=U(9751),T=U(6451),fe=U(3099);function Ie(e){for(let t in e)if(e[t]===Ie)return t;throw Error("Could not find renamed property on target object.")}function be(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ce(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ce).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Te(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ae=Ie({__forward_ref__:Ie});function ie(e){return e.__forward_ref__=ie,e.toString=function(){return Ce(this())},e}function he(e){return it(e)?e():e}function it(e){return"function"==typeof e&&e.hasOwnProperty(ae)&&e.__forward_ref__===ie}class Ve extends Error{constructor(t,n){super(function Ye(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Ne(e){return"string"==typeof e?e:null==e?"":String(e)}function je(e,t){throw new Ve(-201,!1)}function Bt(e,t){null==e&&function ut(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function xt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Kt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Pn(e){return hr(e,Gn)||hr(e,Sr)}function _n(e){return null!==Pn(e)}function hr(e,t){return e.hasOwnProperty(t)?e[t]:null}function xn(e){return e&&(e.hasOwnProperty(Ft)||e.hasOwnProperty(yr))?e[Ft]:null}const Gn=Ie({\u0275prov:Ie}),Ft=Ie({\u0275inj:Ie}),Sr=Ie({ngInjectableDef:Ie}),yr=Ie({ngInjectorDef:Ie});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Zn;function In(e){const t=Zn;return Zn=e,t}function Ar(e,t,n){const r=Pn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ct.Optional?null:void 0!==t?t:void je(Ce(e))}function on(e){return{toString:e}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),Mt=(()=>{return(e=Mt||(Mt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Mt;var e})();const kn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ir={},Vt=[],qr=Ie({\u0275cmp:Ie}),hn=Ie({\u0275dir:Ie}),Yr=Ie({\u0275pipe:Ie}),Mn=Ie({\u0275mod:Ie}),zn=Ie({\u0275fac:Ie}),er=Ie({__NG_ELEMENT_ID__:Ie});let Je=0;function Ke(e){return on(()=>{const n=!0===e.standalone,r={},a={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Vt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Mt.Emulated,id:"c"+Je++,styles:e.styles||Vt,_:null,setInput:null,schemas:e.schemas||null,tView:null},c=e.dependencies,m=e.features;return a.inputs=ne(e.inputs,r),a.outputs=ne(e.outputs),m&&m.forEach(I=>I(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(Lt).filter(Yt):null,a.pipeDefs=c?()=>("function"==typeof c?c():c).map(Nt).filter(Yt):null,a})}function Lt(e){return ye(e)||mt(e)}function Yt(e){return null!==e}function Xt(e){return on(()=>({type:e.type,bootstrap:e.bootstrap||Vt,declarations:e.declarations||Vt,imports:e.imports||Vt,exports:e.exports||Vt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ne(e,t){if(null==e)return Ir;const n={};for(const r in e)if(e.hasOwnProperty(r)){let a=e[r],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),n[a]=r,t&&(t[a]=c)}return n}const pe=Ke;function He(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ye(e){return e[qr]||null}function mt(e){return e[hn]||null}function Nt(e){return e[Yr]||null}function Dn(e){const t=ye(e)||mt(e)||Nt(e);return null!==t&&t.standalone}function Tn(e,t){const n=e[Mn]||null;if(!n&&!0===t)throw new Error(`Type ${Ce(e)} does not have '\u0275mod' property.`);return n}function ar(e){return Array.isArray(e)&&"object"==typeof e[1]}function Qr(e){return Array.isArray(e)&&!0===e[1]}function us(e){return 0!=(8&e.flags)}function Ds(e){return 2==(2&e.flags)}function bo(e){return 1==(1&e.flags)}function Bn(e){return null!==e.template}function ci(e){return 0!=(256&e[2])}function bi(e,t){return e.hasOwnProperty(zn)?e[zn]:null}class Dr{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ds(){return hi}function hi(e){return e.type.prototype.ngOnChanges&&(e.setInput=To),lo}function lo(){const e=Wo(this),t=e?.current;if(t){const n=e.previous;if(n===Ir)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function To(e,t,n,r){const a=Wo(e)||function Pi(e,t){return e[Ti]=t}(e,{previous:Ir,current:null}),c=a.current||(a.current={}),m=a.previous,I=this.declaredInputs[n],M=m[I];c[I]=new Dr(M&&M.currentValue,t,m===Ir),e[r]=t}ds.ngInherit=!0;const Ti="__ngSimpleChanges__";function Wo(e){return e[Ti]||null}function lr(e){for(;Array.isArray(e);)e=e[0];return e}function Cr(e,t){return lr(t[e])}function Ur(e,t){return lr(t[e.index])}function hs(e,t){return e.data[t]}function Fn(e,t){const n=t[e];return ar(n)?n:n[0]}function Oi(e){return 64==(64&e[2])}function Zi(e,t){return null==t?null:e[t]}function zo(e){e[18]=0}function wr(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Gt={lFrame:Yo(null),bindingsEnabled:!0};function an(){return Gt.bindingsEnabled}function tt(){return Gt.lFrame.lView}function En(){return Gt.lFrame.tView}function Ki(e){return Gt.lFrame.contextLView=e,e[8]}function fi(e){return Gt.lFrame.contextLView=null,e}function cr(){let e=nn();for(;null!==e&&64===e.type;)e=e.parent;return e}function nn(){return Gt.lFrame.currentTNode}function Pr(e,t){const n=Gt.lFrame;n.currentTNode=e,n.isParent=t}function Mo(){return Gt.lFrame.isParent}function Ws(){return Gt.lFrame.bindingIndex++}function ho(e,t){const n=Gt.lFrame;n.bindingIndex=n.bindingRootIndex=e,Yi(t)}function Yi(e){Gt.lFrame.currentDirectiveIndex=e}function Po(){return Gt.lFrame.currentQueryIndex}function fo(e){Gt.lFrame.currentQueryIndex=e}function Oo(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function qo(e,t,n){if(n&ct.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||n&ct.Host||(a=Oo(c),null===a||(c=c[15],10&a.type))););if(null===a)return!1;t=a,e=c}const r=Gt.lFrame=As();return r.currentTNode=t,r.lView=e,!0}function zs(e){const t=As(),n=e[1];Gt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function As(){const e=Gt.lFrame,t=null===e?null:e.child;return null===t?Yo(e):t}function Yo(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function mi(){const e=Gt.lFrame;return Gt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const A=mi;function F(){const e=mi();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function re(){return Gt.lFrame.selectedIndex}function Oe(e){Gt.lFrame.selectedIndex=e}function Be(){const e=Gt.lFrame;return hs(e.tView,e.selectedIndex)}function Sn(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:M,ngAfterViewChecked:k,ngOnDestroy:z}=c;m&&(e.contentHooks||(e.contentHooks=[])).push(-n,m),I&&((e.contentHooks||(e.contentHooks=[])).push(n,I),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,I)),M&&(e.viewHooks||(e.viewHooks=[])).push(-n,M),k&&((e.viewHooks||(e.viewHooks=[])).push(n,k),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,k)),null!=z&&(e.destroyHooks||(e.destroyHooks=[])).push(n,z)}}function sr(e,t,n){zr(e,t,3,n)}function ei(e,t,n,r){(3&e[2])===n&&zr(e,t,n,r)}function ti(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function zr(e,t,n,r){const c=r??-1,m=t.length-1;let I=0;for(let M=void 0!==r?65535&e[18]:0;M<m;M++)if("number"==typeof t[M+1]){if(I=t[M],null!=r&&I>=r)break}else t[M]<0&&(e[18]+=65536),(I<c||-1==c)&&(Ni(e,n,t,M),e[18]=(4294901760&e[18])+M+2),M++}function Ni(e,t,n,r){const a=n[r]<0,c=n[r+1],I=e[a?-n[r]:n[r]];if(a){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{c.call(I)}finally{}}}else try{c.call(I)}finally{}}class Qi{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ms(e,t,n){let r=0;for(;r<n.length;){const a=n[r];if("number"==typeof a){if(0!==a)break;r++;const c=n[r++],m=n[r++],I=n[r++];e.setAttribute(t,m,I,c)}else{const c=a,m=n[++r];Ta(c)?e.setProperty(t,c,m):e.setAttribute(t,c,m),r++}}return r}function _s(e){return 3===e||4===e||6===e}function Ta(e){return 64===e.charCodeAt(0)}function fn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const a=t[r];"number"==typeof a?n=a:0===n||Hr(e,n,a,null,-1===n||2===n?t[++r]:null)}}return e}function Hr(e,t,n,r,a){let c=0,m=e.length;if(-1===t)m=-1;else for(;c<e.length;){const I=e[c++];if("number"==typeof I){if(I===t){m=-1;break}if(I>t){m=c-1;break}}}for(;c<e.length;){const I=e[c];if("number"==typeof I)break;if(I===n){if(null===r)return void(null!==a&&(e[c+1]=a));if(r===e[c+1])return void(e[c+2]=a)}c++,null!==r&&c++,null!==a&&c++}-1!==m&&(e.splice(m,0,t),c=m+1),e.splice(c++,0,n),null!==r&&e.splice(c++,0,r),null!==a&&e.splice(c++,0,a)}function po(e){return-1!==e}function Zr(e){return 32767&e}function Zs(e,t){let n=function ga(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let _i=!0;function go(e){const t=_i;return _i=e,t}let xr=0;const yi={};function xo(e,t){const n=Qa(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Wa(r.data,e),Wa(t,null),Wa(r.blueprint,null));const a=Ga(e,t),c=e.injectorIndex;if(po(a)){const m=Zr(a),I=Zs(a,t),M=I[1].data;for(let k=0;k<8;k++)t[c+k]=I[m+k]|M[m+k]}return t[c+8]=a,c}function Wa(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Qa(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ga(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,a=t;for(;null!==a;){if(r=Fo(a),null===r)return-1;if(n++,a=a[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Jo(e,t,n){!function Sa(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(er)&&(r=n[er]),null==r&&(r=n[er]=xr++);const a=255&r;t.data[e+(a>>5)]|=1<<a}(e,t,n)}function es(e,t,n){if(n&ct.Optional||void 0!==e)return e;je()}function ma(e,t,n,r){if(n&ct.Optional&&void 0===r&&(r=null),0==(n&(ct.Self|ct.Host))){const a=e[9],c=In(void 0);try{return a?a.get(t,r,n&ct.Optional):Ar(t,r,n&ct.Optional)}finally{In(c)}}return es(r,0,n)}function Ps(e,t,n,r=ct.Default,a){if(null!==e){if(1024&t[2]){const m=function yo(e,t,n,r,a){let c=e,m=t;for(;null!==c&&null!==m&&1024&m[2]&&!(256&m[2]);){const I=No(c,m,n,r|ct.Self,yi);if(I!==yi)return I;let M=c.parent;if(!M){const k=m[21];if(k){const z=k.get(n,yi,r);if(z!==yi)return z}M=Fo(m),m=m[15]}c=M}return a}(e,t,n,r,yi);if(m!==yi)return m}const c=No(e,t,n,r,yi);if(c!==yi)return c}return ma(t,n,r,a)}function No(e,t,n,r,a){const c=function _o(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(er)?e[er]:void 0;return"number"==typeof t?t>=0?255&t:ko:t}(n);if("function"==typeof c){if(!qo(t,e,r))return r&ct.Host?es(a,0,r):ma(t,n,r,a);try{const m=c(r);if(null!=m||r&ct.Optional)return m;je()}finally{A()}}else if("number"==typeof c){let m=null,I=Qa(e,t),M=-1,k=r&ct.Host?t[16][6]:null;for((-1===I||r&ct.SkipSelf)&&(M=-1===I?Ga(e,t):t[I+8],-1!==M&&xs(r,!1)?(m=t[1],I=Zr(M),t=Zs(M,t)):I=-1);-1!==I;){const z=t[1];if(vs(c,I,z.data)){const Q=_a(I,t,n,m,r,k);if(Q!==yi)return Q}M=t[I+8],-1!==M&&xs(r,t[1].data[I+8]===k)&&vs(c,I,t)?(m=z,I=Zr(M),t=Zs(M,t)):I=-1}}return a}function _a(e,t,n,r,a,c){const m=t[1],I=m.data[e+8],z=Os(I,m,n,null==r?Ds(I)&&_i:r!=m&&0!=(3&I.type),a&ct.Host&&c===I);return null!==z?ki(t,m,z,I):yi}function Os(e,t,n,r,a){const c=e.providerIndexes,m=t.data,I=1048575&c,M=e.directiveStart,z=c>>20,ge=a?I+z:e.directiveEnd;for(let Pe=r?I:I+z;Pe<ge;Pe++){const nt=m[Pe];if(Pe<M&&n===nt||Pe>=M&&nt.type===n)return Pe}if(a){const Pe=m[M];if(Pe&&Bn(Pe)&&Pe.type===n)return M}return null}function ki(e,t,n,r){let a=e[n];const c=t.data;if(function Ji(e){return e instanceof Qi}(a)){const m=a;m.resolving&&function wt(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ve(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Me(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ne(e)}(c[n]));const I=go(m.canSeeViewProviders);m.resolving=!0;const M=m.injectImpl?In(m.injectImpl):null;qo(e,r,ct.Default);try{a=e[n]=m.factory(void 0,c,e,r),t.firstCreatePass&&n>=r.directiveStart&&function mr(e,t,n){const{ngOnChanges:r,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(r){const m=hi(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,m),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,m)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==M&&In(M),go(I),m.resolving=!1,A()}}return a}function vs(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function xs(e,t){return!(e&ct.Self||e&ct.Host&&t)}class Ns{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ps(this._tNode,this._lView,t,r,n)}}function ko(){return new Ns(cr(),tt())}function Aa(e){return on(()=>{const t=e.prototype.constructor,n=t[zn]||gr(t),r=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==r;){const c=a[zn]||gr(a);if(c&&c!==n)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function gr(e){return it(e)?()=>{const t=gr(he(e));return t&&t()}:bi(e)}function Fo(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}function Xo(e){return function dl(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let a=0;for(;a<r;){const c=n[a];if(_s(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<r&&"string"==typeof n[a];)a++;else{if(c===t)return n[a+1];a+=2}}}return null}(cr(),e)}const ks="__parameters__";function Ks(e,t,n){return on(()=>{const r=function Ma(e){return function(...n){if(e){const r=e(...n);for(const a in r)this[a]=r[a]}}}(t);function a(...c){if(this instanceof a)return r.apply(this,c),this;const m=new a(...c);return I.annotation=m,I;function I(M,k,z){const Q=M.hasOwnProperty(ks)?M[ks]:Object.defineProperty(M,ks,{value:[]})[ks];for(;Q.length<=z;)Q.push(null);return(Q[z]=Q[z]||[]).push(m),M}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class Wn{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=xt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ri(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),ri(r,t)):t!==e&&t.push(r)}return t}function rs(e,t){e.forEach(n=>Array.isArray(n)?rs(n,t):t(n))}function xa(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Eo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Fi(e,t,n){let r=Vi(e,t);return r>=0?e[1|r]=n:(r=~r,function Na(e,t,n,r){let a=e.length;if(a==t)e.push(n,r);else if(1===a)e.push(r,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Bo(e,t){const n=Vi(e,t);if(n>=0)return e[1|n]}function Vi(e,t){return function E(e,t,n){let r=0,a=e.length>>n;for(;a!==r;){const c=r+(a-r>>1),m=e[c<<n];if(t===m)return c<<n;m>t?a=c:r=c+1}return~(a<<n)}(e,t,1)}const _t={},Hn="__NG_DI_FLAG__",ii="ngTempTokenPath",Fs=/\n/gm,Ea="__source";let Es;function Ls(e){const t=Es;return Es=e,t}function ka(e,t=ct.Default){if(void 0===Es)throw new Ve(-203,!1);return null===Es?Ar(e,void 0,t):Es.get(e,t&ct.Optional?null:void 0,t)}function si(e,t=ct.Default){return(function wi(){return Zn}()||ka)(he(e),t)}function R(e,t=ct.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),si(e,t)}function N(e){const t=[];for(let n=0;n<e.length;n++){const r=he(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ve(900,!1);let a,c=ct.Default;for(let m=0;m<r.length;m++){const I=r[m],M=ee(I);"number"==typeof M?-1===M?a=I.token:c|=M:a=I}t.push(si(a,c))}else t.push(si(r))}return t}function H(e,t){return e[Hn]=t,e.prototype[Hn]=t,e}function ee(e){return e[Hn]}const Rt=H(Ks("Optional"),8),Ut=H(Ks("SkipSelf"),4);var ia=(()=>((ia=ia||{})[ia.Important=1]="Important",ia[ia.DashCase=2]="DashCase",ia))();const Ll=new Map;let eu=0;const vt="__ngContext__";function pt(e,t){ar(t)?(e[vt]=t[20],function f(e){Ll.set(e[20],e)}(t)):e[vt]=t}function Js(e,t){return undefined(e,t)}function Io(e){const t=e[3];return Qr(t)?t[3]:t}function tu(e){return Vu(e[13])}function Bl(e){return Vu(e[4])}function Vu(e){for(;null!==e&&!Qr(e);)e=e[4];return e}function oa(e,t,n,r,a){if(null!=r){let c,m=!1;Qr(r)?c=r:ar(r)&&(m=!0,r=r[0]);const I=lr(r);0===e&&null!==n?null==a?Hu(t,n,I):Ka(t,n,I,a||null,!0):1===e&&null!==n?Ka(t,n,I,a||null,!0):2===e?function Su(e,t,n){const r=ol(e,t);r&&function Id(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,I,m):3===e&&t.destroyNode(I),null!=c&&function Mu(e,t,n,r,a){const c=n[7];c!==lr(n)&&oa(t,e,r,c,a);for(let I=10;I<n.length;I++){const M=n[I];vl(M[1],M,e,t,r,c)}}(t,e,c,n,a)}}function Cu(e,t,n){return e.createElement(t,n)}function ru(e,t){const n=e[9],r=n.indexOf(t),a=t[3];512&t[2]&&(t[2]&=-513,wr(a,-1)),n.splice(r,1)}function wu(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const a=r[17];null!==a&&a!==e&&ru(a,r),t>0&&(e[n-1][4]=r[4]);const c=Eo(e,10+t);!function Bu(e,t){vl(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(r[1],r);const m=c[19];null!==m&&m.detachView(c[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function eo(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&vl(e,t,n,3,null,null),function Gc(e){let t=e[13];if(!t)return jl(e[1],e);for(;t;){let n=null;if(ar(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)ar(t)&&jl(t[1],t),t=t[3];null===t&&(t=e),ar(t)&&jl(t[1],t),n=t&&t[4]}t=n}}(t)}}function jl(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function iu(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const a=t[n[r]];if(!(a instanceof Qi)){const c=n[r+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const I=a[c[m]],M=c[m+1];try{M.call(I)}finally{}}else try{c.call(a)}finally{}}}}(e,t),function sl(e,t){const n=e.cleanup,r=t[7];let a=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const m=n[c+1],I="function"==typeof m?m(t):lr(t[m]),M=r[a=n[c+2]],k=n[c+3];"boolean"==typeof k?I.removeEventListener(n[c],M,k):k>=0?r[a=k]():r[a=-k].unsubscribe(),c+=2}else{const m=r[a=n[c+1]];n[c].call(m)}if(null!==r){for(let c=a+1;c<r.length;c++)(0,r[c])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&Qr(t[3])){n!==t[3]&&ru(n,t);const r=t[19];null!==r&&r.detachView(e)}!function p(e){Ll.delete(e[20])}(t)}}function to(e,t,n){return function Ba(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const a=e.data[r.directiveStart].encapsulation;if(a===Mt.None||a===Mt.Emulated)return null}return Ur(r,n)}(e,t.parent,n)}function Ka(e,t,n,r,a){e.insertBefore(t,n,r,a)}function Hu(e,t,n){e.appendChild(t,n)}function Ha(e,t,n,r,a){null!==r?Ka(e,t,n,r,a):Hu(e,t,n)}function ol(e,t){return e.parentNode(t)}let Wu,bu=function Du(e,t,n){return 40&e.type?Ur(e,n):null};function yl(e,t,n,r){const a=to(e,r,t),c=t[11],I=function cc(e,t,n){return bu(e,t,n)}(r.parent||t[6],r,t);if(null!=a)if(Array.isArray(n))for(let M=0;M<n.length;M++)Ha(c,a,n[M],I,!1);else Ha(c,a,n,I,!1)}function no(e,t){if(null!==t){const n=t.type;if(3&n)return Ur(t,e);if(4&n)return Tu(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return no(e,r);{const a=e[t.index];return Qr(a)?Tu(-1,a):lr(a)}}if(32&n)return Js(t,e)()||lr(e[t.index]);{const r=su(e,t);return null!==r?Array.isArray(r)?r[0]:no(Io(e[16]),r):no(e,t.next)}}return null}function su(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Tu(e,t){const n=10+e+1;if(n<t.length){const r=t[n],a=r[1].firstChild;if(null!==a)return no(r,a)}return t[7]}function Au(e,t,n,r,a,c,m){for(;null!=n;){const I=r[n.index],M=n.type;if(m&&0===t&&(I&&pt(lr(I),r),n.flags|=4),64!=(64&n.flags))if(8&M)Au(e,t,n.child,r,a,c,!1),oa(t,e,a,I,c);else if(32&M){const k=Js(n,r);let z;for(;z=k();)oa(t,e,a,z,c);oa(t,e,a,I,c)}else 16&M?Do(e,t,r,n,a,c):oa(t,e,a,I,c);n=m?n.projectionNext:n.next}}function vl(e,t,n,r,a,c){Au(n,r,e.firstChild,t,a,c,!1)}function Do(e,t,n,r,a,c){const m=n[16],M=m[6].projection[r.projection];if(Array.isArray(M))for(let k=0;k<M.length;k++)oa(t,e,a,M[k],c);else Au(e,t,M,m[3],a,c,!0)}function ja(e,t,n){e.setAttribute(t,"style",n)}function El(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function g(e){Wu=e}class Ge{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Hi(e){return e instanceof Ge?e.changingThisBreaksApplicationSecurity:e}const Ku=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var os=(()=>((os=os||{})[os.NONE=0]="NONE",os[os.HTML=1]="HTML",os[os.STYLE=2]="STYLE",os[os.SCRIPT=3]="SCRIPT",os[os.URL=4]="URL",os[os.RESOURCE_URL=5]="RESOURCE_URL",os))();function gc(e){const t=function au(){const e=tt();return e&&e[12]}();return t?t.sanitize(os.URL,e)||"":function al(e,t){const n=function Gu(e){return e instanceof Ge&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}(e,"URL")?Hi(e):function qu(e){return(e=String(e)).match(Ku)?e:"unsafe:"+e}(Ne(e))}const td=new Wn("ENVIRONMENT_INITIALIZER"),Rd=new Wn("INJECTOR",-1),nd=new Wn("INJECTOR_DEF_TYPES");class Pd{get(t,n=_t){if(n===_t){const r=new Error(`NullInjectorError: No provider for ${Ce(t)}!`);throw r.name="NullInjectorError",r}return n}}function bh(...e){return{\u0275providers:rd(0,e)}}function rd(e,...t){const n=[],r=new Set;let a;return rs(t,c=>{const m=c;_c(m,n,[],r)&&(a||(a=[]),a.push(m))}),void 0!==a&&id(a,n),n}function id(e,t){for(let n=0;n<e.length;n++){const{providers:a}=e[n];rs(a,c=>{t.push(c)})}}function _c(e,t,n,r){if(!(e=he(e)))return!1;let a=null,c=xn(e);const m=!c&&ye(e);if(c||m){if(m&&!m.standalone)return!1;a=e}else{const M=e.ngModule;if(c=xn(M),!c)return!1;a=M}const I=r.has(a);if(m){if(I)return!1;if(r.add(a),m.dependencies){const M="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const k of M)_c(k,t,n,r)}}else{if(!c)return!1;{if(null!=c.imports&&!I){let k;r.add(a);try{rs(c.imports,z=>{_c(z,t,n,r)&&(k||(k=[]),k.push(z))})}finally{}void 0!==k&&id(k,t)}if(!I){const k=bi(a)||(()=>new a);t.push({provide:a,useFactory:k,deps:Vt},{provide:nd,useValue:a,multi:!0},{provide:td,useValue:()=>si(a),multi:!0})}const M=c.providers;null==M||I||rs(M,z=>{t.push(z)})}}return a!==e&&void 0!==e.providers}const Od=Ie({provide:String,useValue:Ie});function yc(e){return null!==e&&"object"==typeof e&&Od in e}function Pu(e){return"function"==typeof e}const ad=new Wn("Set Injector scope."),Qu={},xd={};let vc;function Ju(){return void 0===vc&&(vc=new Pd),vc}class qa{}class Nd extends qa{constructor(t,n,r,a){super(),this.parent=n,this.source=r,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cc(t,m=>this.processProvider(m)),this.records.set(Rd,lu(void 0,this)),a.has("environment")&&this.records.set(qa,lu(void 0,this));const c=this.records.get(ad);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(nd.multi,Vt,ct.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Ls(this),r=In(void 0);try{return t()}finally{Ls(n),In(r)}}get(t,n=_t,r=ct.Default){this.assertNotDestroyed();const a=Ls(this),c=In(void 0);try{if(!(r&ct.SkipSelf)){let I=this.records.get(t);if(void 0===I){const M=function Ph(e){return"function"==typeof e||"object"==typeof e&&e instanceof Wn}(t)&&Pn(t);I=M&&this.injectableDefInScope(M)?lu(Ec(t),Qu):null,this.records.set(t,I)}if(null!=I)return this.hydrate(t,I)}return(r&ct.Self?Ju():this.parent).get(t,n=r&ct.Optional&&n===_t?null:n)}catch(m){if("NullInjectorError"===m.name){if((m[ii]=m[ii]||[]).unshift(Ce(t)),a)throw m;return function we(e,t,n,r){const a=e[ii];throw t[Ea]&&a.unshift(t[Ea]),e.message=function xe(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Ce(t);if(Array.isArray(t))a=t.map(Ce).join(" -> ");else if("object"==typeof t){let c=[];for(let m in t)if(t.hasOwnProperty(m)){let I=t[m];c.push(m+":"+("string"==typeof I?JSON.stringify(I):Ce(I)))}a=`{${c.join(", ")}}`}return`${n}${r?"("+r+")":""}[${a}]: ${e.replace(Fs,"\n  ")}`}("\n"+e.message,a,n,r),e.ngTokenPath=a,e[ii]=null,e}(m,t,"R3InjectorError",this.source)}throw m}finally{In(c),Ls(a)}}resolveInjectorInitializers(){const t=Ls(this),n=In(void 0);try{const r=this.get(td.multi,Vt,ct.Self);for(const a of r)a()}finally{Ls(t),In(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ce(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ve(205,!1)}processProvider(t){let n=Pu(t=he(t))?t:he(t&&t.provide);const r=function Mh(e){return yc(e)?lu(void 0,e.useValue):lu(ld(e),Qu)}(t);if(Pu(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=lu(void 0,Qu,!0),a.factory=()=>N(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Qu&&(n.value=xd,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Rh(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=he(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Ec(e){const t=Pn(e),n=null!==t?t.factory:bi(e);if(null!==n)return n;if(e instanceof Wn)throw new Ve(204,!1);if(e instanceof Function)return function Ah(e){const t=e.length;if(t>0)throw function qs(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Ve(204,!1);const n=function _r(e){const t=e&&(e[Gn]||e[Sr]);if(t){const n=function $n(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ve(204,!1)}function ld(e,t,n){let r;if(Pu(e)){const a=he(e);return bi(a)||Ec(a)}if(yc(e))r=()=>he(e.useValue);else if(function od(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...N(e.deps||[]));else if(function sd(e){return!(!e||!e.useExisting)}(e))r=()=>si(he(e.useExisting));else{const a=he(e&&(e.useClass||e.provide));if(!function kd(e){return!!e.deps}(e))return bi(a)||Ec(a);r=()=>new a(...N(e.deps))}return r}function lu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Oh(e){return!!e.\u0275providers}function Cc(e,t){for(const n of e)Array.isArray(n)?Cc(n,t):Oh(n)?Cc(n.\u0275providers,t):t(n)}class Fd{}class Nh{resolveComponentFactory(t){throw function Ld(e){const t=Error(`No component factory found for ${Ce(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let Ou=(()=>{class e{}return e.NULL=new Nh,e})();function kh(){return o(cr(),tt())}function o(e,t){return new i(Ur(e,t))}let i=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=kh,e})();function s(e){return e instanceof i?e.nativeElement:e}class y{}let D=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function x(){const e=tt(),n=Fn(cr().index,e);return(ar(n)?n:e)[11]}(),e})(),W=(()=>{class e{}return e.\u0275prov=xt({token:e,providedIn:"root",factory:()=>null}),e})();class q{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const le=new q("14.2.12"),Le={};function Pt(e){return e.ngOriginalError}class Wt{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Pt(t);for(;n&&Pt(n);)n=Pt(n);return n||null}}function uu(e){return e instanceof Function?e():e}function Ip(e,t,n){let r=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===r||e.charCodeAt(a+c)<=32)return a}n=a+1}}const Dp="ng-template";function Ty(e,t,n){let r=0;for(;r<e.length;){let a=e[r++];if(n&&"class"===a){if(a=e[r],-1!==Ip(a.toLowerCase(),t,0))return!0}else if(1===a){for(;r<e.length&&"string"==typeof(a=e[r++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function bp(e){return 4===e.type&&e.value!==Dp}function Sy(e,t,n){return t===(4!==e.type||n?e.value:Dp)}function Ay(e,t,n){let r=4;const a=e.attrs||[],c=function Py(e){for(let t=0;t<e.length;t++)if(_s(e[t]))return t;return e.length}(a);let m=!1;for(let I=0;I<t.length;I++){const M=t[I];if("number"!=typeof M){if(!m)if(4&r){if(r=2|1&r,""!==M&&!Sy(e,M,n)||""===M&&1===t.length){if(bl(r))return!1;m=!0}}else{const k=8&r?M:t[++I];if(8&r&&null!==e.attrs){if(!Ty(e.attrs,k,n)){if(bl(r))return!1;m=!0}continue}const Q=My(8&r?"class":M,a,bp(e),n);if(-1===Q){if(bl(r))return!1;m=!0;continue}if(""!==k){let ge;ge=Q>c?"":a[Q+1].toLowerCase();const Pe=8&r?ge:null;if(Pe&&-1!==Ip(Pe,k,0)||2&r&&k!==ge){if(bl(r))return!1;m=!0}}}}else{if(!m&&!bl(r)&&!bl(M))return!1;if(m&&bl(M))continue;m=!1,r=M|1&r}}return bl(r)||m}function bl(e){return 0==(1&e)}function My(e,t,n,r){if(null===t)return-1;let a=0;if(r||!n){let c=!1;for(;a<t.length;){const m=t[a];if(m===e)return a;if(3===m||6===m)c=!0;else{if(1===m||2===m){let I=t[++a];for(;"string"==typeof I;)I=t[++a];continue}if(4===m)break;if(0===m){a+=4;continue}}a+=c?1:2}return-1}return function Oy(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Tp(e,t,n=!1){for(let r=0;r<t.length;r++)if(Ay(e,t[r],n))return!0;return!1}function Sp(e,t){return e?":not("+t.trim()+")":t}function Ny(e){let t=e[0],n=1,r=2,a="",c=!1;for(;n<e.length;){let m=e[n];if("string"==typeof m)if(2&r){const I=e[++n];a+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&r?a+="."+m:4&r&&(a+=" "+m);else""!==a&&!bl(m)&&(t+=Sp(c,a),a=""),r=m,c=c||!bl(r);n++}return""!==a&&(t+=Sp(c,a)),t}const jn={};function Ap(e){Mp(En(),tt(),re()+e,!1)}function Mp(e,t,n,r){if(!r)if(3==(3&t[2])){const c=e.preOrderCheckHooks;null!==c&&sr(t,c,n)}else{const c=e.preOrderHooks;null!==c&&ei(t,c,0,n)}Oe(n)}function xp(e,t=null,n=null,r){const a=Np(e,t,n,r);return a.resolveInjectorInitializers(),a}function Np(e,t=null,n=null,r,a=new Set){const c=[n||Vt,bh(e)];return r=r||("object"==typeof e?void 0:Ce(e)),new Nd(c,t||Ju(),r||null,a)}let Xu=(()=>{class e{static create(n,r){if(Array.isArray(n))return xp({name:""},r,n,"");{const a=n.name??"";return xp({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=_t,e.NULL=new Pd,e.\u0275prov=xt({token:e,providedIn:"any",factory:()=>si(Rd)}),e.__NG_ELEMENT_ID__=-1,e})();function Ic(e,t=ct.Default){const n=tt();return null===n?si(e,t):Ps(cr(),n,he(e),t)}function Hp(){throw new Error("invalid")}function Bd(e,t){return e<<17|t<<2}function Tl(e){return e>>17&32767}function Bh(e){return 2|e}function cu(e){return(131068&e)>>2}function Hh(e,t){return-131069&e|t<<2}function jh(e){return 1|e}function Jp(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const a=n[r],c=n[r+1];if(-1!==c){const m=e.data[c];fo(a),m.contentQueries(2,t[c],c)}}}function $d(e,t,n,r,a,c,m,I,M,k,z){const Q=t.blueprint.slice();return Q[0]=a,Q[2]=76|r,(null!==z||e&&1024&e[2])&&(Q[2]|=1024),zo(Q),Q[3]=Q[15]=e,Q[8]=n,Q[10]=m||e&&e[10],Q[11]=I||e&&e[11],Q[12]=M||e&&e[12]||null,Q[9]=k||e&&e[9]||null,Q[6]=c,Q[20]=function Uu(){return eu++}(),Q[21]=z,Q[16]=2==t.type?e[16]:Q,Q}function Dc(e,t,n,r,a){let c=e.data[t];if(null===c)c=function Yh(e,t,n,r,a){const c=nn(),m=Mo(),M=e.data[t]=function mv(e,t,n,r,a,c){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,n,t,r,a);return null===e.firstChild&&(e.firstChild=M),null!==c&&(m?null==c.child&&null!==M.parent&&(c.child=M):null===c.next&&(c.next=M)),M}(e,t,n,r,a),function Ko(){return Gt.lFrame.inI18n}()&&(c.flags|=64);else if(64&c.type){c.type=n,c.value=r,c.attrs=a;const m=function pi(){const e=Gt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===m?-1:m.injectorIndex}return Pr(c,!0),c}function bc(e,t,n,r){if(0===n)return-1;const a=t.length;for(let c=0;c<n;c++)t.push(r),e.blueprint.push(r),e.data.push(null);return a}function Qh(e,t,n){zs(t);try{const r=e.viewQuery;null!==r&&af(1,r,n);const a=e.template;null!==a&&Xp(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Jp(e,t),e.staticViewQueries&&af(2,e.viewQuery,n);const c=e.components;null!==c&&function fv(e,t){for(let n=0;n<t.length;n++)Ov(e,t[n])}(t,c)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,F()}}function Wd(e,t,n,r){const a=t[2];if(128!=(128&a)){zs(t);try{zo(t),function $s(e){return Gt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Xp(e,t,n,2,r);const m=3==(3&a);if(m){const k=e.preOrderCheckHooks;null!==k&&sr(t,k,null)}else{const k=e.preOrderHooks;null!==k&&ei(t,k,0,null),ti(t,0)}if(function Rv(e){for(let t=tu(e);null!==t;t=Bl(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const a=n[r],c=a[3];0==(512&a[2])&&wr(c,1),a[2]|=512}}}(t),function Mv(e){for(let t=tu(e);null!==t;t=Bl(t))for(let n=10;n<t.length;n++){const r=t[n],a=r[1];Oi(r)&&Wd(a,r,a.template,r[8])}}(t),null!==e.contentQueries&&Jp(e,t),m){const k=e.contentCheckHooks;null!==k&&sr(t,k)}else{const k=e.contentHooks;null!==k&&ei(t,k,1),ti(t,1)}!function dv(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const a=n[r];if(a<0)Oe(~a);else{const c=a,m=n[++r],I=n[++r];ho(m,c),I(2,t[c])}}}finally{Oe(-1)}}(e,t);const I=e.components;null!==I&&function hv(e,t){for(let n=0;n<t.length;n++)Pv(e,t[n])}(t,I);const M=e.viewQuery;if(null!==M&&af(2,M,r),m){const k=e.viewCheckHooks;null!==k&&sr(t,k)}else{const k=e.viewHooks;null!==k&&ei(t,k,2),ti(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,wr(t[3],-1))}finally{F()}}}function Xp(e,t,n,r,a){const c=re(),m=2&r;try{Oe(-1),m&&t.length>22&&Mp(e,t,22,!1),n(r,a)}finally{Oe(c)}}function Jh(e,t,n){!an()||(function Cv(e,t,n,r){const a=n.directiveStart,c=n.directiveEnd;e.firstCreatePass||xo(n,t),pt(r,t);const m=n.initialInputs;for(let I=a;I<c;I++){const M=e.data[I],k=Bn(M);k&&Tv(t,n,M);const z=ki(t,e,I,n);pt(z,t),null!==m&&Sv(0,I-a,z,M,0,m),k&&(Fn(n.index,t)[8]=z)}}(e,t,n,Ur(n,t)),128==(128&n.flags)&&function wv(e,t,n){const r=n.directiveStart,a=n.directiveEnd,c=n.index,m=function gs(){return Gt.lFrame.currentDirectiveIndex}();try{Oe(c);for(let I=r;I<a;I++){const M=e.data[I],k=t[I];Yi(I),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&ag(M,k)}}finally{Oe(-1),Yi(m)}}(e,t,n))}function Xh(e,t,n=Ur){const r=t.localNames;if(null!==r){let a=t.index+1;for(let c=0;c<r.length;c+=2){const m=r[c+1],I=-1===m?n(t,e):e[m];e[a++]=I}}}function tg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ef(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function ef(e,t,n,r,a,c,m,I,M,k){const z=22+r,Q=z+a,ge=function pv(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:jn);return n}(z,Q),Pe="function"==typeof k?k():k;return ge[1]={type:e,blueprint:ge,template:n,queries:null,viewQuery:I,declTNode:t,data:ge.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:M,consts:Pe,incompleteFirstPass:!1}}function ng(e,t,n,r){const a=hg(t);null===n?a.push(r):(a.push(n),e.firstCreatePass&&fg(e).push(r,a.length-1))}function rg(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const a=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,a):n[r]=[t,a]}return n}function ig(e,t){const r=t.directiveEnd,a=e.data,c=t.attrs,m=[];let I=null,M=null;for(let k=t.directiveStart;k<r;k++){const z=a[k],Q=z.inputs,ge=null===c||bp(t)?null:Av(Q,c);m.push(ge),I=rg(Q,k,I),M=rg(z.outputs,k,M)}null!==I&&(I.hasOwnProperty("class")&&(t.flags|=16),I.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=m,t.inputs=I,t.outputs=M}function sg(e,t){const n=Fn(t,e);16&n[2]||(n[2]|=32)}function tf(e,t,n,r){let a=!1;if(an()){const c=function Iv(e,t,n){const r=e.directiveRegistry;let a=null;if(r)for(let c=0;c<r.length;c++){const m=r[c];Tp(n,m.selectors,!1)&&(a||(a=[]),Jo(xo(n,t),e,m.type),Bn(m)?(lg(e,n),a.unshift(m)):a.push(m))}return a}(e,t,n),m=null===r?null:{"":-1};if(null!==c){a=!0,ug(n,e.data.length,c.length);for(let z=0;z<c.length;z++){const Q=c[z];Q.providersResolver&&Q.providersResolver(Q)}let I=!1,M=!1,k=bc(e,t,c.length,null);for(let z=0;z<c.length;z++){const Q=c[z];n.mergedAttrs=fn(n.mergedAttrs,Q.hostAttrs),cg(e,n,t,k,Q),bv(k,Q,m),null!==Q.contentQueries&&(n.flags|=8),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(n.flags|=128);const ge=Q.type.prototype;!I&&(ge.ngOnChanges||ge.ngOnInit||ge.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),I=!0),!M&&(ge.ngOnChanges||ge.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),M=!0),k++}ig(e,n)}m&&function Dv(e,t,n){if(t){const r=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=n[t[a+1]];if(null==c)throw new Ve(-301,!1);r.push(t[a],c)}}}(n,r,m)}return n.mergedAttrs=fn(n.mergedAttrs,n.attrs),a}function og(e,t,n,r,a,c){const m=c.hostBindings;if(m){let I=e.hostBindingOpCodes;null===I&&(I=e.hostBindingOpCodes=[]);const M=~t.index;(function Ev(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(I)!=M&&I.push(M),I.push(r,a,m)}}function ag(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function lg(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function bv(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Bn(t)&&(n[""]=e)}}function ug(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function cg(e,t,n,r,a){e.data[r]=a;const c=a.factory||(a.factory=bi(a.type)),m=new Qi(c,Bn(a),Ic);e.blueprint[r]=m,n[r]=m,og(e,t,0,r,bc(e,n,a.hostVars,jn),a)}function Tv(e,t,n){const r=Ur(t,e),a=tg(n),c=e[10],m=Gd(e,$d(e,a,null,n.onPush?32:16,r,t,c,c.createRenderer(r,n),null,null,null));e[t.index]=m}function Wl(e,t,n,r,a,c){const m=Ur(e,t);!function nf(e,t,n,r,a,c,m){if(null==c)e.removeAttribute(t,a,n);else{const I=null==m?Ne(c):m(c,r||"",a);e.setAttribute(t,a,I,n)}}(t[11],m,c,e.value,n,r,a)}function Sv(e,t,n,r,a,c){const m=c[t];if(null!==m){const I=r.setInput;for(let M=0;M<m.length;){const k=m[M++],z=m[M++],Q=m[M++];null!==I?r.setInput(n,Q,k,z):n[z]=Q}}}function Av(e,t){let n=null,r=0;for(;r<t.length;){const a=t[r];if(0!==a)if(5!==a){if("number"==typeof a)break;e.hasOwnProperty(a)&&(null===n&&(n=[]),n.push(a,e[a],t[r+1])),r+=2}else r+=2;else r+=4}return n}function dg(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Pv(e,t){const n=Fn(t,e);if(Oi(n)){const r=n[1];48&n[2]?Wd(r,n,r.template,n[8]):n[5]>0&&rf(n)}}function rf(e){for(let r=tu(e);null!==r;r=Bl(r))for(let a=10;a<r.length;a++){const c=r[a];if(Oi(c))if(512&c[2]){const m=c[1];Wd(m,c,m.template,c[8])}else c[5]>0&&rf(c)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const a=Fn(n[r],e);Oi(a)&&a[5]>0&&rf(a)}}function Ov(e,t){const n=Fn(t,e),r=n[1];(function xv(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Qh(r,n,n[8])}function Gd(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function sf(e){for(;e;){e[2]|=32;const t=Io(e);if(ci(e)&&!t)return e;e=t}return null}function zd(e,t,n,r=!0){const a=t[10];a.begin&&a.begin();try{Wd(e,t,e.template,n)}catch(m){throw r&&gg(t,m),m}finally{a.end&&a.end()}}function af(e,t,n){fo(0),t(e,n)}function hg(e){return e[7]||(e[7]=[])}function fg(e){return e.cleanup||(e.cleanup=[])}function gg(e,t){const n=e[9],r=n?n.get(Wt,null):null;r&&r.handleError(t)}function lf(e,t,n,r,a){for(let c=0;c<n.length;){const m=n[c++],I=n[c++],M=t[m],k=e.data[m];null!==k.setInput?k.setInput(M,a,r,I):M[I]=a}}function Zd(e,t,n){let r=n?e.styles:null,a=n?e.classes:null,c=0;if(null!==t)for(let m=0;m<t.length;m++){const I=t[m];"number"==typeof I?c=I:1==c?a=Te(a,I):2==c&&(r=Te(r,I+": "+t[++m]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=a:e.classesWithoutHost=a}function Kd(e,t,n,r,a=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&r.push(lr(c)),Qr(c))for(let I=10;I<c.length;I++){const M=c[I],k=M[1].firstChild;null!==k&&Kd(M[1],M,k,r)}const m=n.type;if(8&m)Kd(e,t,n.child,r);else if(32&m){const I=Js(n,t);let M;for(;M=I();)r.push(M)}else if(16&m){const I=su(t,n);if(Array.isArray(I))r.push(...I);else{const M=Io(t[16]);Kd(M[1],M,I,r,!0)}}n=a?n.projectionNext:n.next}return r}class ud{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Kd(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Qr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(wu(t,r),Eo(n,r))}this._attachedToViewContainer=!1}eo(this._lView[1],this._lView)}onDestroy(t){ng(this._lView[1],this._lView,null,t)}markForCheck(){sf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){zd(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lc(e,t){vl(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ve(902,!1);this._appRef=t}}class Nv extends ud{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;zd(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class uf extends Ou{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ye(t);return new cd(n,this.ngModule)}}function mg(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Fv{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){const a=this.injector.get(t,Le,r);return a!==Le||n===Le?a:this.parentInjector.get(t,n,r)}}class cd extends Fd{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function ky(e){return e.map(Ny).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return mg(this.componentDef.inputs)}get outputs(){return mg(this.componentDef.outputs)}create(t,n,r,a){let c=(a=a||this.ngModule)instanceof qa?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const m=c?new Fv(t,c):t,I=m.get(y,null);if(null===I)throw new Ve(407,!1);const M=m.get(W,null),k=I.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",Q=r?function gv(e,t,n){return e.selectRootElement(t,n===Mt.ShadowDom)}(k,r,this.componentDef.encapsulation):Cu(k,z,function kv(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(z)),ge=this.componentDef.onPush?288:272,Pe=ef(0,null,null,1,0,null,null,null,null,null),nt=$d(null,Pe,null,ge,null,null,I,k,M,m,null);let yt,At;zs(nt);try{const qt=function Vv(e,t,n,r,a,c){const m=n[1];n[22]=e;const M=Dc(m,22,2,"#host",null),k=M.mergedAttrs=t.hostAttrs;null!==k&&(Zd(M,k,!0),null!==e&&(ms(a,e,k),null!==M.classes&&El(a,e,M.classes),null!==M.styles&&ja(a,e,M.styles)));const z=r.createRenderer(e,t),Q=$d(n,tg(t),null,t.onPush?32:16,n[22],M,r,z,c||null,null,null);return m.firstCreatePass&&(Jo(xo(M,n),m,t.type),lg(m,M),ug(M,n.length,1)),Gd(n,Q),n[22]=Q}(Q,this.componentDef,nt,I,k);if(Q)if(r)ms(k,Q,["ng-version",le.full]);else{const{attrs:pn,classes:lt}=function Fy(e){const t=[],n=[];let r=1,a=2;for(;r<e.length;){let c=e[r];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++r]):8===a&&n.push(c);else{if(!bl(a))break;a=c}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);pn&&ms(k,Q,pn),lt&&lt.length>0&&El(k,Q,lt.join(" "))}if(At=hs(Pe,22),void 0!==n){const pn=At.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const Cn=n[lt];pn.push(null!=Cn?Array.from(Cn):null)}}yt=function Bv(e,t,n,r){const a=n[1],c=function vv(e,t,n){const r=cr();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),cg(e,r,t,bc(e,t,1,null),n),ig(e,r));const a=ki(t,e,r.directiveStart,r);pt(a,t);const c=Ur(r,t);return c&&pt(c,t),a}(a,n,t);if(e[8]=n[8]=c,null!==r)for(const I of r)I(c,t);if(t.contentQueries){const I=cr();t.contentQueries(1,c,I.directiveStart)}const m=cr();return!a.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Oe(m.index),og(n[1],m,0,m.directiveStart,m.directiveEnd,t),ag(t,c)),c}(qt,this.componentDef,nt,[Hv]),Qh(Pe,nt,null)}finally{F()}return new Uv(this.componentType,yt,o(At,nt),nt,At)}}class Uv extends class xh{}{constructor(t,n,r,a,c){super(),this.location=r,this._rootLView=a,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new Nv(a),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let a;if(null!==r&&(a=r[t])){const c=this._rootLView;lf(c[1],c,a,t,n),sg(c,this._tNode.index)}}get injector(){return new Ns(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Hv(){const e=cr();Sn(tt()[1],e)}function cf(e){let t=function _g(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let a;if(Bn(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ve(903,!1);a=t.\u0275dir}if(a){if(n){r.push(a);const m=e;m.inputs=df(e.inputs),m.declaredInputs=df(e.declaredInputs),m.outputs=df(e.outputs);const I=a.hostBindings;I&&Gv(e,I);const M=a.viewQuery,k=a.contentQueries;if(M&&$v(e,M),k&&Wv(e,k),be(e.inputs,a.inputs),be(e.declaredInputs,a.declaredInputs),be(e.outputs,a.outputs),Bn(a)&&a.data.animation){const z=e.data;z.animation=(z.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let m=0;m<c.length;m++){const I=c[m];I&&I.ngInherit&&I(e),I===cf&&(n=!1)}}t=Object.getPrototypeOf(t)}!function jv(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const a=e[r];a.hostVars=t+=a.hostVars,a.hostAttrs=fn(a.hostAttrs,n=fn(n,a.hostAttrs))}}(r)}function df(e){return e===Ir?{}:e===Vt?[]:e}function $v(e,t){const n=e.viewQuery;e.viewQuery=n?(r,a)=>{t(r,a),n(r,a)}:t}function Wv(e,t){const n=e.contentQueries;e.contentQueries=n?(r,a,c)=>{t(r,a,c),n(r,a,c)}:t}function Gv(e,t){const n=e.hostBindings;e.hostBindings=n?(r,a)=>{t(r,a),n(r,a)}:t}let qd=null;function ec(){if(!qd){const e=kn.Symbol;if(e&&e.iterator)qd=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(qd=r)}}}return qd}function dd(e){return!!hf(e)&&(Array.isArray(e)||!(e instanceof Map)&&ec()in e)}function hf(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function la(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ff(e,t,n,r){const a=tt();return la(a,Ws(),t)&&(En(),Wl(Be(),a,e,t,n,r)),ff}function Sg(e,t,n,r,a,c,m,I){const M=tt(),k=En(),z=e+22,Q=k.firstCreatePass?function Xv(e,t,n,r,a,c,m,I,M){const k=t.consts,z=Dc(t,e,4,m||null,Zi(k,I));tf(t,n,z,Zi(k,M)),Sn(t,z);const Q=z.tViews=ef(2,z,r,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,k);return null!==t.queries&&(t.queries.template(t,z),Q.queries=t.queries.embeddedTView(z)),z}(z,k,M,t,n,r,a,c,m):k.data[z];Pr(Q,!1);const ge=M[11].createComment("");yl(k,M,ge,Q),pt(ge,M),Gd(M,M[z]=dg(ge,M,ge,Q)),bo(Q)&&Jh(k,M,Q),null!=m&&Xh(M,Q,I)}function pf(e,t,n){const r=tt();return la(r,Ws(),t)&&function Ya(e,t,n,r,a,c,m,I){const M=Ur(t,n);let z,k=t.inputs;!I&&null!=k&&(z=k[r])?(lf(e,n,z,r,a),Ds(t)&&sg(n,t.index)):3&t.type&&(r=function _v(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),a=null!=m?m(a,t.value||"",r):a,c.setProperty(M,r,a))}(En(),Be(),r,e,t,r[11],n,!1),pf}function gf(e,t,n,r,a){const m=a?"class":"style";lf(e,n,t.inputs[m],m,r)}function Qd(e,t,n,r){const a=tt(),c=En(),m=22+e,I=a[11],M=a[m]=Cu(I,t,function en(){return Gt.lFrame.currentNamespace}()),k=c.firstCreatePass?function nE(e,t,n,r,a,c,m){const I=t.consts,k=Dc(t,e,2,a,Zi(I,c));return tf(t,n,k,Zi(I,m)),null!==k.attrs&&Zd(k,k.attrs,!1),null!==k.mergedAttrs&&Zd(k,k.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,k),k}(m,c,a,0,t,n,r):c.data[m];Pr(k,!0);const z=k.mergedAttrs;null!==z&&ms(I,M,z);const Q=k.classes;null!==Q&&El(I,M,Q);const ge=k.styles;return null!==ge&&ja(I,M,ge),64!=(64&k.flags)&&yl(c,a,M,k),0===function xi(){return Gt.lFrame.elementDepthCount}()&&pt(M,a),function Ao(){Gt.lFrame.elementDepthCount++}(),bo(k)&&(Jh(c,a,k),function eg(e,t,n){if(us(t)){const a=t.directiveEnd;for(let c=t.directiveStart;c<a;c++){const m=e.data[c];m.contentQueries&&m.contentQueries(1,n[c],c)}}}(c,k,a)),null!==r&&Xh(a,k),Qd}function Jd(){let e=cr();Mo()?function rr(){Gt.lFrame.isParent=!1}():(e=e.parent,Pr(e,!1));const t=e;!function co(){Gt.lFrame.elementDepthCount--}();const n=En();return n.firstCreatePass&&(Sn(n,e),us(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function fa(e){return 0!=(16&e.flags)}(t)&&gf(n,t,tt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Qo(e){return 0!=(32&e.flags)}(t)&&gf(n,t,tt(),t.stylesWithoutHost,!1),Jd}function mf(e,t,n,r){return Qd(e,t,n,r),Jd(),mf}function Mg(){return tt()}function vf(e){return!!e&&"function"==typeof e.then}function Rg(e){return!!e&&"function"==typeof e.subscribe}const Pg=Rg;function Ef(e,t,n,r){const a=tt(),c=En(),m=cr();return function xg(e,t,n,r,a,c,m,I){const M=bo(r),z=e.firstCreatePass&&fg(e),Q=t[8],ge=hg(t);let Pe=!0;if(3&r.type||I){const At=Ur(r,t),qt=I?I(At):At,pn=ge.length,lt=I?Fr=>I(lr(Fr[r.index])):r.index;let Cn=null;if(!I&&M&&(Cn=function iE(e,t,n,r){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const m=a[c];if(m===n&&a[c+1]===r){const I=t[7],M=a[c+2];return I.length>M?I[M]:null}"string"==typeof m&&(c+=2)}return null}(e,t,a,r.index)),null!==Cn)(Cn.__ngLastListenerFn__||Cn).__ngNextListenerFn__=c,Cn.__ngLastListenerFn__=c,Pe=!1;else{c=kg(r,t,Q,c,!1);const Fr=n.listen(qt,a,c);ge.push(c,Fr),z&&z.push(a,lt,pn,pn+1)}}else c=kg(r,t,Q,c,!1);const nt=r.outputs;let yt;if(Pe&&null!==nt&&(yt=nt[a])){const At=yt.length;if(At)for(let qt=0;qt<At;qt+=2){const Ui=t[yt[qt]][yt[qt+1]].subscribe(c),ic=ge.length;ge.push(c,Ui),z&&z.push(a,r.index,ic,-(ic+1))}}}(c,a,a[11],m,e,t,0,r),Ef}function Ng(e,t,n,r){try{return!1!==n(r)}catch(a){return gg(e,a),!1}}function kg(e,t,n,r,a){return function c(m){if(m===Function)return r;sf(2&e.flags?Fn(e.index,t):t);let M=Ng(t,0,r,m),k=c.__ngNextListenerFn__;for(;k;)M=Ng(t,0,k,m)&&M,k=k.__ngNextListenerFn__;return a&&!1===M&&(m.preventDefault(),m.returnValue=!1),M}}function Fg(e=1){return function P(e){return(Gt.lFrame.contextLView=function G(e,t){for(;e>0;)t=t[15],e--;return t}(e,Gt.lFrame.contextLView))[8]}(e)}function zg(e,t,n,r,a){const c=e[n+1],m=null===t;let I=r?Tl(c):cu(c),M=!1;for(;0!==I&&(!1===M||m);){const z=e[I+1];cE(e[I],t)&&(M=!0,e[I+1]=r?jh(z):Bh(z)),I=r?Tl(z):cu(z)}M&&(e[n+1]=r?Bh(c):jh(c))}function cE(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Vi(e,t)>=0}function wf(e,t){return function Sl(e,t,n,r){const a=tt(),c=En(),m=function qi(e){const t=Gt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);c.firstUpdatePass&&function tm(e,t,n,r){const a=e.data;if(null===a[n+1]){const c=a[re()],m=function em(e,t){return t>=e.expandoStartIndex}(e,n);(function sm(e,t){return 0!=(e.flags&(t?16:32))})(c,r)&&null===t&&!m&&(t=!1),t=function vE(e,t,n,r){const a=function gi(e){const t=Gt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=r?t.residualClasses:t.residualStyles;if(null===a)0===(r?t.classBindings:t.styleBindings)&&(n=fd(n=If(null,e,t,n,r),t.attrs,r),c=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==a)if(n=If(a,e,t,n,r),null===c){let M=function EE(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==cu(r))return e[Tl(r)]}(e,t,r);void 0!==M&&Array.isArray(M)&&(M=If(null,e,t,M[1],r),M=fd(M,t.attrs,r),function CE(e,t,n,r){e[Tl(n?t.classBindings:t.styleBindings)]=r}(e,t,r,M))}else c=function wE(e,t,n){let r;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)r=fd(r,e[c].hostAttrs,n);return fd(r,t.attrs,n)}(e,t,r)}return void 0!==c&&(r?t.residualClasses=c:t.residualStyles=c),n}(a,c,t,r),function lE(e,t,n,r,a,c){let m=c?t.classBindings:t.styleBindings,I=Tl(m),M=cu(m);e[r]=n;let z,k=!1;if(Array.isArray(n)){const Q=n;z=Q[1],(null===z||Vi(Q,z)>0)&&(k=!0)}else z=n;if(a)if(0!==M){const ge=Tl(e[I+1]);e[r+1]=Bd(ge,I),0!==ge&&(e[ge+1]=Hh(e[ge+1],r)),e[I+1]=function tv(e,t){return 131071&e|t<<17}(e[I+1],r)}else e[r+1]=Bd(I,0),0!==I&&(e[I+1]=Hh(e[I+1],r)),I=r;else e[r+1]=Bd(M,0),0===I?I=r:e[M+1]=Hh(e[M+1],r),M=r;k&&(e[r+1]=Bh(e[r+1])),zg(e,z,r,!0),zg(e,z,r,!1),function uE(e,t,n,r,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&Vi(c,t)>=0&&(n[r+1]=jh(n[r+1]))}(t,z,e,r,c),m=Bd(I,M),c?t.classBindings=m:t.styleBindings=m}(a,c,t,n,m,r)}}(c,e,m,r),t!==jn&&la(a,m,t)&&function rm(e,t,n,r,a,c,m,I){if(!(3&t.type))return;const M=e.data,k=M[I+1];Xd(function Wp(e){return 1==(1&e)}(k)?im(M,t,n,a,cu(k),m):void 0)||(Xd(c)||function $p(e){return 2==(2&e)}(k)&&(c=im(M,null,n,a,I,m)),function zc(e,t,n,r,a){if(t)a?e.addClass(n,r):e.removeClass(n,r);else{let c=-1===r.indexOf("-")?void 0:ia.DashCase;null==a?e.removeStyle(n,r,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=ia.Important),e.setStyle(n,r,a,c))}}(r,m,Cr(re(),n),a,c))}(c,c.data[re()],a,a[11],e,a[m+1]=function bE(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ce(Hi(e)))),e}(t,n),r,m)}(e,t,null,!0),wf}function If(e,t,n,r,a){let c=null;const m=n.directiveEnd;let I=n.directiveStylingLast;for(-1===I?I=n.directiveStart:I++;I<m&&(c=t[I],r=fd(r,c.hostAttrs,a),c!==e);)I++;return null!==e&&(n.directiveStylingLast=I),r}function fd(e,t,n){const r=n?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const m=t[c];"number"==typeof m?a=m:a===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Fi(e,m,!!n||t[++c]))}return void 0===e?null:e}function im(e,t,n,r,a,c){const m=null===t;let I;for(;a>0;){const M=e[a],k=Array.isArray(M),z=k?M[1]:M,Q=null===z;let ge=n[a+1];ge===jn&&(ge=Q?Vt:void 0);let Pe=Q?Bo(ge,r):z===r?ge:void 0;if(k&&!Xd(Pe)&&(Pe=Bo(M,r)),Xd(Pe)&&(I=Pe,m))return I;const nt=e[a+1];a=m?Tl(nt):cu(nt)}if(null!==t){let M=c?t.residualClasses:t.residualStyles;null!=M&&(I=Bo(M,r))}return I}function Xd(e){return void 0!==e}function om(e,t=""){const n=tt(),r=En(),a=e+22,c=r.firstCreatePass?Dc(r,a,1,t,null):r.data[a],m=n[a]=function nu(e,t){return e.createText(t)}(n[11],t);yl(r,n,m,c),Pr(c,!1)}function Df(e){return bf("",e,""),Df}function bf(e,t,n){const r=tt(),a=function Sc(e,t,n,r){return la(e,Ws(),n)?t+Ne(n)+r:jn}(r,e,t,n);return a!==jn&&function du(e,t,n){const r=Cr(t,e);!function Eu(e,t,n){e.setValue(t,n)}(e[11],r,n)}(r,re(),a),bf}const nc=void 0;var GE=["en",[["a","p"],["AM","PM"],nc],[["AM","PM"],nc,nc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nc,"{1} 'at' {0}",nc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function WE(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Fc={};function Tf(e){const t=function zE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Sm(t);if(n)return n;const r=t.split("-")[0];if(n=Sm(r),n)return n;if("en"===r)return GE;throw new Ve(701,!1)}function Tm(e){return Tf(e)[mn.PluralCase]}function Sm(e){return e in Fc||(Fc[e]=kn.ng&&kn.ng.common&&kn.ng.common.locales&&kn.ng.common.locales[e]),Fc[e]}var mn=(()=>((mn=mn||{})[mn.LocaleId=0]="LocaleId",mn[mn.DayPeriodsFormat=1]="DayPeriodsFormat",mn[mn.DayPeriodsStandalone=2]="DayPeriodsStandalone",mn[mn.DaysFormat=3]="DaysFormat",mn[mn.DaysStandalone=4]="DaysStandalone",mn[mn.MonthsFormat=5]="MonthsFormat",mn[mn.MonthsStandalone=6]="MonthsStandalone",mn[mn.Eras=7]="Eras",mn[mn.FirstDayOfWeek=8]="FirstDayOfWeek",mn[mn.WeekendRange=9]="WeekendRange",mn[mn.DateFormat=10]="DateFormat",mn[mn.TimeFormat=11]="TimeFormat",mn[mn.DateTimeFormat=12]="DateTimeFormat",mn[mn.NumberSymbols=13]="NumberSymbols",mn[mn.NumberFormats=14]="NumberFormats",mn[mn.CurrencyCode=15]="CurrencyCode",mn[mn.CurrencySymbol=16]="CurrencySymbol",mn[mn.CurrencyName=17]="CurrencyName",mn[mn.Currencies=18]="Currencies",mn[mn.Directionality=19]="Directionality",mn[mn.PluralCase=20]="PluralCase",mn[mn.ExtraData=21]="ExtraData",mn))();const Lc="en-US";let Am=Lc;function Mf(e,t,n,r,a){if(e=he(e),Array.isArray(e))for(let c=0;c<e.length;c++)Mf(e[c],t,n,r,a);else{const c=En(),m=tt();let I=Pu(e)?e:he(e.provide),M=ld(e);const k=cr(),z=1048575&k.providerIndexes,Q=k.directiveStart,ge=k.providerIndexes>>20;if(Pu(e)||!e.multi){const Pe=new Qi(M,a,Ic),nt=Pf(I,t,a?z:z+ge,Q);-1===nt?(Jo(xo(k,m),c,I),Rf(c,e,t.length),t.push(I),k.directiveStart++,k.directiveEnd++,a&&(k.providerIndexes+=1048576),n.push(Pe),m.push(Pe)):(n[nt]=Pe,m[nt]=Pe)}else{const Pe=Pf(I,t,z+ge,Q),nt=Pf(I,t,z,z+ge),yt=Pe>=0&&n[Pe],At=nt>=0&&n[nt];if(a&&!At||!a&&!yt){Jo(xo(k,m),c,I);const qt=function W0(e,t,n,r,a){const c=new Qi(e,n,Ic);return c.multi=[],c.index=t,c.componentProviders=0,Xm(c,a,r&&!n),c}(a?$0:j0,n.length,a,r,M);!a&&At&&(n[nt].providerFactory=qt),Rf(c,e,t.length,0),t.push(I),k.directiveStart++,k.directiveEnd++,a&&(k.providerIndexes+=1048576),n.push(qt),m.push(qt)}else Rf(c,e,Pe>-1?Pe:nt,Xm(n[a?nt:Pe],M,!a&&r));!a&&r&&At&&n[nt].componentProviders++}}}function Rf(e,t,n,r){const a=Pu(t),c=function Sh(e){return!!e.useClass}(t);if(a||c){const M=(c?he(t.useClass):t).prototype.ngOnDestroy;if(M){const k=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const z=k.indexOf(n);-1===z?k.push(n,[r,M]):k[z+1].push(r,M)}else k.push(n,M)}}}function Xm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Pf(e,t,n,r){for(let a=n;a<r;a++)if(t[a]===e)return a;return-1}function j0(e,t,n,r){return Of(this.multi,[])}function $0(e,t,n,r){const a=this.multi;let c;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=ki(n,n[1],this.providerFactory.index,r);c=I.slice(0,m),Of(a,c);for(let M=m;M<I.length;M++)c.push(I[M])}else c=[],Of(a,c);return c}function Of(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function e_(e,t=[]){return n=>{n.providersResolver=(r,a)=>function H0(e,t,n){const r=En();if(r.firstCreatePass){const a=Bn(e);Mf(n,r.data,r.blueprint,a,!0),Mf(t,r.data,r.blueprint,a,!1)}}(r,a?a(e):e,t)}}class Uc{}class t_{}function G0(e,t){return new n_(e,t??null)}class n_ extends Uc{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uf(this);const r=Tn(t);this._bootstrapComponents=uu(r.bootstrap),this._r3Injector=Np(t,n,[{provide:Uc,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver}],Ce(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class xf extends t_{constructor(t){super(),this.moduleType=t}create(t){return new n_(this.moduleType,t)}}class z0 extends Uc{constructor(t,n,r){super(),this.componentFactoryResolver=new uf(this),this.instance=null;const a=new Nd([...t,{provide:Uc,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver}],n||Ju(),r,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Nf(e,t,n=null){return new z0(e,t,n).injector}let Z0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=rd(0,n.type),a=r.length>0?Nf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,a)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=xt({token:e,providedIn:"environment",factory:()=>new e(si(qa))}),e})();function r_(e){e.getStandaloneInjector=t=>t.get(Z0).getOrCreateStandaloneInjector(e)}function Ff(e){return t=>{setTimeout(e,void 0,t)}}const Kl=class vC extends w.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let a=t,c=n||(()=>null),m=r;if(t&&"object"==typeof t){const M=t;a=M.next?.bind(M),c=M.error?.bind(M),m=M.complete?.bind(M)}this.__isAsync&&(c=Ff(c),a&&(a=Ff(a)),m&&(m=Ff(m)));const I=super.subscribe({next:a,error:c,complete:m});return t instanceof Z.w0&&t.add(I),I}};function EC(){return this._results[ec()]()}class Lf{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=ec(),r=Lf.prototype;r[n]||(r[n]=EC)}get changes(){return this._changes||(this._changes=new Kl)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const a=ri(t);(this._changesDetected=!function Oa(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let a=e[r],c=t[r];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}(r._results,a,n))&&(r._results=a,r.length=a.length,r.last=a[this.length-1],r.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Cd=(()=>{class e{}return e.__NG_ELEMENT_ID__=IC,e})();const CC=Cd,wC=class extends CC{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tViews,a=$d(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);a[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(a[19]=m.createEmbeddedView(r)),Qh(r,a,t),new ud(a)}};function IC(){return ih(cr(),tt())}function ih(e,t){return 4&e.type?new wC(t,e,o(e,t)):null}let sh=(()=>{class e{}return e.__NG_ELEMENT_ID__=DC,e})();function DC(){return __(cr(),tt())}const bC=sh,g_=class extends bC{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return o(this._hostTNode,this._hostLView)}get injector(){return new Ns(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ga(this._hostTNode,this._hostLView);if(po(t)){const n=Zs(t,this._hostLView),r=Zr(t);return new Ns(n[1].data[r+8],n)}return new Ns(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=m_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,r){let a,c;"number"==typeof r?a=r:null!=r&&(a=r.index,c=r.injector);const m=t.createEmbeddedView(n||{},c);return this.insert(m,a),m}createComponent(t,n,r,a,c){const m=t&&!function Uo(e){return"function"==typeof e}(t);let I;if(m)I=n;else{const Q=n||{};I=Q.index,r=Q.injector,a=Q.projectableNodes,c=Q.environmentInjector||Q.ngModuleRef}const M=m?t:new cd(ye(t)),k=r||this.parentInjector;if(!c&&null==M.ngModule){const ge=(m?k:this.parentInjector).get(qa,null);ge&&(c=ge)}const z=M.create(k,a,void 0,c);return this.insert(z.hostView,I),z}insert(t,n){const r=t._lView,a=r[1];if(function Go(e){return Qr(e[3])}(r)){const z=this.indexOf(t);if(-1!==z)this.detach(z);else{const Q=r[3],ge=new g_(Q,Q[6],Q[3]);ge.detach(ge.indexOf(t))}}const c=this._adjustIndex(n),m=this._lContainer;!function Hl(e,t,n,r){const a=10+r,c=n.length;r>0&&(n[a-1][4]=t),r<c-10?(t[4]=n[a],xa(n,10+r,t)):(n.push(t),t[4]=null),t[3]=n;const m=t[17];null!==m&&n!==m&&function uc(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(m,t);const I=t[19];null!==I&&I.insertView(e),t[2]|=64}(a,r,m,c);const I=Tu(c,m),M=r[11],k=ol(M,m[7]);return null!==k&&function Wc(e,t,n,r,a,c){r[0]=a,r[6]=t,vl(e,r,n,1,a,c)}(a,m[6],M,r,k,I),t.attachToViewContainerRef(),xa(Uf(m),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=m_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=wu(this._lContainer,n);r&&(Eo(Uf(this._lContainer),n),eo(r[1],r))}detach(t){const n=this._adjustIndex(t,-1),r=wu(this._lContainer,n);return r&&null!=Eo(Uf(this._lContainer),n)?new ud(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function m_(e){return e[8]}function Uf(e){return e[8]||(e[8]=[])}function __(e,t){let n;const r=t[e.index];if(Qr(r))n=r;else{let a;if(8&e.type)a=lr(r);else{const c=t[11];a=c.createComment("");const m=Ur(e,t);Ka(c,ol(c,m),a,function Iu(e,t){return e.nextSibling(t)}(c,m),!1)}t[e.index]=n=dg(r,t,a,e),Gd(t,n)}return new g_(n,e,t)}class Vf{constructor(t){this.queryList=t,this.matches=null}clone(){return new Vf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let c=0;c<r;c++){const m=n.getByIndex(c);a.push(this.queries[m.indexInDeclarationView].clone())}return new Bf(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==b_(t,n).matches&&this.queries[n].setDirty()}}class y_{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Hf{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const a=null!==n?n.length:0,c=this.getByIndex(r).embeddedTView(t,a);c&&(c.indexInDeclarationView=r,null!==n?n.push(c):n=[c])}return null!==n?new Hf(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class jf{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new jf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let a=0;a<r.length;a++){const c=r[a];this.matchTNodeWithReadOption(t,n,AC(n,c)),this.matchTNodeWithReadOption(t,n,Os(n,t,c,!1,!1))}else r===Cd?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Os(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const a=this.metadata.read;if(null!==a)if(a===i||a===sh||a===Cd&&4&n.type)this.addMatch(n.index,-2);else{const c=Os(n,t,a,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function AC(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function RC(e,t,n,r){return-1===n?function MC(e,t){return 11&e.type?o(e,t):4&e.type?ih(e,t):null}(t,e):-2===n?function PC(e,t,n){return n===i?o(t,e):n===Cd?ih(t,e):n===sh?__(t,e):void 0}(e,t,r):ki(e,e[1],n,t)}function v_(e,t,n,r){const a=t[19].queries[r];if(null===a.matches){const c=e.data,m=n.matches,I=[];for(let M=0;M<m.length;M+=2){const k=m[M];I.push(k<0?null:RC(t,c[k],m[M+1],n.metadata.read))}a.matches=I}return a.matches}function $f(e,t,n,r){const a=e.queries.getByIndex(n),c=a.matches;if(null!==c){const m=v_(e,t,a,n);for(let I=0;I<c.length;I+=2){const M=c[I];if(M>0)r.push(m[I/2]);else{const k=c[I+1],z=t[-M];for(let Q=10;Q<z.length;Q++){const ge=z[Q];ge[17]===ge[3]&&$f(ge[1],ge,k,r)}if(null!==z[9]){const Q=z[9];for(let ge=0;ge<Q.length;ge++){const Pe=Q[ge];$f(Pe[1],Pe,k,r)}}}}}return r}function E_(e){const t=tt(),n=En(),r=Po();fo(r+1);const a=b_(n,r);if(e.dirty&&function So(e){return 4==(4&e[2])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const c=a.crossesNgTemplate?$f(n,t,r,[]):v_(n,t,a,r);e.reset(c,s),e.notifyOnChanges()}return!0}return!1}function C_(e,t,n,r){const a=En();if(a.firstCreatePass){const c=cr();(function D_(e,t,n){null===e.queries&&(e.queries=new Hf),e.queries.track(new jf(t,n))})(a,new y_(t,n,r),c.index),function NC(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}!function I_(e,t,n){const r=new Lf(4==(4&n));ng(e,t,r,r.destroy),null===t[19]&&(t[19]=new Bf),t[19].queries.push(new Vf(r))}(a,tt(),n)}function w_(){return function xC(e,t){return e[19].queries[t].queryList}(tt(),Po())}function b_(e,t){return e.queries.getByIndex(t)}function ah(...e){}const W_=new Wn("Application Initializer");let lh=(()=>{class e{constructor(n){this.appInits=n,this.resolve=ah,this.reject=ah,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if(vf(c))n.push(c);else if(Pg(c)){const m=new Promise((I,M)=>{c.subscribe({complete:I,error:M})});n.push(m)}}Promise.all(n).then(()=>{r()}).catch(a=>{this.reject(a)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(si(W_,8))},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const G_=new Wn("AppId",{providedIn:"root",factory:function z_(){return`${Kf()}${Kf()}${Kf()}`}});function Kf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Z_=new Wn("Platform Initializer"),tw=new Wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),K_=new Wn("appBootstrapListener");let nw=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const uh=new Wn("LocaleId",{providedIn:"root",factory:()=>R(uh,ct.Optional|ct.SkipSelf)||function rw(){return typeof $localize<"u"&&$localize.locale||Lc}()}),iw=new Wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class sw{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let ow=(()=>{class e{compileModuleSync(n){return new xf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),c=uu(Tn(n).declarations).reduce((m,I)=>{const M=ye(I);return M&&m.push(new cd(M)),m},[]);return new sw(r,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const uw=(()=>Promise.resolve(0))();function qf(e){typeof Zone>"u"?uw.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class cl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Kl(!1),this.onMicrotaskEmpty=new Kl(!1),this.onStable=new Kl(!1),this.onError=new Kl(!1),typeof Zone>"u")throw new Ve(908,!1);Zone.assertZonePatched();const a=this;if(a._nesting=0,a._outer=a._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const c=Zone.AsyncStackTaggingZoneSpec;a._inner=a._inner.fork(new c("Angular"))}Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&n,a.shouldCoalesceRunChangeDetection=r,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function cw(){let e=kn.requestAnimationFrame,t=kn.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function fw(e){const t=()=>{!function hw(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(kn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Qf(e),e.isCheckStableRunning=!0,Yf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Qf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,a,c,m,I)=>{try{return Q_(e),n.invokeTask(a,c,m,I)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),J_(e)}},onInvoke:(n,r,a,c,m,I,M)=>{try{return Q_(e),n.invoke(a,c,m,I,M)}finally{e.shouldCoalesceRunChangeDetection&&t(),J_(e)}},onHasTask:(n,r,a,c)=>{n.hasTask(a,c),r===a&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,Qf(e),Yf(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,r,a,c)=>(n.handleError(a,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!cl.isInAngularZone())throw new Ve(909,!1)}static assertNotInAngularZone(){if(cl.isInAngularZone())throw new Ve(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,a){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+a,t,dw,ah,ah);try{return c.runTask(m,n,r)}finally{c.cancelTask(m)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const dw={};function Yf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Qf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Q_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function J_(e){e._nesting--,Yf(e)}class pw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Kl,this.onMicrotaskEmpty=new Kl,this.onStable=new Kl,this.onError=new Kl}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,a){return t.apply(n,r)}}const X_=new Wn(""),ey=new Wn("");let Jf,gw=(()=>{class e{constructor(n,r,a){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Jf||(function mw(e){Jf=e}(a),a.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{cl.assertNotInAngularZone(),qf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qf(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,a){let c=-1;r&&r>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==c),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:a})}whenStable(n,r,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(si(cl),si(ty),si(ey))},e.\u0275prov=xt({token:e,factory:e.\u0275fac}),e})(),ty=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Jf?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),ku=null;const ny=new Wn("AllowMultipleToken"),Xf=new Wn("PlatformDestroyListeners");class vw{constructor(t,n){this.name=t,this.token=n}}function iy(e,t,n=[]){const r=`Platform: ${t}`,a=new Wn(r);return(c=[])=>{let m=ep();if(!m||m.injector.get(ny,!1)){const I=[...n,...c,{provide:a,useValue:!0}];e?e(I):function Ew(e){if(ku&&!ku.get(ny,!1))throw new Ve(400,!1);ku=e;const t=e.get(oy);(function ry(e){const t=e.get(Z_,null);t&&t.forEach(n=>n())})(e)}(function sy(e=[],t){return Xu.create({name:t,providers:[{provide:ad,useValue:"platform"},{provide:Xf,useValue:new Set([()=>ku=null])},...e]})}(I,r))}return function ww(e){const t=ep();if(!t)throw new Ve(401,!1);return t}()}}function ep(){return ku?.get(oy)??null}let oy=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function ly(e,t){let n;return n="noop"===e?new pw:("zone.js"===e?void 0:e)||new cl(t),n}(r?.ngZone,function ay(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),c=[{provide:cl,useValue:a}];return a.run(()=>{const m=Xu.create({providers:c,parent:this.injector,name:n.moduleType.name}),I=n.create(m),M=I.injector.get(Wt,null);if(!M)throw new Ve(402,!1);return a.runOutsideAngular(()=>{const k=a.onError.subscribe({next:z=>{M.handleError(z)}});I.onDestroy(()=>{dh(this._modules,I),k.unsubscribe()})}),function uy(e,t,n){try{const r=n();return vf(r)?r.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(M,a,()=>{const k=I.injector.get(lh);return k.runInitializers(),k.donePromise.then(()=>(function Mm(e){Bt(e,"Expected localeId to be defined"),"string"==typeof e&&(Am=e.toLowerCase().replace(/_/g,"-"))}(I.injector.get(uh,Lc)||Lc),this._moduleDoBootstrap(I),I))})})}bootstrapModule(n,r=[]){const a=cy({},r);return function _w(e,t,n){const r=new xf(n);return Promise.resolve(r)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(n){const r=n.injector.get(ch);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>r.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new Ve(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ve(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Xf,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(si(Xu))},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function cy(e,t){return Array.isArray(t)?t.reduce(cy,e):{...e,...t}}let ch=(()=>{class e{constructor(n,r,a){this._zone=n,this._injector=r,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new B.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),m=new B.y(I=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{cl.assertNotInAngularZone(),qf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{cl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,T.T)(c,m.pipe((0,fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const a=n instanceof Fd;if(!this._injector.get(lh).done)throw!a&&Dn(n),new Ve(405,false);let m;m=a?n:this._injector.get(Ou).resolveComponentFactory(n),this.componentTypes.push(m.componentType);const I=function yw(e){return e.isBoundToModule}(m)?void 0:this._injector.get(Uc),k=m.create(Xu.NULL,[],r||m.selector,I),z=k.location.nativeElement,Q=k.injector.get(X_,null);return Q?.registerApplication(z),k.onDestroy(()=>{this.detachView(k.hostView),dh(this.components,k),Q?.unregisterApplication(z)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Ve(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;dh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(K_,[]).concat(this._bootstrapListeners).forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>dh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ve(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(si(cl),si(qa),si(Wt))},e.\u0275prov=xt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function dh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let hy=!0,fy=!1;function Dw(){return fy=!0,hy}function bw(){if(fy)throw new Error("Cannot enable prod mode after platform setup.");hy=!1}let Tw=(()=>{class e{}return e.__NG_ELEMENT_ID__=Sw,e})();function Sw(e){return function Aw(e,t,n){if(Ds(e)&&!n){const r=Fn(e.index,t);return new ud(r,r)}return 47&e.type?new ud(t[16],t):null}(cr(),tt(),16==(16&e))}class _y{constructor(){}supports(t){return dd(t)}create(t){return new Nw(t)}}const xw=(e,t)=>t;class Nw{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xw}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,a=0,c=null;for(;n||r;){const m=!r||n&&n.currentIndex<vy(r,a,c)?n:r,I=vy(m,a,c),M=m.currentIndex;if(m===r)a--,r=r._nextRemoved;else if(n=n._next,null==m.previousIndex)a++;else{c||(c=[]);const k=I-a,z=M-a;if(k!=z){for(let ge=0;ge<k;ge++){const Pe=ge<c.length?c[ge]:c[ge]=0,nt=Pe+ge;z<=nt&&nt<k&&(c[ge]=Pe+1)}c[m.previousIndex]=z-k}}I!==M&&t(m,I,M)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!dd(t))throw new Ve(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,m,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let I=0;I<this.length;I++)c=t[I],m=this._trackByFn(I,c),null!==n&&Object.is(n.trackById,m)?(r&&(n=this._verifyReinsertion(n,c,m,I)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,m,I),r=!0),n=n._next}else a=0,function Yv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[ec()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,I=>{m=this._trackByFn(a,I),null!==n&&Object.is(n.trackById,m)?(r&&(n=this._verifyReinsertion(n,I,m,a)),Object.is(n.item,I)||this._addIdentityChange(n,I)):(n=this._mismatch(n,I,m,a),r=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,a)):t=this._addAfter(new kw(n,r),c,a),t}_verifyReinsertion(t,n,r,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new yy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class kw{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Fw{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class yy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new Fw,this.map.set(n,r)),r.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vy(e,t,n){const r=e.previousIndex;if(null===r)return r;let a=0;return n&&r<n.length&&(a=n[r]),r+t+a}class Ey{constructor(){}supports(t){return t instanceof Map||hf(t)}create(){return new Lw}}class Lw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||hf(t)))throw new Ve(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(a,r);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const c=a._prev,m=a._next;return c&&(c._next=m),m&&(m._prev=c),a._next=null,a._prev=null,a}const r=new Uw(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class Uw{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cy(){return new sp([new _y])}let sp=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Cy()),deps:[[e,new Ut,new Rt]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(null!=r)return r;throw new Ve(901,!1)}}return e.\u0275prov=xt({token:e,providedIn:"root",factory:Cy}),e})();function wy(){return new op([new Ey])}let op=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const a=r.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||wy()),deps:[[e,new Ut,new Rt]]}}find(n){const r=this.factories.find(a=>a.supports(n));if(r)return r;throw new Ve(901,!1)}}return e.\u0275prov=xt({token:e,providedIn:"root",factory:wy}),e})();const Hw=iy(null,"core",[]);let jw=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(si(ch))},e.\u0275mod=Xt({type:e}),e.\u0275inj=Kt({}),e})();function $w(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},1481:(bt,ke,U)=>{U.d(ke,{Dx:()=>Nn,b2:()=>wi,q6:()=>Sr});var w=U(6895),Z=U(4650);class B extends w.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class T extends B{static makeCurrent(){(0,w.HT)(new T)}onAndCancel(J,Y,Se){return J.addEventListener(Y,Se,!1),()=>{J.removeEventListener(Y,Se,!1)}}dispatchEvent(J,Y){J.dispatchEvent(Y)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,Y){return(Y=Y||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,Y){return"window"===Y?window:"document"===Y?J:"body"===Y?J.body:null}getBaseHref(J){const Y=function Ie(){return fe=fe||document.querySelector("base"),fe?fe.getAttribute("href"):null}();return null==Y?null:function Ce(te){be=be||document.createElement("a"),be.setAttribute("href",te);const J=be.pathname;return"/"===J.charAt(0)?J:`/${J}`}(Y)}resetBaseElement(){fe=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,w.Mx)(document.cookie,J)}}let be,fe=null;const Te=new Z.OlP("TRANSITION_ID"),ie=[{provide:Z.ip1,useFactory:function ae(te,J,Y){return()=>{Y.get(Z.CZH).donePromise.then(()=>{const Se=(0,w.q)(),ze=J.querySelectorAll(`style[ng-transition="${te}"]`);for(let St=0;St<ze.length;St++)Se.remove(ze[St])})}},deps:[Te,w.K0,Z.zs3],multi:!0}];let it=(()=>{class te{build(){return new XMLHttpRequest}}return te.\u0275fac=function(Y){return new(Y||te)},te.\u0275prov=Z.Yz7({token:te,factory:te.\u0275fac}),te})();const Qe=new Z.OlP("EventManagerPlugins");let Ve=(()=>{class te{constructor(Y,Se){this._zone=Se,this._eventNameToPlugin=new Map,Y.forEach(ze=>ze.manager=this),this._plugins=Y.slice().reverse()}addEventListener(Y,Se,ze){return this._findPluginFor(Se).addEventListener(Y,Se,ze)}addGlobalEventListener(Y,Se,ze){return this._findPluginFor(Se).addGlobalEventListener(Y,Se,ze)}getZone(){return this._zone}_findPluginFor(Y){const Se=this._eventNameToPlugin.get(Y);if(Se)return Se;const ze=this._plugins;for(let St=0;St<ze.length;St++){const sn=ze[St];if(sn.supports(Y))return this._eventNameToPlugin.set(Y,sn),sn}throw new Error(`No event manager plugin found for event ${Y}`)}}return te.\u0275fac=function(Y){return new(Y||te)(Z.LFG(Qe),Z.LFG(Z.R0b))},te.\u0275prov=Z.Yz7({token:te,factory:te.\u0275fac}),te})();class Ye{constructor(J){this._doc=J}addGlobalEventListener(J,Y,Se){const ze=(0,w.q)().getGlobalEventTarget(this._doc,J);if(!ze)throw new Error(`Unsupported event target ${ze} for event ${Y}`);return this.addEventListener(ze,Y,Se)}}let Ne=(()=>{class te{constructor(){this._stylesSet=new Set}addStyles(Y){const Se=new Set;Y.forEach(ze=>{this._stylesSet.has(ze)||(this._stylesSet.add(ze),Se.add(ze))}),this.onStylesAdded(Se)}onStylesAdded(Y){}getAllStyles(){return Array.from(this._stylesSet)}}return te.\u0275fac=function(Y){return new(Y||te)},te.\u0275prov=Z.Yz7({token:te,factory:te.\u0275fac}),te})(),Me=(()=>{class te extends Ne{constructor(Y){super(),this._doc=Y,this._hostNodes=new Map,this._hostNodes.set(Y.head,[])}_addStylesToHost(Y,Se,ze){Y.forEach(St=>{const sn=this._doc.createElement("style");sn.textContent=St,ze.push(Se.appendChild(sn))})}addHost(Y){const Se=[];this._addStylesToHost(this._stylesSet,Y,Se),this._hostNodes.set(Y,Se)}removeHost(Y){const Se=this._hostNodes.get(Y);Se&&Se.forEach(wt),this._hostNodes.delete(Y)}onStylesAdded(Y){this._hostNodes.forEach((Se,ze)=>{this._addStylesToHost(Y,ze,Se)})}ngOnDestroy(){this._hostNodes.forEach(Y=>Y.forEach(wt))}}return te.\u0275fac=function(Y){return new(Y||te)(Z.LFG(w.K0))},te.\u0275prov=Z.Yz7({token:te,factory:te.\u0275fac}),te})();function wt(te){(0,w.q)().remove(te)}const Et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ue=/%COMP%/g;function ue(te,J,Y){for(let Se=0;Se<J.length;Se++){let ze=J[Se];Array.isArray(ze)?ue(te,ze,Y):(ze=ze.replace(Ue,te),Y.push(ze))}return Y}function _e(te){return J=>{if("__ngUnwrap__"===J)return te;!1===te(J)&&(J.preventDefault(),J.returnValue=!1)}}let De=(()=>{class te{constructor(Y,Se,ze){this.eventManager=Y,this.sharedStylesHost=Se,this.appId=ze,this.rendererByCompId=new Map,this.defaultRenderer=new $e(Y)}createRenderer(Y,Se){if(!Y||!Se)return this.defaultRenderer;switch(Se.encapsulation){case Z.ifc.Emulated:{let ze=this.rendererByCompId.get(Se.id);return ze||(ze=new Bt(this.eventManager,this.sharedStylesHost,Se,this.appId),this.rendererByCompId.set(Se.id,ze)),ze.applyToHost(Y),ze}case 1:case Z.ifc.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,Y,Se);default:if(!this.rendererByCompId.has(Se.id)){const ze=ue(Se.id,Se.styles,[]);this.sharedStylesHost.addStyles(ze),this.rendererByCompId.set(Se.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return te.\u0275fac=function(Y){return new(Y||te)(Z.LFG(Ve),Z.LFG(Me),Z.LFG(Z.AFp))},te.\u0275prov=Z.Yz7({token:te,factory:te.\u0275fac}),te})();class $e{constructor(J){this.eventManager=J,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,Y){return Y?document.createElementNS(Et[Y]||Y,J):document.createElement(J)}createComment(J){return document.createComment(J)}createText(J){return document.createTextNode(J)}appendChild(J,Y){(wn(J)?J.content:J).appendChild(Y)}insertBefore(J,Y,Se){J&&(wn(J)?J.content:J).insertBefore(Y,Se)}removeChild(J,Y){J&&J.removeChild(Y)}selectRootElement(J,Y){let Se="string"==typeof J?document.querySelector(J):J;if(!Se)throw new Error(`The selector "${J}" did not match any elements`);return Y||(Se.textContent=""),Se}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,Y,Se,ze){if(ze){Y=ze+":"+Y;const St=Et[ze];St?J.setAttributeNS(St,Y,Se):J.setAttribute(Y,Se)}else J.setAttribute(Y,Se)}removeAttribute(J,Y,Se){if(Se){const ze=Et[Se];ze?J.removeAttributeNS(ze,Y):J.removeAttribute(`${Se}:${Y}`)}else J.removeAttribute(Y)}addClass(J,Y){J.classList.add(Y)}removeClass(J,Y){J.classList.remove(Y)}setStyle(J,Y,Se,ze){ze&(Z.JOm.DashCase|Z.JOm.Important)?J.style.setProperty(Y,Se,ze&Z.JOm.Important?"important":""):J.style[Y]=Se}removeStyle(J,Y,Se){Se&Z.JOm.DashCase?J.style.removeProperty(Y):J.style[Y]=""}setProperty(J,Y,Se){J[Y]=Se}setValue(J,Y){J.nodeValue=Y}listen(J,Y,Se){return"string"==typeof J?this.eventManager.addGlobalEventListener(J,Y,_e(Se)):this.eventManager.addEventListener(J,Y,_e(Se))}}function wn(te){return"TEMPLATE"===te.tagName&&void 0!==te.content}class Bt extends $e{constructor(J,Y,Se,ze){super(J),this.component=Se;const St=ue(ze+"-"+Se.id,Se.styles,[]);Y.addStyles(St),this.contentAttr=function oe(te){return"_ngcontent-%COMP%".replace(Ue,te)}(ze+"-"+Se.id),this.hostAttr=function V(te){return"_nghost-%COMP%".replace(Ue,te)}(ze+"-"+Se.id)}applyToHost(J){super.setAttribute(J,this.hostAttr,"")}createElement(J,Y){const Se=super.createElement(J,Y);return super.setAttribute(Se,this.contentAttr,""),Se}}class ut extends $e{constructor(J,Y,Se,ze){super(J),this.sharedStylesHost=Y,this.hostEl=Se,this.shadowRoot=Se.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=ue(ze.id,ze.styles,[]);for(let sn=0;sn<St.length;sn++){const un=document.createElement("style");un.textContent=St[sn],this.shadowRoot.appendChild(un)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(J,Y){return super.appendChild(this.nodeOrShadowRoot(J),Y)}insertBefore(J,Y,Se){return super.insertBefore(this.nodeOrShadowRoot(J),Y,Se)}removeChild(J,Y){return super.removeChild(this.nodeOrShadowRoot(J),Y)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}}let ln=(()=>{class te extends Ye{constructor(Y){super(Y)}supports(Y){return!0}addEventListener(Y,Se,ze){return Y.addEventListener(Se,ze,!1),()=>this.removeEventListener(Y,Se,ze)}removeEventListener(Y,Se,ze){return Y.removeEventListener(Se,ze)}}return te.\u0275fac=function(Y){return new(Y||te)(Z.LFG(w.K0))},te.\u0275prov=Z.Yz7({token:te,factory:te.\u0275fac}),te})();const bn=["alt","control","meta","shift"],Zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xt={alt:te=>te.altKey,control:te=>te.ctrlKey,meta:te=>te.metaKey,shift:te=>te.shiftKey};let Qn=(()=>{class te extends Ye{constructor(Y){super(Y)}supports(Y){return null!=te.parseEventName(Y)}addEventListener(Y,Se,ze){const St=te.parseEventName(Se),sn=te.eventCallback(St.fullKey,ze,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,w.q)().onAndCancel(Y,St.domEventName,sn))}static parseEventName(Y){const Se=Y.toLowerCase().split("."),ze=Se.shift();if(0===Se.length||"keydown"!==ze&&"keyup"!==ze)return null;const St=te._normalizeKey(Se.pop());let sn="",un=Se.indexOf("code");if(un>-1&&(Se.splice(un,1),sn="code."),bn.forEach(Ii=>{const Qt=Se.indexOf(Ii);Qt>-1&&(Se.splice(Qt,1),sn+=Ii+".")}),sn+=St,0!=Se.length||0===St.length)return null;const ir={};return ir.domEventName=ze,ir.fullKey=sn,ir}static matchEventFullKeyCode(Y,Se){let ze=Zt[Y.key]||Y.key,St="";return Se.indexOf("code.")>-1&&(ze=Y.code,St="code."),!(null==ze||!ze)&&(ze=ze.toLowerCase()," "===ze?ze="space":"."===ze&&(ze="dot"),bn.forEach(sn=>{sn!==ze&&(0,xt[sn])(Y)&&(St+=sn+".")}),St+=ze,St===Se)}static eventCallback(Y,Se,ze){return St=>{te.matchEventFullKeyCode(St,Y)&&ze.runGuarded(()=>Se(St))}}static _normalizeKey(Y){return"esc"===Y?"escape":Y}}return te.\u0275fac=function(Y){return new(Y||te)(Z.LFG(w.K0))},te.\u0275prov=Z.Yz7({token:te,factory:te.\u0275fac}),te})();const Sr=(0,Z.eFA)(Z._c5,"browser",[{provide:Z.Lbi,useValue:w.bD},{provide:Z.g9A,useValue:function $n(){T.makeCurrent()},multi:!0},{provide:w.K0,useFactory:function Gn(){return(0,Z.RDi)(document),document},deps:[]}]),yr=new Z.OlP(""),ct=[{provide:Z.rWj,useClass:class he{addToWindow(J){Z.dqk.getAngularTestability=(Se,ze=!0)=>{const St=J.findTestabilityInTree(Se,ze);if(null==St)throw new Error("Could not find testability for element.");return St},Z.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),Z.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),Z.dqk.frameworkStabilizers||(Z.dqk.frameworkStabilizers=[]),Z.dqk.frameworkStabilizers.push(Se=>{const ze=Z.dqk.getAllAngularTestabilities();let St=ze.length,sn=!1;const un=function(ir){sn=sn||ir,St--,0==St&&Se(sn)};ze.forEach(function(ir){ir.whenStable(un)})})}findTestabilityInTree(J,Y,Se){return null==Y?null:J.getTestability(Y)??(Se?(0,w.q)().isShadowRoot(Y)?this.findTestabilityInTree(J,Y.host,!0):this.findTestabilityInTree(J,Y.parentElement,!0):null)}},deps:[]},{provide:Z.lri,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]},{provide:Z.dDg,useClass:Z.dDg,deps:[Z.R0b,Z.eoX,Z.rWj]}],Zn=[{provide:Z.zSh,useValue:"root"},{provide:Z.qLn,useFactory:function xn(){return new Z.qLn},deps:[]},{provide:Qe,useClass:ln,multi:!0,deps:[w.K0,Z.R0b,Z.Lbi]},{provide:Qe,useClass:Qn,multi:!0,deps:[w.K0]},{provide:De,useClass:De,deps:[Ve,Me,Z.AFp]},{provide:Z.FYo,useExisting:De},{provide:Ne,useExisting:Me},{provide:Me,useClass:Me,deps:[w.K0]},{provide:Ve,useClass:Ve,deps:[Qe,Z.R0b]},{provide:w.JF,useClass:it,deps:[]},[]];let wi=(()=>{class te{constructor(Y){}static withServerTransition(Y){return{ngModule:te,providers:[{provide:Z.AFp,useValue:Y.appId},{provide:Te,useExisting:Z.AFp},ie]}}}return te.\u0275fac=function(Y){return new(Y||te)(Z.LFG(yr,12))},te.\u0275mod=Z.oAB({type:te}),te.\u0275inj=Z.cJS({providers:[...Zn,...ct],imports:[w.ez,Z.hGG]}),te})(),Nn=(()=>{class te{constructor(Y){this._doc=Y}getTitle(){return this._doc.title}setTitle(Y){this._doc.title=Y||""}}return te.\u0275fac=function(Y){return new(Y||te)(Z.LFG(w.K0))},te.\u0275prov=Z.Yz7({token:te,factory:function(Y){let Se=null;return Se=Y?new Y:function on(){return new Nn((0,Z.LFG)(w.K0))}(),Se},providedIn:"root"}),te})();typeof window<"u"&&window},318:(bt,ke,U)=>{U.d(ke,{wm:()=>Ma,F0:()=>gr,Od:()=>ks,yS:()=>Kr,Bz:()=>Co,lC:()=>ur});var w=U(4650),Z=U(8996),B=U(9646),T=U(7579);class fe extends T.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const _=super._subscribe(E);return!_.closed&&E.next(this._value),_}getValue(){const{hasError:E,thrownError:_,_value:b}=this;if(E)throw _;return this._throwIfClosed(),b}next(E){super.next(this._value=E)}}var Ie=U(6805),be=U(9751),Ce=U(4742),Te=U(4671),ae=U(3268),ie=U(7669),he=U(1810),it=U(5403),Qe=U(9672);function Ve(...v){const E=(0,ie.yG)(v),_=(0,ie.jO)(v),{args:b,keys:O}=(0,Ce.D)(v);if(0===b.length)return(0,Z.D)([],E);const j=new be.y(function Ye(v,E,_=Te.y){return b=>{Ne(E,()=>{const{length:O}=v,j=new Array(O);let X=O,se=O;for(let Fe=0;Fe<O;Fe++)Ne(E,()=>{const ft=(0,Z.D)(v[Fe],E);let tn=!1;ft.subscribe((0,it.x)(b,_t=>{j[Fe]=_t,tn||(tn=!0,se--),se||b.next(_(j.slice()))},()=>{--X||b.complete()}))},b)},b)}}(b,E,O?X=>(0,he.n)(O,X):Te.y));return _?j.pipe((0,ae.Z)(_)):j}function Ne(v,E,_){v?(0,Qe.f)(_,v,E):E()}var Me=U(8189);function Et(...v){return function wt(){return(0,Me.J)(1)}()((0,Z.D)(v,(0,ie.yG)(v)))}var Ue=U(8421);function je(v){return new be.y(E=>{(0,Ue.Xf)(v()).subscribe(E)})}var qe=U(9635),at=U(576);function dt(v,E){const _=(0,at.m)(v)?v:()=>v,b=O=>O.error(_());return new be.y(E?O=>E.schedule(b,0,O):b)}var oe=U(515),V=U(727),ue=U(4482);function _e(){return(0,ue.e)((v,E)=>{let _=null;v._refCount++;const b=(0,it.x)(E,void 0,void 0,void 0,()=>{if(!v||v._refCount<=0||0<--v._refCount)return void(_=null);const O=v._connection,j=_;_=null,O&&(!j||O===j)&&O.unsubscribe(),E.unsubscribe()});v.subscribe(b),b.closed||(_=v.connect())})}class Re extends be.y{constructor(E,_){super(),this.source=E,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,ue.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new V.w0;const _=this.getSubject();E.add(this.source.subscribe((0,it.x)(_,void 0,()=>{this._teardown(),_.complete()},b=>{this._teardown(),_.error(b)},()=>this._teardown()))),E.closed&&(this._connection=null,E=V.w0.EMPTY)}return E}refCount(){return _e()(this)}}var De=U(6895),$e=U(4004),st=U(3900),Ot=U(5698),Bt=U(9300),ut=U(5577),ln=U(590);function bn(v,E){return(0,at.m)(E)?(0,ut.z)(v,E,1):(0,ut.z)(v,1)}var Zt=U(8505);function xt(v){return(0,ue.e)((E,_)=>{let j,b=null,O=!1;b=E.subscribe((0,it.x)(_,void 0,void 0,X=>{j=(0,Ue.Xf)(v(X,xt(v)(E))),b?(b.unsubscribe(),b=null,j.subscribe(_)):O=!0})),O&&(b.unsubscribe(),b=null,j.subscribe(_))})}var Qn=U(5026);function Kt(v){return v<=0?()=>oe.E:(0,ue.e)((E,_)=>{let b=[];E.subscribe((0,it.x)(_,O=>{b.push(O),v<b.length&&b.shift()},()=>{for(const O of b)_.next(O);_.complete()},void 0,()=>{b=null}))})}var Pn=U(8068),_n=U(6590);function hr(v,E){const _=arguments.length>=2;return b=>b.pipe(v?(0,Bt.h)((O,j)=>v(O,j,b)):Te.y,Kt(1),_?(0,_n.d)(E):(0,Pn.T)(()=>new Ie.K))}var xn=U(8746),Gn=U(1481);const Ft="primary",Sr=Symbol("RouteTitle");class yr{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_[0]:_}return null}getAll(E){if(this.has(E)){const _=this.params[E];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function ct(v){return new yr(v)}function Zn(v,E,_){const b=_.path.split("/");if(b.length>v.length||"full"===_.pathMatch&&(E.hasChildren()||b.length<v.length))return null;const O={};for(let j=0;j<b.length;j++){const X=b[j],se=v[j];if(X.startsWith(":"))O[X.substring(1)]=se;else if(X!==se.path)return null}return{consumed:v.slice(0,b.length),posParams:O}}function In(v,E){const _=v?Object.keys(v):void 0,b=E?Object.keys(E):void 0;if(!_||!b||_.length!=b.length)return!1;let O;for(let j=0;j<_.length;j++)if(O=_[j],!Ar(v[O],E[O]))return!1;return!0}function Ar(v,E){if(Array.isArray(v)&&Array.isArray(E)){if(v.length!==E.length)return!1;const _=[...v].sort(),b=[...E].sort();return _.every((O,j)=>b[j]===O)}return v===E}function $r(v){return Array.prototype.concat.apply([],v)}function on(v){return v.length>0?v[v.length-1]:null}function Jt(v,E){for(const _ in v)v.hasOwnProperty(_)&&E(v[_],_)}function Dt(v){return(0,w.CqO)(v)?v:(0,w.QGY)(v)?(0,Z.D)(Promise.resolve(v)):(0,B.of)(v)}const Kn={exact:function qr(v,E,_){if(!Lt(v.segments,E.segments)||!zn(v.segments,E.segments,_)||v.numberOfChildren!==E.numberOfChildren)return!1;for(const b in E.children)if(!v.children[b]||!qr(v.children[b],E.children[b],_))return!1;return!0},subset:Yr},Vn={exact:function Vt(v,E){return In(v,E)},subset:function hn(v,E){return Object.keys(E).length<=Object.keys(v).length&&Object.keys(E).every(_=>Ar(v[_],E[_]))},ignored:()=>!0};function Ir(v,E,_){return Kn[_.paths](v.root,E.root,_.matrixParams)&&Vn[_.queryParams](v.queryParams,E.queryParams)&&!("exact"===_.fragment&&v.fragment!==E.fragment)}function Yr(v,E,_){return Mn(v,E,E.segments,_)}function Mn(v,E,_,b){if(v.segments.length>_.length){const O=v.segments.slice(0,_.length);return!(!Lt(O,_)||E.hasChildren()||!zn(O,_,b))}if(v.segments.length===_.length){if(!Lt(v.segments,_)||!zn(v.segments,_,b))return!1;for(const O in E.children)if(!v.children[O]||!Yr(v.children[O],E.children[O],b))return!1;return!0}{const O=_.slice(0,v.segments.length),j=_.slice(v.segments.length);return!!(Lt(v.segments,O)&&zn(v.segments,O,b)&&v.children[Ft])&&Mn(v.children[Ft],E,j,b)}}function zn(v,E,_){return E.every((b,O)=>Vn[_](v[O].parameters,b.parameters))}class er{constructor(E,_,b){this.root=E,this.queryParams=_,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return ne.serialize(this)}}class Je{constructor(E,_){this.segments=E,this.children=_,this.parent=null,Jt(_,(b,O)=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pe(this)}}class Ke{constructor(E,_){this.path=E,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=ct(this.parameters)),this._parameterMap}toString(){return te(this)}}function Lt(v,E){return v.length===E.length&&v.every((_,b)=>_.path===E[b].path)}let Xt=(()=>{class v{}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=w.Yz7({token:v,factory:function(){return new ce},providedIn:"root"}),v})();class ce{parse(E){const _=new Ii(E);return new er(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(E){const _=`/${He(E.root,!0)}`,b=function Y(v){const E=Object.keys(v).map(_=>{const b=v[_];return Array.isArray(b)?b.map(O=>`${mt(_)}=${mt(O)}`).join("&"):`${mt(_)}=${mt(b)}`}).filter(_=>!!_);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${_}${b}${"string"==typeof E.fragment?`#${function Nt(v){return encodeURI(v)}(E.fragment)}`:""}`}}const ne=new ce;function pe(v){return v.segments.map(E=>te(E)).join("/")}function He(v,E){if(!v.hasChildren())return pe(v);if(E){const _=v.children[Ft]?He(v.children[Ft],!1):"",b=[];return Jt(v.children,(O,j)=>{j!==Ft&&b.push(`${j}:${He(O,!1)}`)}),b.length>0?`${_}(${b.join("//")})`:_}{const _=function Yt(v,E){let _=[];return Jt(v.children,(b,O)=>{O===Ft&&(_=_.concat(E(b,O)))}),Jt(v.children,(b,O)=>{O!==Ft&&(_=_.concat(E(b,O)))}),_}(v,(b,O)=>O===Ft?[He(v.children[Ft],!1)]:[`${O}:${He(b,!1)}`]);return 1===Object.keys(v.children).length&&null!=v.children[Ft]?`${pe(v)}/${_[0]}`:`${pe(v)}/(${_.join("//")})`}}function ye(v){return encodeURIComponent(v).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mt(v){return ye(v).replace(/%3B/gi,";")}function Dn(v){return ye(v).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tn(v){return decodeURIComponent(v)}function yn(v){return Tn(v.replace(/\+/g,"%20"))}function te(v){return`${Dn(v.path)}${function J(v){return Object.keys(v).map(E=>`;${Dn(E)}=${Dn(v[E])}`).join("")}(v.parameters)}`}const Se=/^[^\/()?;=#]+/;function ze(v){const E=v.match(Se);return E?E[0]:""}const St=/^[^=?&#]+/,un=/^[^&#]+/;class Ii{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(E.length>0||Object.keys(_).length>0)&&(b[Ft]=new Je(E,_)),b}parseSegment(){const E=ze(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new w.vHH(4009,!1);return this.capture(E),new Ke(Tn(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const _=ze(this.remaining);if(!_)return;this.capture(_);let b="";if(this.consumeOptional("=")){const O=ze(this.remaining);O&&(b=O,this.capture(b))}E[Tn(_)]=Tn(b)}parseQueryParam(E){const _=function sn(v){const E=v.match(St);return E?E[0]:""}(this.remaining);if(!_)return;this.capture(_);let b="";if(this.consumeOptional("=")){const X=function ir(v){const E=v.match(un);return E?E[0]:""}(this.remaining);X&&(b=X,this.capture(b))}const O=yn(_),j=yn(b);if(E.hasOwnProperty(O)){let X=E[O];Array.isArray(X)||(X=[X],E[O]=X),X.push(j)}else E[O]=j}parseParens(E){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=ze(this.remaining),O=this.remaining[b.length];if("/"!==O&&")"!==O&&";"!==O)throw new w.vHH(4010,!1);let j;b.indexOf(":")>-1?(j=b.slice(0,b.indexOf(":")),this.capture(j),this.capture(":")):E&&(j=Ft);const X=this.parseChildren();_[j]=1===Object.keys(X).length?X[Ft]:new Je([],X),this.consumeOptional("//")}return _}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new w.vHH(4011,!1)}}function Qt(v){return v.segments.length>0?new Je([],{[Ft]:v}):v}function qn(v){const E={};for(const b of Object.keys(v.children)){const j=qn(v.children[b]);(j.segments.length>0||j.hasChildren())&&(E[b]=j)}return function ji(v){if(1===v.numberOfChildren&&v.children[Ft]){const E=v.children[Ft];return new Je(v.segments.concat(E.segments),E.children)}return v}(new Je(v.segments,E))}function vr(v){return v instanceof er}function Er(v,E,_,b,O){if(0===_.length)return Rn(E.root,E.root,E.root,b,O);const j=function Di(v){if("string"==typeof v[0]&&1===v.length&&"/"===v[0])return new Vs(!0,0,v);let E=0,_=!1;const b=v.reduce((O,j,X)=>{if("object"==typeof j&&null!=j){if(j.outlets){const se={};return Jt(j.outlets,(Fe,ft)=>{se[ft]="string"==typeof Fe?Fe.split("/"):Fe}),[...O,{outlets:se}]}if(j.segmentPath)return[...O,j.segmentPath]}return"string"!=typeof j?[...O,j]:0===X?(j.split("/").forEach((se,Fe)=>{0==Fe&&"."===se||(0==Fe&&""===se?_=!0:".."===se?E++:""!=se&&O.push(se))}),O):[...O,j]},[]);return new Vs(_,E,b)}(_);return j.toRoot()?Rn(E.root,E.root,new Je([],{}),b,O):function X(Fe){const ft=function Ri(v,E,_,b){if(v.isAbsolute)return new Lr(E.root,!0,0);if(-1===b)return new Lr(_,_===E.root,0);return function ui(v,E,_){let b=v,O=E,j=_;for(;j>O;){if(j-=O,b=b.parent,!b)throw new w.vHH(4005,!1);O=b.segments.length}return new Lr(b,!1,O-j)}(_,b+(Jn(v.commands[0])?0:1),v.numberOfDoubleDots)}(j,E,v.snapshot?._urlSegment,Fe),tn=ft.processChildren?ar(ft.segmentGroup,ft.index,j.commands):Is(ft.segmentGroup,ft.index,j.commands);return Rn(E.root,ft.segmentGroup,tn,b,O)}(v.snapshot?._lastPathIndex)}function Jn(v){return"object"==typeof v&&null!=v&&!v.outlets&&!v.segmentPath}function Mr(v){return"object"==typeof v&&null!=v&&v.outlets}function Rn(v,E,_,b,O){let X,j={};b&&Jt(b,(Fe,ft)=>{j[ft]=Array.isArray(Fe)?Fe.map(tn=>`${tn}`):`${Fe}`}),X=v===E?_:Us(v,E,_);const se=Qt(qn(X));return new er(se,j,O)}function Us(v,E,_){const b={};return Jt(v.children,(O,j)=>{b[j]=O===E?_:Us(O,E,_)}),new Je(v.segments,b)}class Vs{constructor(E,_,b){if(this.isAbsolute=E,this.numberOfDoubleDots=_,this.commands=b,E&&b.length>0&&Jn(b[0]))throw new w.vHH(4003,!1);const O=b.find(Mr);if(O&&O!==on(b))throw new w.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lr{constructor(E,_,b){this.segmentGroup=E,this.processChildren=_,this.index=b}}function Is(v,E,_){if(v||(v=new Je([],{})),0===v.segments.length&&v.hasChildren())return ar(v,E,_);const b=function Qr(v,E,_){let b=0,O=E;const j={match:!1,pathIndex:0,commandIndex:0};for(;O<v.segments.length;){if(b>=_.length)return j;const X=v.segments[O],se=_[b];if(Mr(se))break;const Fe=`${se}`,ft=b<_.length-1?_[b+1]:null;if(O>0&&void 0===Fe)break;if(Fe&&ft&&"object"==typeof ft&&void 0===ft.outlets){if(!Bn(Fe,ft,X))return j;b+=2}else{if(!Bn(Fe,{},X))return j;b++}O++}return{match:!0,pathIndex:O,commandIndex:b}}(v,E,_),O=_.slice(b.commandIndex);if(b.match&&b.pathIndex<v.segments.length){const j=new Je(v.segments.slice(0,b.pathIndex),{});return j.children[Ft]=new Je(v.segments.slice(b.pathIndex),v.children),ar(j,0,O)}return b.match&&0===O.length?new Je(v.segments,{}):b.match&&!v.hasChildren()?us(v,E,_):b.match?ar(v,0,O):us(v,E,_)}function ar(v,E,_){if(0===_.length)return new Je(v.segments,{});{const b=function pr(v){return Mr(v[0])?v[0].outlets:{[Ft]:v}}(_),O={};return Jt(b,(j,X)=>{"string"==typeof j&&(j=[j]),null!==j&&(O[X]=Is(v.children[X],E,j))}),Jt(v.children,(j,X)=>{void 0===b[X]&&(O[X]=j)}),new Je(v.segments,O)}}function us(v,E,_){const b=v.segments.slice(0,E);let O=0;for(;O<_.length;){const j=_[O];if(Mr(j)){const Fe=Ds(j.outlets);return new Je(b,Fe)}if(0===O&&Jn(_[0])){b.push(new Ke(v.segments[E].path,bo(_[0]))),O++;continue}const X=Mr(j)?j.outlets[Ft]:`${j}`,se=O<_.length-1?_[O+1]:null;X&&se&&Jn(se)?(b.push(new Ke(X,bo(se))),O+=2):(b.push(new Ke(X,{})),O++)}return new Je(b,{})}function Ds(v){const E={};return Jt(v,(_,b)=>{"string"==typeof _&&(_=[_]),null!==_&&(E[b]=us(new Je([],{}),0,_))}),E}function bo(v){const E={};return Jt(v,(_,b)=>E[b]=`${_}`),E}function Bn(v,E,_){return v==_.path&&In(E,_.parameters)}class ci{constructor(E,_){this.id=E,this.url=_}}class so extends ci{constructor(E,_,b="imperative",O=null){super(E,_),this.type=0,this.navigationTrigger=b,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class di extends ci{constructor(E,_,b){super(E,_),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bs extends ci{constructor(E,_,b,O){super(E,_),this.reason=b,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class oo extends ci{constructor(E,_,b,O){super(E,_),this.error=b,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rr extends ci{constructor(E,_,b,O){super(E,_),this.urlAfterRedirects=b,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ve extends ci{constructor(E,_,b,O){super(E,_),this.urlAfterRedirects=b,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class me extends ci{constructor(E,_,b,O,j){super(E,_),this.urlAfterRedirects=b,this.state=O,this.shouldActivate=j,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ae extends ci{constructor(E,_,b,O){super(E,_),this.urlAfterRedirects=b,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xe extends ci{constructor(E,_,b,O){super(E,_),this.urlAfterRedirects=b,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class et{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gt{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ht{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ht{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $o{constructor(E,_,b){this.routerEvent=E,this.position=_,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gi{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const _=this.pathFromRoot(E);return _.length>1?_[_.length-2]:null}children(E){const _=Xn(E,this._root);return _?_.children.map(b=>b.value):[]}firstChild(E){const _=Xn(E,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(E){const _=cn(E,this._root);return _.length<2?[]:_[_.length-2].children.map(O=>O.value).filter(O=>O!==E)}pathFromRoot(E){return cn(E,this._root).map(_=>_.value)}}function Xn(v,E){if(v===E.value)return E;for(const _ of E.children){const b=Xn(v,_);if(b)return b}return null}function cn(v,E){if(v===E.value)return[E];for(const _ of E.children){const b=cn(v,_);if(b.length)return b.unshift(E),b}return[]}class nr{constructor(E,_){this.value=E,this.children=_}toString(){return`TreeNode(${this.value})`}}function ao(v){const E={};return v&&v.children.forEach(_=>E[_.value.outlet]=_),E}class bi extends Gi{constructor(E,_){super(E),this.snapshot=_,Pi(this,E)}toString(){return this.snapshot.toString()}}function Dr(v,E){const _=function ds(v,E){const X=new Ti([],{},{},"",{},Ft,E,null,v.root,-1,{});return new Wo("",new nr(X,[]))}(v,E),b=new fe([new Ke("",{})]),O=new fe({}),j=new fe({}),X=new fe({}),se=new fe(""),Fe=new hi(b,O,X,se,j,Ft,E,_.root);return Fe.snapshot=_.root,new bi(new nr(Fe,[]),_)}class hi{constructor(E,_,b,O,j,X,se,Fe){this.url=E,this.params=_,this.queryParams=b,this.fragment=O,this.data=j,this.outlet=X,this.component=se,this.title=this.data?.pipe((0,$e.U)(ft=>ft[Sr]))??(0,B.of)(void 0),this._futureSnapshot=Fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(E=>ct(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(E=>ct(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lo(v,E="emptyOnly"){const _=v.pathFromRoot;let b=0;if("always"!==E)for(b=_.length-1;b>=1;){const O=_[b],j=_[b-1];if(O.routeConfig&&""===O.routeConfig.path)b--;else{if(j.component)break;b--}}return function To(v){return v.reduce((E,_)=>({params:{...E.params,..._.params},data:{...E.data,..._.data},resolve:{..._.data,...E.resolve,..._.routeConfig?.data,..._._resolvedData}}),{params:{},data:{},resolve:{}})}(_.slice(b))}class Ti{constructor(E,_,b,O,j,X,se,Fe,ft,tn,_t,Hn){this.url=E,this.params=_,this.queryParams=b,this.fragment=O,this.data=j,this.outlet=X,this.component=se,this.title=this.data?.[Sr],this.routeConfig=Fe,this._urlSegment=ft,this._lastPathIndex=tn,this._correctedLastPathIndex=Hn??tn,this._resolve=_t}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ct(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ct(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wo extends Gi{constructor(E,_){super(_),this.url=E,Pi(this,_)}toString(){return zi(this._root)}}function Pi(v,E){E.value._routerState=v,E.children.forEach(_=>Pi(v,_))}function zi(v){const E=v.children.length>0?` { ${v.children.map(zi).join(", ")} } `:"";return`${v.value}${E}`}function Gr(v){if(v.snapshot){const E=v.snapshot,_=v._futureSnapshot;v.snapshot=_,In(E.queryParams,_.queryParams)||v.queryParams.next(_.queryParams),E.fragment!==_.fragment&&v.fragment.next(_.fragment),In(E.params,_.params)||v.params.next(_.params),function wi(v,E){if(v.length!==E.length)return!1;for(let _=0;_<v.length;++_)if(!In(v[_],E[_]))return!1;return!0}(E.url,_.url)||v.url.next(_.url),In(E.data,_.data)||v.data.next(_.data)}else v.snapshot=v._futureSnapshot,v.data.next(v._futureSnapshot.data)}function Jr(v,E){const _=In(v.params,E.params)&&function It(v,E){return Lt(v,E)&&v.every((_,b)=>In(_.parameters,E[b].parameters))}(v.url,E.url);return _&&!(!v.parent!=!E.parent)&&(!v.parent||Jr(v.parent,E.parent))}function Hs(v,E,_){if(_&&v.shouldReuseRoute(E.value,_.value.snapshot)){const b=_.value;b._futureSnapshot=E.value;const O=function ai(v,E,_){return E.children.map(b=>{for(const O of _.children)if(v.shouldReuseRoute(b.value,O.value.snapshot))return Hs(v,b,O);return Hs(v,b)})}(v,E,_);return new nr(b,O)}{if(v.shouldAttach(E.value)){const j=v.retrieve(E.value);if(null!==j){const X=j.route;return X.value._futureSnapshot=E.value,X.children=E.children.map(se=>Hs(v,se)),X}}const b=function uo(v){return new hi(new fe(v.url),new fe(v.params),new fe(v.queryParams),new fe(v.fragment),new fe(v.data),v.outlet,v.component,v)}(E.value),O=E.children.map(j=>Hs(v,j));return new nr(b,O)}}const vn="ngNavigationCancelingError";function lr(v,E){const{redirectTo:_,navigationBehaviorOptions:b}=vr(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,O=Ts(!1,0,E);return O.url=_,O.navigationBehaviorOptions=b,O}function Ts(v,E,_){const b=new Error("NavigationCancelingError: "+(v||""));return b[vn]=!0,b.cancellationCode=E,_&&(b.url=_),b}function ua(v){return Cr(v)&&vr(v.url)}function Cr(v){return v&&v[vn]}class Ur{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Vr,this.attachRef=null}}let Vr=(()=>{class v{constructor(){this.contexts=new Map}onChildOutletCreated(_,b){const O=this.getOrCreateContext(_);O.outlet=b,this.contexts.set(_,O)}onChildOutletDestroyed(_){const b=this.getContext(_);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let b=this.getContext(_);return b||(b=new Ur,this.contexts.set(_,b)),b}getContext(_){return this.contexts.get(_)||null}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=w.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const hs=!1;let ur=(()=>{class v{constructor(_,b,O,j,X){this.parentContexts=_,this.location=b,this.changeDetector=j,this.environmentInjector=X,this.activated=null,this._activatedRoute=null,this.activateEvents=new w.vpe,this.deactivateEvents=new w.vpe,this.attachEvents=new w.vpe,this.detachEvents=new w.vpe,this.name=O||Ft,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w.vHH(4012,hs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w.vHH(4012,hs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w.vHH(4012,hs);this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,b){this.activated=_,this._activatedRoute=b,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,b){if(this.isActivated)throw new w.vHH(4013,hs);this._activatedRoute=_;const O=this.location,X=_._futureSnapshot.component,se=this.parentContexts.getOrCreateContext(this.name).children,Fe=new Fn(_,se,O.injector);if(b&&function So(v){return!!v.resolveComponentFactory}(b)){const ft=b.resolveComponentFactory(X);this.activated=O.createComponent(ft,O.length,Fe)}else this.activated=O.createComponent(X,{index:O.length,injector:Fe,environmentInjector:b??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return v.\u0275fac=function(_){return new(_||v)(w.Y36(Vr),w.Y36(w.s_b),w.$8M("name"),w.Y36(w.sBO),w.Y36(w.lqb))},v.\u0275dir=w.lG2({type:v,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),v})();class Fn{constructor(E,_,b){this.route=E,this.childContexts=_,this.parent=b}get(E,_){return E===hi?this.route:E===Vr?this.childContexts:this.parent.get(E,_)}}let Oi=(()=>{class v{}return v.\u0275fac=function(_){return new(_||v)},v.\u0275cmp=w.Xpm({type:v,selectors:[["ng-component"]],standalone:!0,features:[w.jDz],decls:1,vars:0,template:function(_,b){1&_&&w._UZ(0,"router-outlet")},dependencies:[ur],encapsulation:2}),v})();function Go(v,E){return v.providers&&!v._injector&&(v._injector=(0,w.MMx)(v.providers,E,`Route: ${v.path}`)),v._injector??E}function co(v){const E=v.children&&v.children.map(co),_=E?{...v,children:E}:{...v};return!_.component&&!_.loadComponent&&(E||_.loadChildren)&&_.outlet&&_.outlet!==Ft&&(_.component=Oi),_}function an(v){return v.outlet||Ft}function Zo(v,E){const _=v.filter(b=>an(b)===E);return _.push(...v.filter(b=>an(b)!==E)),_}function fs(v){if(!v)return null;if(v.routeConfig?._injector)return v.routeConfig._injector;for(let E=v.parent;E;E=E.parent){const _=E.routeConfig;if(_?._loadedInjector)return _._loadedInjector;if(_?._injector)return _._injector}return null}class En{constructor(E,_,b,O){this.routeReuseStrategy=E,this.futureState=_,this.currState=b,this.forwardEvent=O}activate(E){const _=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,b,E),Gr(this.futureState.root),this.activateChildRoutes(_,b,E)}deactivateChildRoutes(E,_,b){const O=ao(_);E.children.forEach(j=>{const X=j.value.outlet;this.deactivateRoutes(j,O[X],b),delete O[X]}),Jt(O,(j,X)=>{this.deactivateRouteAndItsChildren(j,b)})}deactivateRoutes(E,_,b){const O=E.value,j=_?_.value:null;if(O===j)if(O.component){const X=b.getContext(O.outlet);X&&this.deactivateChildRoutes(E,_,X.children)}else this.deactivateChildRoutes(E,_,b);else j&&this.deactivateRouteAndItsChildren(_,b)}deactivateRouteAndItsChildren(E,_){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,_):this.deactivateRouteAndOutlet(E,_)}detachAndStoreRouteSubtree(E,_){const b=_.getContext(E.value.outlet),O=b&&E.value.component?b.children:_,j=ao(E);for(const X of Object.keys(j))this.deactivateRouteAndItsChildren(j[X],O);if(b&&b.outlet){const X=b.outlet.detach(),se=b.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:X,route:E,contexts:se})}}deactivateRouteAndOutlet(E,_){const b=_.getContext(E.value.outlet),O=b&&E.value.component?b.children:_,j=ao(E);for(const X of Object.keys(j))this.deactivateRouteAndItsChildren(j[X],O);b&&b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated(),b.attachRef=null,b.resolver=null,b.route=null)}activateChildRoutes(E,_,b){const O=ao(_);E.children.forEach(j=>{this.activateRoutes(j,O[j.value.outlet],b),this.forwardEvent(new cs(j.value.snapshot))}),E.children.length&&this.forwardEvent(new tr(E.value.snapshot))}activateRoutes(E,_,b){const O=E.value,j=_?_.value:null;if(Gr(O),O===j)if(O.component){const X=b.getOrCreateContext(O.outlet);this.activateChildRoutes(E,_,X.children)}else this.activateChildRoutes(E,_,b);else if(O.component){const X=b.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const se=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),X.children.onOutletReAttached(se.contexts),X.attachRef=se.componentRef,X.route=se.route.value,X.outlet&&X.outlet.attach(se.componentRef,se.route.value),Gr(se.route.value),this.activateChildRoutes(E,null,X.children)}else{const se=fs(O.snapshot),Fe=se?.get(w._Vd)??null;X.attachRef=null,X.route=O,X.resolver=Fe,X.injector=se,X.outlet&&X.outlet.activateWith(O,X.injector),this.activateChildRoutes(E,null,X.children)}}else this.activateChildRoutes(E,null,b)}}class Ki{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class fi{constructor(E,_){this.component=E,this.route=_}}function cr(v,E,_){const b=v._root;return Pr(b,E?E._root:null,_,[b.value])}function pi(v,E){const _=Symbol(),b=E.get(v,_);return b===_?"function"!=typeof v||(0,w.Z0I)(v)?E.get(v):v:b}function Pr(v,E,_,b,O={canDeactivateChecks:[],canActivateChecks:[]}){const j=ao(E);return v.children.forEach(X=>{(function Mo(v,E,_,b,O={canDeactivateChecks:[],canActivateChecks:[]}){const j=v.value,X=E?E.value:null,se=_?_.getContext(v.value.outlet):null;if(X&&j.routeConfig===X.routeConfig){const Fe=function rr(v,E,_){if("function"==typeof _)return _(v,E);switch(_){case"pathParamsChange":return!Lt(v.url,E.url);case"pathParamsOrQueryParamsChange":return!Lt(v.url,E.url)||!In(v.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jr(v,E)||!In(v.queryParams,E.queryParams);default:return!Jr(v,E)}}(X,j,j.routeConfig.runGuardsAndResolvers);Fe?O.canActivateChecks.push(new Ki(b)):(j.data=X.data,j._resolvedData=X._resolvedData),Pr(v,E,j.component?se?se.children:null:_,b,O),Fe&&se&&se.outlet&&se.outlet.isActivated&&O.canDeactivateChecks.push(new fi(se.outlet.component,X))}else X&&ps(E,se,O),O.canActivateChecks.push(new Ki(b)),Pr(v,null,j.component?se?se.children:null:_,b,O)})(X,j[X.value.outlet],_,b.concat([X.value]),O),delete j[X.value.outlet]}),Jt(j,(X,se)=>ps(X,_.getContext(se),O)),O}function ps(v,E,_){const b=ao(v),O=v.value;Jt(b,(j,X)=>{ps(j,O.component?E?E.children.getContext(X):null:E,_)}),_.canDeactivateChecks.push(new fi(O.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,O))}function js(v){return"function"==typeof v}function Gs(v){return v instanceof Ie.K||"EmptyError"===v?.name}const ho=Symbol("INITIAL_VALUE");function gs(){return(0,st.w)(v=>Ve(v.map(E=>E.pipe((0,Ot.q)(1),function wn(...v){const E=(0,ie.yG)(v);return(0,ue.e)((_,b)=>{(E?Et(v,_,E):Et(v,_)).subscribe(b)})}(ho)))).pipe((0,$e.U)(E=>{for(const _ of E)if(!0!==_){if(_===ho)return ho;if(!1===_||_ instanceof er)return _}return!0}),(0,Bt.h)(E=>E!==ho),(0,Ot.q)(1)))}function mi(v){return(0,qe.z)((0,Zt.b)(E=>{if(vr(E))throw lr(0,E)}),(0,$e.U)(E=>!0===E))}const F={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function P(v,E,_,b,O){const j=G(v,E,_);return j.matched?function A(v,E,_,b){const O=E.canMatch;if(!O||0===O.length)return(0,B.of)(!0);const j=O.map(X=>{const se=pi(X,v);return Dt(function Ws(v){return v&&js(v.canMatch)}(se)?se.canMatch(E,_):v.runInContext(()=>se(E,_)))});return(0,B.of)(j).pipe(gs(),mi())}(b=Go(E,b),E,_).pipe((0,$e.U)(X=>!0===X?j:{...F})):(0,B.of)(j)}function G(v,E,_){if(""===E.path)return"full"===E.pathMatch&&(v.hasChildren()||_.length>0)?{...F}:{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const O=(E.matcher||Zn)(_,v,E);if(!O)return{...F};const j={};Jt(O.posParams,(se,Fe)=>{j[Fe]=se.path});const X=O.consumed.length>0?{...j,...O.consumed[O.consumed.length-1].parameters}:j;return{matched:!0,consumedSegments:O.consumed,remainingSegments:_.slice(O.consumed.length),parameters:X,positionalParamSegments:O.posParams??{}}}function re(v,E,_,b,O="corrected"){if(_.length>0&&function Tt(v,E,_){return _.some(b=>On(v,E,b)&&an(b)!==Ft)}(v,_,b)){const X=new Je(E,function Be(v,E,_,b){const O={};O[Ft]=b,b._sourceSegment=v,b._segmentIndexShift=E.length;for(const j of _)if(""===j.path&&an(j)!==Ft){const X=new Je([],{});X._sourceSegment=v,X._segmentIndexShift=E.length,O[an(j)]=X}return O}(v,E,b,new Je(_,v.children)));return X._sourceSegment=v,X._segmentIndexShift=E.length,{segmentGroup:X,slicedSegments:[]}}if(0===_.length&&function Ln(v,E,_){return _.some(b=>On(v,E,b))}(v,_,b)){const X=new Je(v.segments,function Oe(v,E,_,b,O,j){const X={};for(const se of b)if(On(v,_,se)&&!O[an(se)]){const Fe=new Je([],{});Fe._sourceSegment=v,Fe._segmentIndexShift="legacy"===j?v.segments.length:E.length,X[an(se)]=Fe}return{...O,...X}}(v,E,_,b,v.children,O));return X._sourceSegment=v,X._segmentIndexShift=E.length,{segmentGroup:X,slicedSegments:_}}const j=new Je(v.segments,v.children);return j._sourceSegment=v,j._segmentIndexShift=E.length,{segmentGroup:j,slicedSegments:_}}function On(v,E,_){return(!(v.hasChildren()||E.length>0)||"full"!==_.pathMatch)&&""===_.path}function Un(v,E,_,b){return!!(an(v)===b||b!==Ft&&On(E,_,v))&&("**"===v.path||G(E,v,_).matched)}function en(v,E,_){return 0===E.length&&!v.children[_]}const mr=!1;class Sn{constructor(E){this.segmentGroup=E||null}}class sr{constructor(E){this.urlTree=E}}function ei(v){return dt(new Sn(v))}function ti(v){return dt(new sr(v))}class Qi{constructor(E,_,b,O,j){this.injector=E,this.configLoader=_,this.urlSerializer=b,this.urlTree=O,this.config=j,this.allowRedirects=!0}apply(){const E=re(this.urlTree.root,[],[],this.config).segmentGroup,_=new Je(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,_,Ft).pipe((0,$e.U)(j=>this.createUrlTree(qn(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xt(j=>{if(j instanceof sr)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof Sn?this.noMatchError(j):j}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,Ft).pipe((0,$e.U)(O=>this.createUrlTree(qn(O),E.queryParams,E.fragment))).pipe(xt(O=>{throw O instanceof Sn?this.noMatchError(O):O}))}noMatchError(E){return new w.vHH(4002,mr)}createUrlTree(E,_,b){const O=Qt(E);return new er(O,_,b)}expandSegmentGroup(E,_,b,O){return 0===b.segments.length&&b.hasChildren()?this.expandChildren(E,_,b).pipe((0,$e.U)(j=>new Je([],j))):this.expandSegment(E,b,_,b.segments,O,!0)}expandChildren(E,_,b){const O=[];for(const j of Object.keys(b.children))"primary"===j?O.unshift(j):O.push(j);return(0,Z.D)(O).pipe(bn(j=>{const X=b.children[j],se=Zo(_,j);return this.expandSegmentGroup(E,se,X,j).pipe((0,$e.U)(Fe=>({segment:Fe,outlet:j})))}),(0,Qn.R)((j,X)=>(j[X.outlet]=X.segment,j),{}),hr())}expandSegment(E,_,b,O,j,X){return(0,Z.D)(b).pipe(bn(se=>this.expandSegmentAgainstRoute(E,_,b,se,O,j,X).pipe(xt(ft=>{if(ft instanceof Sn)return(0,B.of)(null);throw ft}))),(0,ln.P)(se=>!!se),xt((se,Fe)=>{if(Gs(se))return en(_,O,j)?(0,B.of)(new Je([],{})):ei(_);throw se}))}expandSegmentAgainstRoute(E,_,b,O,j,X,se){return Un(O,_,j,X)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(E,_,O,j,X):se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,_,b,O,j,X):ei(_):ei(_)}expandSegmentAgainstRouteUsingRedirect(E,_,b,O,j,X){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,b,O,X):this.expandRegularSegmentAgainstRouteUsingRedirect(E,_,b,O,j,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,_,b,O){const j=this.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?ti(j):this.lineralizeSegments(b,j).pipe((0,ut.z)(X=>{const se=new Je(X,{});return this.expandSegment(E,se,_,X,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,_,b,O,j,X){const{matched:se,consumedSegments:Fe,remainingSegments:ft,positionalParamSegments:tn}=G(_,O,j);if(!se)return ei(_);const _t=this.applyRedirectCommands(Fe,O.redirectTo,tn);return O.redirectTo.startsWith("/")?ti(_t):this.lineralizeSegments(O,_t).pipe((0,ut.z)(Hn=>this.expandSegment(E,_,b,Hn.concat(ft),X,!1)))}matchSegmentAgainstRoute(E,_,b,O,j){return"**"===b.path?(E=Go(b,E),b.loadChildren?(b._loadedRoutes?(0,B.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):this.configLoader.loadChildren(E,b)).pipe((0,$e.U)(se=>(b._loadedRoutes=se.routes,b._loadedInjector=se.injector,new Je(O,{})))):(0,B.of)(new Je(O,{}))):P(_,b,O,E).pipe((0,st.w)(({matched:X,consumedSegments:se,remainingSegments:Fe})=>X?this.getChildConfig(E=b._injector??E,b,O).pipe((0,ut.z)(tn=>{const _t=tn.injector??E,Hn=tn.routes,{segmentGroup:ii,slicedSegments:li}=re(_,se,Fe,Hn),Fs=new Je(ii.segments,ii.children);if(0===li.length&&Fs.hasChildren())return this.expandChildren(_t,Hn,Fs).pipe((0,$e.U)(Ls=>new Je(se,Ls)));if(0===Hn.length&&0===li.length)return(0,B.of)(new Je(se,{}));const Or=an(b)===j;return this.expandSegment(_t,Fs,Hn,li,Or?Ft:j,!0).pipe((0,$e.U)(Es=>new Je(se.concat(Es.segments),Es.children)))})):ei(_)))}getChildConfig(E,_,b){return _.children?(0,B.of)({routes:_.children,injector:E}):_.loadChildren?void 0!==_._loadedRoutes?(0,B.of)({routes:_._loadedRoutes,injector:_._loadedInjector}):function Yo(v,E,_,b){const O=E.canLoad;if(void 0===O||0===O.length)return(0,B.of)(!0);const j=O.map(X=>{const se=pi(X,v);return Dt(function Ro(v){return v&&js(v.canLoad)}(se)?se.canLoad(E,_):v.runInContext(()=>se(E,_)))});return(0,B.of)(j).pipe(gs(),mi())}(E,_,b).pipe((0,ut.z)(O=>O?this.configLoader.loadChildren(E,_).pipe((0,Zt.b)(j=>{_._loadedRoutes=j.routes,_._loadedInjector=j.injector})):function Ni(v){return dt(Ts(mr,3))}())):(0,B.of)({routes:[],injector:E})}lineralizeSegments(E,_){let b=[],O=_.root;for(;;){if(b=b.concat(O.segments),0===O.numberOfChildren)return(0,B.of)(b);if(O.numberOfChildren>1||!O.children[Ft])return dt(new w.vHH(4e3,mr));O=O.children[Ft]}}applyRedirectCommands(E,_,b){return this.applyRedirectCreateUrlTree(_,this.urlSerializer.parse(_),E,b)}applyRedirectCreateUrlTree(E,_,b,O){const j=this.createSegmentGroup(E,_.root,b,O);return new er(j,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(E,_){const b={};return Jt(E,(O,j)=>{if("string"==typeof O&&O.startsWith(":")){const se=O.substring(1);b[j]=_[se]}else b[j]=O}),b}createSegmentGroup(E,_,b,O){const j=this.createSegments(E,_.segments,b,O);let X={};return Jt(_.children,(se,Fe)=>{X[Fe]=this.createSegmentGroup(E,se,b,O)}),new Je(j,X)}createSegments(E,_,b,O){return _.map(j=>j.path.startsWith(":")?this.findPosParam(E,j,O):this.findOrReturn(j,b))}findPosParam(E,_,b){const O=b[_.path.substring(1)];if(!O)throw new w.vHH(4001,mr);return O}findOrReturn(E,_){let b=0;for(const O of _){if(O.path===E.path)return _.splice(b),O;b++}return E}}class br{}class Qo{constructor(E,_,b,O,j,X,se,Fe){this.injector=E,this.rootComponentType=_,this.config=b,this.urlTree=O,this.url=j,this.paramsInheritanceStrategy=X,this.relativeLinkResolution=se,this.urlSerializer=Fe}recognize(){const E=re(this.urlTree.root,[],[],this.config.filter(_=>void 0===_.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,Ft).pipe((0,$e.U)(_=>{if(null===_)return null;const b=new Ti([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new nr(b,_),j=new Wo(this.url,O);return this.inheritParamsAndData(j._root),j}))}inheritParamsAndData(E){const _=E.value,b=lo(_,this.paramsInheritanceStrategy);_.params=Object.freeze(b.params),_.data=Object.freeze(b.data),E.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(E,_,b,O){return 0===b.segments.length&&b.hasChildren()?this.processChildren(E,_,b):this.processSegment(E,_,b,b.segments,O)}processChildren(E,_,b){return(0,Z.D)(Object.keys(b.children)).pipe(bn(O=>{const j=b.children[O],X=Zo(_,O);return this.processSegmentGroup(E,X,j,O)}),(0,Qn.R)((O,j)=>O&&j?(O.push(...j),O):null),function _r(v,E=!1){return(0,ue.e)((_,b)=>{let O=0;_.subscribe((0,it.x)(b,j=>{const X=v(j,O++);(X||E)&&b.next(j),!X&&b.complete()}))})}(O=>null!==O),(0,_n.d)(null),hr(),(0,$e.U)(O=>{if(null===O)return null;const j=_s(O);return function pa(v){v.sort((E,_)=>E.value.outlet===Ft?-1:_.value.outlet===Ft?1:E.value.outlet.localeCompare(_.value.outlet))}(j),j}))}processSegment(E,_,b,O,j){return(0,Z.D)(_).pipe(bn(X=>this.processSegmentAgainstRoute(X._injector??E,X,b,O,j)),(0,ln.P)(X=>!!X),xt(X=>{if(Gs(X))return en(b,O,j)?(0,B.of)([]):(0,B.of)(null);throw X}))}processSegmentAgainstRoute(E,_,b,O,j){if(_.redirectTo||!Un(_,b,O,j))return(0,B.of)(null);let X;if("**"===_.path){const se=O.length>0?on(O).parameters:{},Fe=Hr(b)+O.length,ft=new Ti(O,se,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zr(_),an(_),_.component??_._loadedComponent??null,_,fn(b),Fe,ga(_),Fe);X=(0,B.of)({snapshot:ft,consumedSegments:[],remainingSegments:[]})}else X=P(b,_,O,E).pipe((0,$e.U)(({matched:se,consumedSegments:Fe,remainingSegments:ft,parameters:tn})=>{if(!se)return null;const _t=Hr(b)+Fe.length;return{snapshot:new Ti(Fe,tn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Zr(_),an(_),_.component??_._loadedComponent??null,_,fn(b),_t,ga(_),_t),consumedSegments:Fe,remainingSegments:ft}}));return X.pipe((0,st.w)(se=>{if(null===se)return(0,B.of)(null);const{snapshot:Fe,consumedSegments:ft,remainingSegments:tn}=se;E=_._injector??E;const _t=_._loadedInjector??E,Hn=function Ms(v){return v.children?v.children:v.loadChildren?v._loadedRoutes:[]}(_),{segmentGroup:ii,slicedSegments:li}=re(b,ft,tn,Hn.filter(Or=>void 0===Or.redirectTo),this.relativeLinkResolution);if(0===li.length&&ii.hasChildren())return this.processChildren(_t,Hn,ii).pipe((0,$e.U)(Or=>null===Or?null:[new nr(Fe,Or)]));if(0===Hn.length&&0===li.length)return(0,B.of)([new nr(Fe,[])]);const Fs=an(_)===j;return this.processSegment(_t,Hn,ii,li,Fs?Ft:j).pipe((0,$e.U)(Or=>null===Or?null:[new nr(Fe,Or)]))}))}}function ms(v){const E=v.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function _s(v){const E=[],_=new Set;for(const b of v){if(!ms(b)){E.push(b);continue}const O=E.find(j=>b.value.routeConfig===j.value.routeConfig);void 0!==O?(O.children.push(...b.children),_.add(O)):E.push(b)}for(const b of _){const O=_s(b.children);E.push(new nr(b.value,O))}return E.filter(b=>!_.has(b))}function fn(v){let E=v;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Hr(v){let E=v,_=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,_+=E._segmentIndexShift??0;return _-1}function Zr(v){return v.data||{}}function ga(v){return v.resolve||{}}function xr(v){return"string"==typeof v.title||null===v.title}function yi(v){return(0,st.w)(E=>{const _=v(E);return _?(0,Z.D)(_).pipe((0,$e.U)(()=>E)):(0,B.of)(E)})}let Sa=(()=>{class v{buildTitle(_){let b,O=_.root;for(;void 0!==O;)b=this.getResolvedTitleForRoute(O)??b,O=O.children.find(j=>j.outlet===Ft);return b}getResolvedTitleForRoute(_){return _.data[Sr]}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=w.Yz7({token:v,factory:function(){return(0,w.f3M)(xo)},providedIn:"root"}),v})(),xo=(()=>{class v extends Sa{constructor(_){super(),this.title=_}updateTitle(_){const b=this.buildTitle(_);void 0!==b&&this.title.setTitle(b)}}return v.\u0275fac=function(_){return new(_||v)(w.LFG(Gn.Dx))},v.\u0275prov=w.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class Qa{}class Jo extends class Ga{shouldDetach(E){return!1}store(E,_){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,_){return E.routeConfig===_.routeConfig}}{}const es=new w.OlP("",{providedIn:"root",factory:()=>({})}),Ps=new w.OlP("ROUTES");let No=(()=>{class v{constructor(_,b){this.injector=_,this.compiler=b,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(_){if(this.componentLoaders.get(_))return this.componentLoaders.get(_);if(_._loadedComponent)return(0,B.of)(_._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(_);const b=Dt(_.loadComponent()).pipe((0,Zt.b)(j=>{this.onLoadEndListener&&this.onLoadEndListener(_),_._loadedComponent=j}),(0,xn.x)(()=>{this.componentLoaders.delete(_)})),O=new Re(b,()=>new T.x).pipe(_e());return this.componentLoaders.set(_,O),O}loadChildren(_,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,B.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const j=this.loadModuleFactoryOrRoutes(b.loadChildren).pipe((0,$e.U)(se=>{this.onLoadEndListener&&this.onLoadEndListener(b);let Fe,ft,tn=!1;Array.isArray(se)?ft=se:(Fe=se.create(_).injector,ft=$r(Fe.get(Ps,[],w.XFs.Self|w.XFs.Optional)));return{routes:ft.map(co),injector:Fe}}),(0,xn.x)(()=>{this.childrenLoaders.delete(b)})),X=new Re(j,()=>new T.x).pipe(_e());return this.childrenLoaders.set(b,X),X}loadModuleFactoryOrRoutes(_){return Dt(_()).pipe((0,ut.z)(b=>b instanceof w.YKP||Array.isArray(b)?(0,B.of)(b):(0,Z.D)(this.compiler.compileModuleAsync(b))))}}return v.\u0275fac=function(_){return new(_||v)(w.LFG(w.zs3),w.LFG(w.Sil))},v.\u0275prov=w.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();class _a{}class Os{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,_){return E}}function _o(v){throw v}function vs(v,E,_){return E.parse("/")}const xs={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ns={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Aa(){const v=(0,w.f3M)(Xt),E=(0,w.f3M)(Vr),_=(0,w.f3M)(De.Ye),b=(0,w.f3M)(w.zs3),O=(0,w.f3M)(w.Sil),j=(0,w.f3M)(Ps,{optional:!0})??[],X=(0,w.f3M)(es,{optional:!0})??{},se=(0,w.f3M)(xo),Fe=(0,w.f3M)(Sa,{optional:!0}),ft=(0,w.f3M)(_a,{optional:!0}),tn=(0,w.f3M)(Qa,{optional:!0}),_t=new gr(null,v,E,_,b,O,$r(j));return ft&&(_t.urlHandlingStrategy=ft),tn&&(_t.routeReuseStrategy=tn),_t.titleStrategy=Fe??se,function ko(v,E){v.errorHandler&&(E.errorHandler=v.errorHandler),v.malformedUriErrorHandler&&(E.malformedUriErrorHandler=v.malformedUriErrorHandler),v.onSameUrlNavigation&&(E.onSameUrlNavigation=v.onSameUrlNavigation),v.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=v.paramsInheritanceStrategy),v.relativeLinkResolution&&(E.relativeLinkResolution=v.relativeLinkResolution),v.urlUpdateStrategy&&(E.urlUpdateStrategy=v.urlUpdateStrategy),v.canceledNavigationResolution&&(E.canceledNavigationResolution=v.canceledNavigationResolution)}(X,_t),_t}let gr=(()=>{class v{constructor(_,b,O,j,X,se,Fe){this.rootComponentType=_,this.urlSerializer=b,this.rootContexts=O,this.location=j,this.config=Fe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new T.x,this.errorHandler=_o,this.malformedUriErrorHandler=vs,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,B.of)(void 0),this.urlHandlingStrategy=new Os,this.routeReuseStrategy=new Jo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=X.get(No),this.configLoader.onLoadEndListener=Hn=>this.triggerEvent(new gt(Hn)),this.configLoader.onLoadStartListener=Hn=>this.triggerEvent(new et(Hn)),this.ngModule=X.get(w.h0i),this.console=X.get(w.c2e);const _t=X.get(w.R0b);this.isNgZoneEnabled=_t instanceof w.R0b&&w.R0b.isInAngularZone(),this.resetConfig(Fe),this.currentUrlTree=function kn(){return new er(new Je([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Dr(this.currentUrlTree,this.rootComponentType),this.transitions=new fe({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(_){const b=this.events;return _.pipe((0,Bt.h)(O=>0!==O.id),(0,$e.U)(O=>({...O,extractedUrl:this.urlHandlingStrategy.extract(O.rawUrl)})),(0,st.w)(O=>{let j=!1,X=!1;return(0,B.of)(O).pipe((0,Zt.b)(se=>{this.currentNavigation={id:se.id,initialUrl:se.rawUrl,extractedUrl:se.extractedUrl,trigger:se.source,extras:se.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,st.w)(se=>{const Fe=this.browserUrlTree.toString(),ft=!this.navigated||se.extractedUrl.toString()!==Fe||Fe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||ft)&&this.urlHandlingStrategy.shouldProcessUrl(se.rawUrl))return Fo(se.source)&&(this.browserUrlTree=se.extractedUrl),(0,B.of)(se).pipe((0,st.w)(_t=>{const Hn=this.transitions.getValue();return b.next(new so(_t.id,this.serializeUrl(_t.extractedUrl),_t.source,_t.restoredState)),Hn!==this.transitions.getValue()?oe.E:Promise.resolve(_t)}),function Ji(v,E,_,b){return(0,st.w)(O=>function Br(v,E,_,b,O){return new Qi(v,E,_,b,O).apply()}(v,E,_,O.extractedUrl,b).pipe((0,$e.U)(j=>({...O,urlAfterRedirects:j}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zt.b)(_t=>{this.currentNavigation={...this.currentNavigation,finalUrl:_t.urlAfterRedirects},O.urlAfterRedirects=_t.urlAfterRedirects}),function Zs(v,E,_,b,O,j){return(0,ut.z)(X=>function fa(v,E,_,b,O,j,X="emptyOnly",se="legacy"){return new Qo(v,E,_,b,O,X,se,j).recognize().pipe((0,st.w)(Fe=>null===Fe?function ha(v){return new be.y(E=>E.error(v))}(new br):(0,B.of)(Fe)))}(v,E,_,X.urlAfterRedirects,b.serialize(X.urlAfterRedirects),b,O,j).pipe((0,$e.U)(se=>({...X,targetSnapshot:se}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zt.b)(_t=>{if(O.targetSnapshot=_t.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!_t.extras.skipLocationChange){const ii=this.urlHandlingStrategy.merge(_t.urlAfterRedirects,_t.rawUrl);this.setBrowserUrl(ii,_t)}this.browserUrlTree=_t.urlAfterRedirects}const Hn=new Rr(_t.id,this.serializeUrl(_t.extractedUrl),this.serializeUrl(_t.urlAfterRedirects),_t.targetSnapshot);b.next(Hn)}));if(ft&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Hn,extractedUrl:ii,source:li,restoredState:Fs,extras:Or}=se,Ea=new so(Hn,this.serializeUrl(ii),li,Fs);b.next(Ea);const Es=Dr(ii,this.rootComponentType).snapshot;return O={...se,targetSnapshot:Es,urlAfterRedirects:ii,extras:{...Or,skipLocationChange:!1,replaceUrl:!1}},(0,B.of)(O)}return this.rawUrlTree=se.rawUrl,se.resolve(null),oe.E}),(0,Zt.b)(se=>{const Fe=new ve(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot);this.triggerEvent(Fe)}),(0,$e.U)(se=>O={...se,guards:cr(se.targetSnapshot,se.currentSnapshot,this.rootContexts)}),function Yi(v,E){return(0,ut.z)(_=>{const{targetSnapshot:b,currentSnapshot:O,guards:{canActivateChecks:j,canDeactivateChecks:X}}=_;return 0===X.length&&0===j.length?(0,B.of)({..._,guardsResult:!0}):function gi(v,E,_,b){return(0,Z.D)(v).pipe((0,ut.z)(O=>function As(v,E,_,b,O){const j=E&&E.routeConfig?E.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,B.of)(!0);const X=j.map(se=>{const Fe=fs(E)??O,ft=pi(se,Fe);return Dt(function $s(v){return v&&js(v.canDeactivate)}(ft)?ft.canDeactivate(v,E,_,b):Fe.runInContext(()=>ft(v,E,_,b))).pipe((0,ln.P)())});return(0,B.of)(X).pipe(gs())}(O.component,O.route,_,E,b)),(0,ln.P)(O=>!0!==O,!0))}(X,b,O,v).pipe((0,ut.z)(se=>se&&function da(v){return"boolean"==typeof v}(se)?function Po(v,E,_,b){return(0,Z.D)(E).pipe(bn(O=>Et(function Oo(v,E){return null!==v&&E&&E(new ht(v)),(0,B.of)(!0)}(O.route.parent,b),function fo(v,E){return null!==v&&E&&E(new Ht(v)),(0,B.of)(!0)}(O.route,b),function zs(v,E,_){const b=E[E.length-1],j=E.slice(0,E.length-1).reverse().map(X=>function nn(v){const E=v.routeConfig?v.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:v,guards:E}:null}(X)).filter(X=>null!==X).map(X=>je(()=>{const se=X.guards.map(Fe=>{const ft=fs(X.node)??_,tn=pi(Fe,ft);return Dt(function Xr(v){return v&&js(v.canActivateChild)}(tn)?tn.canActivateChild(b,v):ft.runInContext(()=>tn(b,v))).pipe((0,ln.P)())});return(0,B.of)(se).pipe(gs())}));return(0,B.of)(j).pipe(gs())}(v,O.path,_),function qo(v,E,_){const b=E.routeConfig?E.routeConfig.canActivate:null;if(!b||0===b.length)return(0,B.of)(!0);const O=b.map(j=>je(()=>{const X=fs(E)??_,se=pi(j,X);return Dt(function dr(v){return v&&js(v.canActivate)}(se)?se.canActivate(E,v):X.runInContext(()=>se(E,v))).pipe((0,ln.P)())}));return(0,B.of)(O).pipe(gs())}(v,O.route,_))),(0,ln.P)(O=>!0!==O,!0))}(b,j,v,E):(0,B.of)(se)),(0,$e.U)(se=>({..._,guardsResult:se})))})}(this.ngModule.injector,se=>this.triggerEvent(se)),(0,Zt.b)(se=>{if(O.guardsResult=se.guardsResult,vr(se.guardsResult))throw lr(0,se.guardsResult);const Fe=new me(se.id,this.serializeUrl(se.extractedUrl),this.serializeUrl(se.urlAfterRedirects),se.targetSnapshot,!!se.guardsResult);this.triggerEvent(Fe)}),(0,Bt.h)(se=>!!se.guardsResult||(this.restoreHistory(se),this.cancelNavigationTransition(se,"",3),!1)),yi(se=>{if(se.guards.canActivateChecks.length)return(0,B.of)(se).pipe((0,Zt.b)(Fe=>{const ft=new Ae(Fe.id,this.serializeUrl(Fe.extractedUrl),this.serializeUrl(Fe.urlAfterRedirects),Fe.targetSnapshot);this.triggerEvent(ft)}),(0,st.w)(Fe=>{let ft=!1;return(0,B.of)(Fe).pipe(function _i(v,E){return(0,ut.z)(_=>{const{targetSnapshot:b,guards:{canActivateChecks:O}}=_;if(!O.length)return(0,B.of)(_);let j=0;return(0,Z.D)(O).pipe(bn(X=>function go(v,E,_,b){const O=v.routeConfig,j=v._resolve;return void 0!==O?.title&&!xr(O)&&(j[Sr]=O.title),function Rs(v,E,_,b){const O=function mo(v){return[...Object.keys(v),...Object.getOwnPropertySymbols(v)]}(v);if(0===O.length)return(0,B.of)({});const j={};return(0,Z.D)(O).pipe((0,ut.z)(X=>function ys(v,E,_,b){const O=fs(E)??b,j=pi(v,O);return Dt(j.resolve?j.resolve(E,_):O.runInContext(()=>j(E,_)))}(v[X],E,_,b).pipe((0,ln.P)(),(0,Zt.b)(se=>{j[X]=se}))),Kt(1),function $n(v){return(0,$e.U)(()=>v)}(j),xt(X=>Gs(X)?oe.E:dt(X)))}(j,v,E,b).pipe((0,$e.U)(X=>(v._resolvedData=X,v.data=lo(v,_).resolve,O&&xr(O)&&(v.data[Sr]=O.title),null)))}(X.route,b,v,E)),(0,Zt.b)(()=>j++),Kt(1),(0,ut.z)(X=>j===O.length?(0,B.of)(_):oe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zt.b)({next:()=>ft=!0,complete:()=>{ft||(this.restoreHistory(Fe),this.cancelNavigationTransition(Fe,"",2))}}))}),(0,Zt.b)(Fe=>{const ft=new Xe(Fe.id,this.serializeUrl(Fe.extractedUrl),this.serializeUrl(Fe.urlAfterRedirects),Fe.targetSnapshot);this.triggerEvent(ft)}))}),yi(se=>{const Fe=ft=>{const tn=[];ft.routeConfig?.loadComponent&&!ft.routeConfig._loadedComponent&&tn.push(this.configLoader.loadComponent(ft.routeConfig).pipe((0,Zt.b)(_t=>{ft.component=_t}),(0,$e.U)(()=>{})));for(const _t of ft.children)tn.push(...Fe(_t));return tn};return Ve(Fe(se.targetSnapshot.root)).pipe((0,_n.d)(),(0,Ot.q)(1))}),yi(()=>this.afterPreactivation()),(0,$e.U)(se=>{const Fe=function Bs(v,E,_){const b=Hs(v,E._root,_?_._root:void 0);return new bi(b,E)}(this.routeReuseStrategy,se.targetSnapshot,se.currentRouterState);return O={...se,targetRouterState:Fe}}),(0,Zt.b)(se=>{this.currentUrlTree=se.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(se.urlAfterRedirects,se.rawUrl),this.routerState=se.targetRouterState,"deferred"===this.urlUpdateStrategy&&(se.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,se),this.browserUrlTree=se.urlAfterRedirects)}),((v,E,_)=>(0,$e.U)(b=>(new En(E,b.targetRouterState,b.currentRouterState,_).activate(v),b)))(this.rootContexts,this.routeReuseStrategy,se=>this.triggerEvent(se)),(0,Zt.b)({next(){j=!0},complete(){j=!0}}),(0,xn.x)(()=>{j||X||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),xt(se=>{if(X=!0,Cr(se)){ua(se)||(this.navigated=!0,this.restoreHistory(O,!0));const Fe=new bs(O.id,this.serializeUrl(O.extractedUrl),se.message,se.cancellationCode);if(b.next(Fe),ua(se)){const ft=this.urlHandlingStrategy.merge(se.url,this.rawUrlTree),tn={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Fo(O.source)};this.scheduleNavigation(ft,"imperative",null,tn,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{this.restoreHistory(O,!0);const Fe=new oo(O.id,this.serializeUrl(O.extractedUrl),se,O.targetSnapshot??void 0);b.next(Fe);try{O.resolve(this.errorHandler(se))}catch(ft){O.reject(ft)}}return oe.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next({...this.transitions.value,..._})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const b="popstate"===_.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{const O={replaceUrl:!0},j=_.state?.navigationId?_.state:null;if(j){const se={...j};delete se.navigationId,delete se.\u0275routerPageId,0!==Object.keys(se).length&&(O.state=se)}const X=this.parseUrl(_.url);this.scheduleNavigation(X,b,j,O)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){this.config=_.map(co),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,b={}){const{relativeTo:O,queryParams:j,fragment:X,queryParamsHandling:se,preserveFragment:Fe}=b,ft=O||this.routerState.root,tn=Fe?this.currentUrlTree.fragment:X;let _t=null;switch(se){case"merge":_t={...this.currentUrlTree.queryParams,...j};break;case"preserve":_t=this.currentUrlTree.queryParams;break;default:_t=j||null}return null!==_t&&(_t=this.removeEmptyProps(_t)),Er(ft,this.currentUrlTree,_,_t,tn??null)}navigateByUrl(_,b={skipLocationChange:!1}){const O=vr(_)?_:this.parseUrl(_),j=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(j,"imperative",null,b)}navigate(_,b={skipLocationChange:!1}){return function yo(v){for(let E=0;E<v.length;E++){if(null==v[E])throw new w.vHH(4008,false)}}(_),this.navigateByUrl(this.createUrlTree(_,b),b)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let b;try{b=this.urlSerializer.parse(_)}catch(O){b=this.malformedUriErrorHandler(O,this.urlSerializer,_)}return b}isActive(_,b){let O;if(O=!0===b?{...xs}:!1===b?{...Ns}:b,vr(_))return Ir(this.currentUrlTree,_,O);const j=this.parseUrl(_);return Ir(this.currentUrlTree,j,O)}removeEmptyProps(_){return Object.keys(_).reduce((b,O)=>{const j=_[O];return null!=j&&(b[O]=j),b},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new di(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,b,O,j,X){if(this.disposed)return Promise.resolve(!1);let se,Fe,ft;X?(se=X.resolve,Fe=X.reject,ft=X.promise):ft=new Promise((Hn,ii)=>{se=Hn,Fe=ii});const tn=++this.navigationId;let _t;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(O=this.location.getState()),_t=O&&O.\u0275routerPageId?O.\u0275routerPageId:j.replaceUrl||j.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):_t=0,this.setTransition({id:tn,targetPageId:_t,source:b,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:j,resolve:se,reject:Fe,promise:ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ft.catch(Hn=>Promise.reject(Hn))}setBrowserUrl(_,b){const O=this.urlSerializer.serialize(_),j={...b.extras.state,...this.generateNgRouterState(b.id,b.targetPageId)};this.location.isCurrentPathEqualTo(O)||b.extras.replaceUrl?this.location.replaceState(O,"",j):this.location.go(O,"",j)}restoreHistory(_,b=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===O?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===O&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(O)}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,b,O){const j=new bs(_.id,this.serializeUrl(_.extractedUrl),b,O);this.triggerEvent(j),_.resolve(!1)}generateNgRouterState(_,b){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:b}:{navigationId:_}}}return v.\u0275fac=function(_){w.$Z()},v.\u0275prov=w.Yz7({token:v,factory:function(){return Aa()},providedIn:"root"}),v})();function Fo(v){return"imperative"!==v}let Xo=(()=>{class v{constructor(_,b,O,j,X){this.router=_,this.route=b,this.tabIndexAttribute=O,this.renderer=j,this.el=X,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new T.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(_){this._preserveFragment=(0,w.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,w.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,w.D6c)(_)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(_){if(null!=this.tabIndexAttribute)return;const b=this.renderer,O=this.el.nativeElement;null!==_?b.setAttribute(O,"tabindex",_):b.removeAttribute(O,"tabindex")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(_){return new(_||v)(w.Y36(gr),w.Y36(hi),w.$8M("tabindex"),w.Y36(w.Qsj),w.Y36(w.SBq))},v.\u0275dir=w.lG2({type:v,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,b){1&_&&w.NdJ("click",function(){return b.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),v})(),Kr=(()=>{class v{constructor(_,b,O){this.router=_,this.route=b,this.locationStrategy=O,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new T.x,this.subscription=_.events.subscribe(j=>{j instanceof di&&this.updateTargetUrlAndHref()})}set preserveFragment(_){this._preserveFragment=(0,w.D6c)(_)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(_){this._skipLocationChange=(0,w.D6c)(_)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(_){this._replaceUrl=(0,w.D6c)(_)}get replaceUrl(){return this._replaceUrl}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,b,O,j,X){return!!(0!==_||b||O||j||X||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return v.\u0275fac=function(_){return new(_||v)(w.Y36(gr),w.Y36(hi),w.Y36(De.S$))},v.\u0275dir=w.lG2({type:v,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,b){1&_&&w.NdJ("click",function(j){return b.onClick(j.button,j.ctrlKey,j.shiftKey,j.altKey,j.metaKey)}),2&_&&w.uIk("target",b.target)("href",b.href,w.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[w.TTD]}),v})(),ks=(()=>{class v{constructor(_,b,O,j,X,se){this.router=_,this.element=b,this.renderer=O,this.cdr=j,this.link=X,this.linkWithHref=se,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new w.vpe,this.routerEventsSubscription=_.events.subscribe(Fe=>{Fe instanceof di&&this.update()})}ngAfterContentInit(){(0,B.of)(this.links.changes,this.linksWithHrefs.changes,(0,B.of)(null)).pipe((0,Me.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const _=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(b=>!!b).map(b=>b.onChanges);this.linkInputChangesSubscription=(0,Z.D)(_).pipe((0,Me.J)()).subscribe(b=>{this.isActive!==this.isLinkActive(this.router)(b)&&this.update()})}set routerLinkActive(_){const b=Array.isArray(_)?_:_.split(" ");this.classes=b.filter(O=>!!O)}ngOnChanges(_){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const _=this.hasActiveLinks();this.isActive!==_&&(this.isActive=_,this.cdr.markForCheck(),this.classes.forEach(b=>{_?this.renderer.addClass(this.element.nativeElement,b):this.renderer.removeClass(this.element.nativeElement,b)}),_&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(_))})}isLinkActive(_){const b=function vo(v){return!!v.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return O=>!!O.urlTree&&_.isActive(O.urlTree,b)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.linkWithHref&&_(this.linkWithHref)||this.links.some(_)||this.linksWithHrefs.some(_)}}return v.\u0275fac=function(_){return new(_||v)(w.Y36(gr),w.Y36(w.SBq),w.Y36(w.Qsj),w.Y36(w.sBO),w.Y36(Xo,8),w.Y36(Kr,8))},v.\u0275dir=w.lG2({type:v,selectors:[["","routerLinkActive",""]],contentQueries:function(_,b,O){if(1&_&&(w.Suo(O,Xo,5),w.Suo(O,Kr,5)),2&_){let j;w.iGM(j=w.CRH())&&(b.links=j),w.iGM(j=w.CRH())&&(b.linksWithHrefs=j)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[w.TTD]}),v})();class Lo{}let Ma=(()=>{class v{preload(_,b){return b().pipe(xt(()=>(0,B.of)(null)))}}return v.\u0275fac=function(_){return new(_||v)},v.\u0275prov=w.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})(),ts=(()=>{class v{constructor(_,b,O,j,X){this.router=_,this.injector=O,this.preloadingStrategy=j,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,Bt.h)(_=>_ instanceof di),bn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,b){const O=[];for(const j of b){j.providers&&!j._injector&&(j._injector=(0,w.MMx)(j.providers,_,`Route: ${j.path}`));const X=j._injector??_,se=j._loadedInjector??X;j.loadChildren&&!j._loadedRoutes&&void 0===j.canLoad||j.loadComponent&&!j._loadedComponent?O.push(this.preloadConfig(X,j)):(j.children||j._loadedRoutes)&&O.push(this.processRoutes(se,j.children??j._loadedRoutes))}return(0,Z.D)(O).pipe((0,Me.J)())}preloadConfig(_,b){return this.preloadingStrategy.preload(b,()=>{let O;O=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(_,b):(0,B.of)(null);const j=O.pipe((0,ut.z)(X=>null===X?(0,B.of)(void 0):(b._loadedRoutes=X.routes,b._loadedInjector=X.injector,this.processRoutes(X.injector??_,X.routes))));if(b.loadComponent&&!b._loadedComponent){const X=this.loader.loadComponent(b);return(0,Z.D)([j,X]).pipe((0,Me.J)())}return j})}}return v.\u0275fac=function(_){return new(_||v)(w.LFG(gr),w.LFG(w.Sil),w.LFG(w.lqb),w.LFG(Lo),w.LFG(No))},v.\u0275prov=w.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();const ns=new w.OlP("");let Wn=(()=>{class v{constructor(_,b,O={}){this.router=_,this.viewportScroller=b,this.options=O,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},O.scrollPositionRestoration=O.scrollPositionRestoration||"disabled",O.anchorScrolling=O.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof so?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof di&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof $o&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,b){this.router.triggerEvent(new $o(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return v.\u0275fac=function(_){w.$Z()},v.\u0275prov=w.Yz7({token:v,factory:v.\u0275fac}),v})();function ea(v,E){return{\u0275kind:v,\u0275providers:E}}function Ra(v){return[{provide:Ps,multi:!0,useValue:v}]}function Rl(){const v=(0,w.f3M)(w.zs3);return E=>{const _=v.get(w.z2F);if(E!==_.components[0])return;const b=v.get(gr),O=v.get(ta);1===v.get(el)&&b.initialNavigation(),v.get(Uo,null,w.XFs.Optional)?.setUpPreloading(),v.get(ns,null,w.XFs.Optional)?.init(),b.resetRootComponentType(_.componentTypes[0]),O.closed||(O.next(),O.unsubscribe())}}const ta=new w.OlP("",{factory:()=>new T.x}),el=new w.OlP("",{providedIn:"root",factory:()=>1});const Uo=new w.OlP("");function za(v){return ea(0,[{provide:Uo,useExisting:ts},{provide:Lo,useExisting:v}])}const xa=new w.OlP("ROUTER_FORROOT_GUARD"),Eo=[De.Ye,{provide:Xt,useClass:ce},{provide:gr,useFactory:Aa},Vr,{provide:hi,useFactory:function va(v){return v.routerState.root},deps:[gr]},No];function qs(){return new w.PXZ("Router",gr)}let Co=(()=>{class v{constructor(_){}static forRoot(_,b){return{ngModule:v,providers:[Eo,[],Ra(_),{provide:xa,useFactory:Ys,deps:[[gr,new w.FiY,new w.tp0]]},{provide:es,useValue:b||{}},b?.useHash?{provide:De.S$,useClass:De.Do}:{provide:De.S$,useClass:De.b0},{provide:ns,useFactory:()=>{const v=(0,w.f3M)(gr),E=(0,w.f3M)(De.EM),_=(0,w.f3M)(es);return _.scrollOffset&&E.setOffset(_.scrollOffset),new Wn(v,E,_)}},b?.preloadingStrategy?za(b.preloadingStrategy).\u0275providers:[],{provide:w.PXZ,multi:!0,useFactory:qs},b?.initialNavigation?Za(b):[],[{provide:Fi,useFactory:Rl},{provide:w.tb,multi:!0,useExisting:Fi}]]}}static forChild(_){return{ngModule:v,providers:[Ra(_)]}}}return v.\u0275fac=function(_){return new(_||v)(w.LFG(xa,8))},v.\u0275mod=w.oAB({type:v}),v.\u0275inj=w.cJS({imports:[Oi]}),v})();function Ys(v){return"guarded"}function Za(v){return["disabled"===v.initialNavigation?ea(3,[{provide:w.ip1,multi:!0,useFactory:()=>{const E=(0,w.f3M)(gr);return()=>{E.setUpLocationChangeListener()}}},{provide:el,useValue:2}]).\u0275providers:[],"enabledBlocking"===v.initialNavigation?ea(2,[{provide:el,useValue:0},{provide:w.ip1,multi:!0,deps:[w.zs3],useFactory:E=>{const _=E.get(De.V_,Promise.resolve());let b=!1;return()=>_.then(()=>new Promise(j=>{const X=E.get(gr),se=E.get(ta);(function O(j){E.get(gr).events.pipe((0,Bt.h)(se=>se instanceof di||se instanceof bs||se instanceof oo),(0,$e.U)(se=>se instanceof di||se instanceof bs&&(0===se.code||1===se.code)&&null),(0,Bt.h)(se=>null!==se),(0,Ot.q)(1)).subscribe(()=>{j()})})(()=>{j(!0),b=!0}),X.afterPreactivation=()=>(j(!0),b||se.closed?(0,B.of)(void 0):se),X.initialNavigation()}))}}]).\u0275providers:[]]}const Fi=new w.OlP("")},3942:(bt,ke,U)=>{U.d(ke,{Z:()=>Ve});var w=U(2090),Z=U(4859),B=U(9681),T=U(1877);class fe{constructor(Ne,Me){this._delegate=Ne,this.firebase=Me,(0,B._addComponent)(Ne,new Z.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(Ne,Me=B._DEFAULT_ENTRY_NAME){var wt;this._delegate.checkDestroyed();const Et=this._delegate.container.getProvider(Ne);return!Et.isInitialized()&&"EXPLICIT"===(null===(wt=Et.getComponent())||void 0===wt?void 0:wt.instantiationMode)&&Et.initialize(),Et.getImmediate({identifier:Me})}_removeServiceInstance(Ne,Me=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(Me)}_addComponent(Ne){(0,B._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,B._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new w.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ae=function Te(){const Ye=function Ce(Ye){const Ne={},Me={__esModule:!0,initializeApp:function Ue(dt,oe={}){const V=B.initializeApp(dt,oe);if((0,w.r3)(Ne,V.name))return Ne[V.name];const ue=new Ye(V,Me);return Ne[V.name]=ue,ue},app:Et,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function qe(dt){const oe=dt.name,V=oe.replace("-compat","");if(B._registerComponent(dt)&&"PUBLIC"===dt.type){const ue=(_e=Et())=>{if("function"!=typeof _e[V])throw be.create("invalid-app-argument",{appName:oe});return _e[V]()};void 0!==dt.serviceProps&&(0,w.ZB)(ue,dt.serviceProps),Me[V]=ue,Ye.prototype[V]=function(..._e){return this._getService.bind(this,oe).apply(this,dt.multipleInstances?_e:[])}}return"PUBLIC"===dt.type?Me[V]:null},removeApp:function wt(dt){delete Ne[dt]},useAsService:function at(dt,oe){return"serverAuth"===oe?null:oe},modularAPIs:B}};function Et(dt){if(!(0,w.r3)(Ne,dt=dt||B._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:dt});return Ne[dt]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function je(){return Object.keys(Ne).map(dt=>Ne[dt])}}),Et.App=Ye,Me}(fe);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function Ne(Me){(0,w.ZB)(Ye,Me)},createSubscribe:w.ne,ErrorFactory:w.LL,deepExtend:w.ZB}),Ye}(),ie=new T.Yd("@firebase/app-compat");if((0,w.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ye=self.firebase.SDK_VERSION;Ye&&Ye.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ve=ae;!function Qe(Ye){(0,B.registerVersion)("@firebase/app-compat","0.2.0",Ye)}()},9681:(bt,ke,U)=>{U.r(ke),U.d(ke,{FirebaseError:()=>T.ZR,SDK_VERSION:()=>xn,_DEFAULT_ENTRY_NAME:()=>Bt,_addComponent:()=>Zt,_addOrOverwriteComponent:()=>xt,_apps:()=>ln,_clearComponents:()=>_n,_components:()=>bn,_getProvider:()=>Kt,_registerComponent:()=>Qn,_removeServiceInstance:()=>Pn,deleteApp:()=>yr,getApp:()=>Ft,getApps:()=>Sr,initializeApp:()=>Gn,onLog:()=>wi,registerVersion:()=>Zn,setLogLevel:()=>In});var w=U(5861),Z=U(4859),B=U(1877),T=U(2090),fe=U(8766);class Ie{constructor(Ke){this.container=Ke}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function be(Je){return"VERSION"===Je.getComponent()?.type}(It)){const Lt=It.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(It=>It).join(" ")}}const Ce="@firebase/app",ae=new B.Yd("@firebase/app"),Bt="[DEFAULT]",ut={[Ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,bn=new Map;function Zt(Je,Ke){try{Je.container.addComponent(Ke)}catch(It){ae.debug(`Component ${Ke.name} failed to register with FirebaseApp ${Je.name}`,It)}}function xt(Je,Ke){Je.container.addOrOverwriteComponent(Ke)}function Qn(Je){const Ke=Je.name;if(bn.has(Ke))return ae.debug(`There were multiple attempts to register component ${Ke}.`),!1;bn.set(Ke,Je);for(const It of ln.values())Zt(It,Je);return!0}function Kt(Je,Ke){const It=Je.container.getProvider("heartbeat").getImmediate({optional:!0});return It&&It.triggerHeartbeat(),Je.container.getProvider(Ke)}function Pn(Je,Ke,It=Bt){Kt(Je,Ke).clearInstance(It)}function _n(){bn.clear()}const _r=new T.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class $n{constructor(Ke,It,Lt){this._isDeleted=!1,this._options=Object.assign({},Ke),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new Z.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ke){this._isDeleted=Ke}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const xn="9.15.0";function Gn(Je,Ke={}){let It=Je;"object"!=typeof Ke&&(Ke={name:Ke});const Lt=Object.assign({name:Bt,automaticDataCollectionEnabled:!1},Ke),Yt=Lt.name;if("string"!=typeof Yt||!Yt)throw _r.create("bad-app-name",{appName:String(Yt)});if(It||(It=(0,T.aH)()),!It)throw _r.create("no-options");const Xt=ln.get(Yt);if(Xt){if((0,T.vZ)(It,Xt.options)&&(0,T.vZ)(Lt,Xt.config))return Xt;throw _r.create("duplicate-app",{appName:Yt})}const ce=new Z.H0(Yt);for(const pe of bn.values())ce.addComponent(pe);const ne=new $n(It,Lt,ce);return ln.set(Yt,ne),ne}function Ft(Je=Bt){const Ke=ln.get(Je);if(!Ke&&Je===Bt)return Gn();if(!Ke)throw _r.create("no-app",{appName:Je});return Ke}function Sr(){return Array.from(ln.values())}function yr(Je){return ct.apply(this,arguments)}function ct(){return(ct=(0,w.Z)(function*(Je){const Ke=Je.name;ln.has(Ke)&&(ln.delete(Ke),yield Promise.all(Je.container.getProviders().map(It=>It.delete())),Je.isDeleted=!0)})).apply(this,arguments)}function Zn(Je,Ke,It){var Lt;let Yt=null!==(Lt=ut[Je])&&void 0!==Lt?Lt:Je;It&&(Yt+=`-${It}`);const Xt=Yt.match(/\s|\//),ce=Ke.match(/\s|\//);if(Xt||ce){const ne=[`Unable to register library "${Yt}" with version "${Ke}":`];return Xt&&ne.push(`library name "${Yt}" contains illegal characters (whitespace or "/")`),Xt&&ce&&ne.push("and"),ce&&ne.push(`version name "${Ke}" contains illegal characters (whitespace or "/")`),void ae.warn(ne.join(" "))}Qn(new Z.wA(`${Yt}-version`,()=>({library:Yt,version:Ke}),"VERSION"))}function wi(Je,Ke){if(null!==Je&&"function"!=typeof Je)throw _r.create("invalid-log-argument");(0,B.Am)(Je,Ke)}function In(Je){(0,B.Ub)(Je)}const on="firebase-heartbeat-store";let Nn=null;function Jt(){return Nn||(Nn=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(Je,Ke)=>{0===Ke&&Je.createObjectStore(on)}}).catch(Je=>{throw _r.create("idb-open",{originalErrorMessage:Je.message})})),Nn}function Mt(){return(Mt=(0,w.Z)(function*(Je){try{return(yield Jt()).transaction(on).objectStore(on).get(Vn(Je))}catch(Ke){if(Ke instanceof T.ZR)ae.warn(Ke.message);else{const It=_r.create("idb-get",{originalErrorMessage:Ke?.message});ae.warn(It.message)}}})).apply(this,arguments)}function kn(Je,Ke){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,w.Z)(function*(Je,Ke){try{const Lt=(yield Jt()).transaction(on,"readwrite");return yield Lt.objectStore(on).put(Ke,Vn(Je)),Lt.done}catch(It){if(It instanceof T.ZR)ae.warn(It.message);else{const Lt=_r.create("idb-set",{originalErrorMessage:It?.message});ae.warn(Lt.message)}}})).apply(this,arguments)}function Vn(Je){return`${Je.name}!${Je.options.appId}`}class qr{constructor(Ke){this.container=Ke,this._heartbeatsCache=null;const It=this.container.getProvider("app").getImmediate();this._storage=new Mn(It),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var Ke=this;return(0,w.Z)(function*(){const Lt=Ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Yt=hn();if(null===Ke._heartbeatsCache&&(Ke._heartbeatsCache=yield Ke._heartbeatsCachePromise),Ke._heartbeatsCache.lastSentHeartbeatDate!==Yt&&!Ke._heartbeatsCache.heartbeats.some(Xt=>Xt.date===Yt))return Ke._heartbeatsCache.heartbeats.push({date:Yt,agent:Lt}),Ke._heartbeatsCache.heartbeats=Ke._heartbeatsCache.heartbeats.filter(Xt=>{const ce=new Date(Xt.date).valueOf();return Date.now()-ce<=2592e6}),Ke._storage.overwrite(Ke._heartbeatsCache)})()}getHeartbeatsHeader(){var Ke=this;return(0,w.Z)(function*(){if(null===Ke._heartbeatsCache&&(yield Ke._heartbeatsCachePromise),null===Ke._heartbeatsCache||0===Ke._heartbeatsCache.heartbeats.length)return"";const It=hn(),{heartbeatsToSend:Lt,unsentEntries:Yt}=function Yr(Je,Ke=1024){const It=[];let Lt=Je.slice();for(const Yt of Je){const Xt=It.find(ce=>ce.agent===Yt.agent);if(Xt){if(Xt.dates.push(Yt.date),zn(It)>Ke){Xt.dates.pop();break}}else if(It.push({agent:Yt.agent,dates:[Yt.date]}),zn(It)>Ke){It.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:It,unsentEntries:Lt}}(Ke._heartbeatsCache.heartbeats),Xt=(0,T.L)(JSON.stringify({version:2,heartbeats:Lt}));return Ke._heartbeatsCache.lastSentHeartbeatDate=It,Yt.length>0?(Ke._heartbeatsCache.heartbeats=Yt,yield Ke._storage.overwrite(Ke._heartbeatsCache)):(Ke._heartbeatsCache.heartbeats=[],Ke._storage.overwrite(Ke._heartbeatsCache)),Xt})()}}function hn(){return(new Date).toISOString().substring(0,10)}class Mn{constructor(Ke){this.app=Ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,w.Z)(function*(){return!!(0,T.hl)()&&(0,T.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ke=this;return(0,w.Z)(function*(){return(yield Ke._canUseIndexedDBPromise)&&(yield function Dt(Je){return Mt.apply(this,arguments)}(Ke.app))||{heartbeats:[]}})()}overwrite(Ke){var It=this;return(0,w.Z)(function*(){var Lt;if(yield It._canUseIndexedDBPromise){const Xt=yield It.read();return kn(It.app,{lastSentHeartbeatDate:null!==(Lt=Ke.lastSentHeartbeatDate)&&void 0!==Lt?Lt:Xt.lastSentHeartbeatDate,heartbeats:Ke.heartbeats})}})()}add(Ke){var It=this;return(0,w.Z)(function*(){var Lt;if(yield It._canUseIndexedDBPromise){const Xt=yield It.read();return kn(It.app,{lastSentHeartbeatDate:null!==(Lt=Ke.lastSentHeartbeatDate)&&void 0!==Lt?Lt:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...Ke.heartbeats]})}})()}}function zn(Je){return(0,T.L)(JSON.stringify({version:2,heartbeats:Je})).length}!function er(Je){Qn(new Z.wA("platform-logger",Ke=>new Ie(Ke),"PRIVATE")),Qn(new Z.wA("heartbeat",Ke=>new qr(Ke),"PRIVATE")),Zn(Ce,"0.9.0",Je),Zn(Ce,"0.9.0","esm2017"),Zn("fire-js","")}("")},4859:(bt,ke,U)=>{U.d(ke,{H0:()=>Ce,wA:()=>B,zt:()=>fe});var w=U(5861),Z=U(2090);class B{constructor(ae,ie,he){this.name=ae,this.instanceFactory=ie,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ae){return this.instantiationMode=ae,this}setMultipleInstances(ae){return this.multipleInstances=ae,this}setServiceProps(ae){return this.serviceProps=ae,this}setInstanceCreatedCallback(ae){return this.onInstanceCreated=ae,this}}const T="[DEFAULT]";class fe{constructor(ae,ie){this.name=ae,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ae){const ie=this.normalizeInstanceIdentifier(ae);if(!this.instancesDeferred.has(ie)){const he=new Z.BH;if(this.instancesDeferred.set(ie,he),this.isInitialized(ie)||this.shouldAutoInitialize())try{const it=this.getOrInitializeService({instanceIdentifier:ie});it&&he.resolve(it)}catch{}}return this.instancesDeferred.get(ie).promise}getImmediate(ae){var ie;const he=this.normalizeInstanceIdentifier(ae?.identifier),it=null!==(ie=ae?.optional)&&void 0!==ie&&ie;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(it)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(Qe){if(it)return null;throw Qe}}getComponent(){return this.component}setComponent(ae){if(ae.name!==this.name)throw Error(`Mismatching Component ${ae.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ae,this.shouldAutoInitialize()){if(function be(Te){return"EAGER"===Te.instantiationMode}(ae))try{this.getOrInitializeService({instanceIdentifier:T})}catch{}for(const[ie,he]of this.instancesDeferred.entries()){const it=this.normalizeInstanceIdentifier(ie);try{const Qe=this.getOrInitializeService({instanceIdentifier:it});he.resolve(Qe)}catch{}}}}clearInstance(ae=T){this.instancesDeferred.delete(ae),this.instancesOptions.delete(ae),this.instances.delete(ae)}delete(){var ae=this;return(0,w.Z)(function*(){const ie=Array.from(ae.instances.values());yield Promise.all([...ie.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...ie.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ae=T){return this.instances.has(ae)}getOptions(ae=T){return this.instancesOptions.get(ae)||{}}initialize(ae={}){const{options:ie={}}=ae,he=this.normalizeInstanceIdentifier(ae.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const it=this.getOrInitializeService({instanceIdentifier:he,options:ie});for(const[Qe,Ve]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(Qe)&&Ve.resolve(it);return it}onInit(ae,ie){var he;const it=this.normalizeInstanceIdentifier(ie),Qe=null!==(he=this.onInitCallbacks.get(it))&&void 0!==he?he:new Set;Qe.add(ae),this.onInitCallbacks.set(it,Qe);const Ve=this.instances.get(it);return Ve&&ae(Ve,it),()=>{Qe.delete(ae)}}invokeOnInitCallbacks(ae,ie){const he=this.onInitCallbacks.get(ie);if(he)for(const it of he)try{it(ae,ie)}catch{}}getOrInitializeService({instanceIdentifier:ae,options:ie={}}){let he=this.instances.get(ae);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=ae,Te===T?void 0:Te),options:ie}),this.instances.set(ae,he),this.instancesOptions.set(ae,ie),this.invokeOnInitCallbacks(he,ae),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ae,he)}catch{}var Te;return he||null}normalizeInstanceIdentifier(ae=T){return this.component?this.component.multipleInstances?ae:T:ae}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(ae){this.name=ae,this.providers=new Map}addComponent(ae){const ie=this.getProvider(ae.name);if(ie.isComponentSet())throw new Error(`Component ${ae.name} has already been registered with ${this.name}`);ie.setComponent(ae)}addOrOverwriteComponent(ae){this.getProvider(ae.name).isComponentSet()&&this.providers.delete(ae.name),this.addComponent(ae)}getProvider(ae){if(this.providers.has(ae))return this.providers.get(ae);const ie=new fe(ae,this);return this.providers.set(ae,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(bt,ke,U)=>{U.d(ke,{Am:()=>Te,Ub:()=>Ce,Yd:()=>be,in:()=>Z});const w=[];var Z=(()=>{return(ae=Z||(Z={}))[ae.DEBUG=0]="DEBUG",ae[ae.VERBOSE=1]="VERBOSE",ae[ae.INFO=2]="INFO",ae[ae.WARN=3]="WARN",ae[ae.ERROR=4]="ERROR",ae[ae.SILENT=5]="SILENT",Z;var ae})();const B={debug:Z.DEBUG,verbose:Z.VERBOSE,info:Z.INFO,warn:Z.WARN,error:Z.ERROR,silent:Z.SILENT},T=Z.INFO,fe={[Z.DEBUG]:"log",[Z.VERBOSE]:"log",[Z.INFO]:"info",[Z.WARN]:"warn",[Z.ERROR]:"error"},Ie=(ae,ie,...he)=>{if(ie<ae.logLevel)return;const it=(new Date).toISOString(),Qe=fe[ie];if(!Qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Qe](`[${it}]  ${ae.name}:`,...he)};class be{constructor(ie){this.name=ie,this._logLevel=T,this._logHandler=Ie,this._userLogHandler=null,w.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in Z))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?B[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,Z.DEBUG,...ie),this._logHandler(this,Z.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,Z.VERBOSE,...ie),this._logHandler(this,Z.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,Z.INFO,...ie),this._logHandler(this,Z.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,Z.WARN,...ie),this._logHandler(this,Z.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,Z.ERROR,...ie),this._logHandler(this,Z.ERROR,...ie)}}function Ce(ae){w.forEach(ie=>{ie.setLogLevel(ae)})}function Te(ae,ie){for(const he of w){let it=null;ie&&ie.level&&(it=B[ie.level]),he.userLogHandler=null===ae?null:(Qe,Ve,...Ye)=>{const Ne=Ye.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch{return null}}).filter(Me=>Me).join(" ");Ve>=(it??Qe.logLevel)&&ae({level:Z[Ve].toLowerCase(),message:Ne,args:Ye,type:Qe.name})}}}},259:(bt,ke,U)=>{U.d(ke,{C6:()=>w.getApps,Mq:()=>w.getApp});var w=U(9681);(0,w.registerVersion)("firebase","9.15.0","app")},9260:(bt,ke,U)=>{U.d(ke,{Z:()=>w.Z});var w=U(3942);w.Z.registerVersion("firebase","9.15.0","app-compat")},9169:(bt,ke,U)=>{U.r(ke);var w=U(5861),Z=U(3942),B=U(2090),T=U(9681),fe=U(1877),Ie=U(655),be=U(4859);const Ve=function it(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ye=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ne=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wt=new fe.Yd("@firebase/auth");function Et(g,...l){wt.logLevel<=fe.in.ERROR&&wt.error(`Auth (${T.SDK_VERSION}): ${g}`,...l)}function Ue(g,...l){throw dt(g,...l)}function je(g,...l){return dt(g,...l)}function qe(g,l,d){const C=Object.assign(Object.assign({},Ye()),{[l]:d});return new B.LL("auth","Firebase",C).create(l,{appName:g.name})}function at(g,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&Ue(g,"argument-error"),qe(g,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dt(g,...l){if("string"!=typeof g){const d=l[0],C=[...l.slice(1)];return C[0]&&(C[0].appName=g.name),g._errorFactory.create(d,...C)}return Ne.create(g,...l)}function oe(g,l,...d){if(!g)throw dt(l,...d)}function V(g){const l="INTERNAL ASSERTION FAILED: "+g;throw Et(l),new Error(l)}function ue(g,l){g||V(l)}const _e=new Map;function Re(g){ue(g instanceof Function,"Expected a class definition");let l=_e.get(g);return l?(ue(l instanceof g,"Instance stored in cache mismatched with class"),l):(l=new g,_e.set(g,l),l)}function st(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function Ot(){return"http:"===wn()||"https:"===wn()}function wn(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class ln{constructor(l,d){this.shortDelay=l,this.longDelay=d,ue(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Bt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ot()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function bn(g,l){ue(g.emulator,"Emulator should always be set here");const{url:d}=g.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class Zt{static initialize(l,d,C){this.fetchImpl=l,d&&(this.headersImpl=d),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void V("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void V("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void V("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Qn=new ln(3e4,6e4);function Kt(g,l){return g.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:g.tenantId}):l}function Pn(g,l,d,C){return _n.apply(this,arguments)}function _n(){return(_n=(0,w.Z)(function*(g,l,d,C,L={}){return hr(g,L,(0,w.Z)(function*(){let K={},Ee={};C&&("GET"===l?Ee=C:K={body:JSON.stringify(C)});const Ge=(0,B.xO)(Object.assign({key:g.config.apiKey},Ee)).slice(1),Ct=yield g._getAdditionalHeaders();return Ct["Content-Type"]="application/json",g.languageCode&&(Ct["X-Firebase-Locale"]=g.languageCode),Zt.fetch()(Gn(g,g.config.apiHost,d,Ge),Object.assign({method:l,headers:Ct,referrerPolicy:"no-referrer"},K))}))})).apply(this,arguments)}function hr(g,l,d){return _r.apply(this,arguments)}function _r(){return(_r=(0,w.Z)(function*(g,l,d){g._canInitEmulator=!1;const C=Object.assign(Object.assign({},xt),l);try{const L=new Ft(g),K=yield Promise.race([d(),L.promise]);L.clearNetworkTimeout();const Ee=yield K.json();if("needConfirmation"in Ee)throw Sr(g,"account-exists-with-different-credential",Ee);if(K.ok&&!("errorMessage"in Ee))return Ee;{const Ge=K.ok?Ee.errorMessage:Ee.error.message,[Ct,kt]=Ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ct)throw Sr(g,"credential-already-in-use",Ee);if("EMAIL_EXISTS"===Ct)throw Sr(g,"email-already-in-use",Ee);if("USER_DISABLED"===Ct)throw Sr(g,"user-disabled",Ee);const zt=C[Ct]||Ct.toLowerCase().replace(/[_\s]+/g,"-");if(kt)throw qe(g,zt,kt);Ue(g,zt)}}catch(L){if(L instanceof B.ZR)throw L;Ue(g,"network-request-failed")}})).apply(this,arguments)}function $n(g,l,d,C){return xn.apply(this,arguments)}function xn(){return(xn=(0,w.Z)(function*(g,l,d,C,L={}){const K=yield Pn(g,l,d,C,L);return"mfaPendingCredential"in K&&Ue(g,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function Gn(g,l,d,C){const L=`${l}${d}?${C}`;return g.config.emulator?bn(g.config,L):`${g.config.apiScheme}://${L}`}class Ft{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,C)=>{this.timer=setTimeout(()=>C(je(this.auth,"network-request-failed")),Qn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sr(g,l,d){const C={appName:g.name};d.email&&(C.email=d.email),d.phoneNumber&&(C.phoneNumber=d.phoneNumber);const L=je(g,l,C);return L.customData._tokenResponse=d,L}function ct(){return(ct=(0,w.Z)(function*(g,l){return Pn(g,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Zn(g,l){return wi.apply(this,arguments)}function wi(){return(wi=(0,w.Z)(function*(g,l){return Pn(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function In(g,l){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,w.Z)(function*(g,l){return Pn(g,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function $r(g){if(g)try{const l=new Date(Number(g));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Jt(){return(Jt=(0,w.Z)(function*(g,l=!1){const d=(0,B.m9)(g),C=yield d.getIdToken(l),L=Mt(C);oe(L&&L.exp&&L.auth_time&&L.iat,d.auth,"internal-error");const K="object"==typeof L.firebase?L.firebase:void 0,Ee=K?.sign_in_provider;return{claims:L,token:C,authTime:$r(Dt(L.auth_time)),issuedAtTime:$r(Dt(L.iat)),expirationTime:$r(Dt(L.exp)),signInProvider:Ee||null,signInSecondFactor:K?.sign_in_second_factor||null}})).apply(this,arguments)}function Dt(g){return 1e3*Number(g)}function Mt(g){const[l,d,C]=g.split(".");if(void 0===l||void 0===d||void 0===C)return Et("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,B.tV)(d);return L?JSON.parse(L):(Et("Failed to decode base64 JWT payload"),null)}catch(L){return Et("Caught error parsing JWT payload as JSON",L?.toString()),null}}function Kn(g,l){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,w.Z)(function*(g,l,d=!1){if(d)return l;try{return yield l}catch(C){throw C instanceof B.ZR&&Ir(C)&&g.auth.currentUser===g&&(yield g.auth.signOut()),C}})).apply(this,arguments)}function Ir({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class Vt{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const L=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const C=this.getInterval(l);this.timerId=setTimeout((0,w.Z)(function*(){yield d.iteration()}),C)}iteration(){var l=this;return(0,w.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&l.schedule(!0))}l.schedule()})()}}class qr{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=$r(this.lastLoginAt),this.creationTime=$r(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hn(g){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,w.Z)(function*(g){var l;const d=g.auth,C=yield g.getIdToken(),L=yield Kn(g,In(d,{idToken:C}));oe(L?.users.length,d,"internal-error");const K=L.users[0];g._notifyReloadListener(K);const Ee=null!==(l=K.providerUserInfo)&&void 0!==l&&l.length?Je(K.providerUserInfo):[],Ge=er(g.providerData,Ee),zt=!!g.isAnonymous&&!(g.email&&K.passwordHash||Ge?.length),rn={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:Ge,metadata:new qr(K.createdAt,K.lastLoginAt),isAnonymous:zt};Object.assign(g,rn)})).apply(this,arguments)}function zn(){return(zn=(0,w.Z)(function*(g){const l=(0,B.m9)(g);yield hn(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function er(g,l){return[...g.filter(C=>!l.some(L=>L.providerId===C.providerId)),...l]}function Je(g){return g.map(l=>{var{providerId:d}=l,C=(0,Ie._T)(l,["providerId"]);return{providerId:d,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function It(){return(It=(0,w.Z)(function*(g,l){const d=yield hr(g,{},(0,w.Z)(function*(){const C=(0,B.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:L,apiKey:K}=g.config,Ee=Gn(g,L,"/v1/token",`key=${K}`),Ge=yield g._getAdditionalHeaders();return Ge["Content-Type"]="application/x-www-form-urlencoded",Zt.fetch()(Ee,{method:"POST",headers:Ge,body:C})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){oe(l.idToken,"internal-error"),oe(typeof l.idToken<"u","internal-error"),oe(typeof l.refreshToken<"u","internal-error");const d="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function kn(g){const l=Mt(g);return oe(l,"internal-error"),oe(typeof l.exp<"u","internal-error"),oe(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var C=this;return(0,w.Z)(function*(){return oe(!C.accessToken||C.refreshToken,l,"user-token-expired"),d||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(l,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var C=this;return(0,w.Z)(function*(){const{accessToken:L,refreshToken:K,expiresIn:Ee}=yield function Ke(g,l){return It.apply(this,arguments)}(l,d);C.updateTokensAndExpiration(L,K,Number(Ee))})()}updateTokensAndExpiration(l,d,C){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(l,d){const{refreshToken:C,accessToken:L,expirationTime:K}=d,Ee=new Lt;return C&&(oe("string"==typeof C,"internal-error",{appName:l}),Ee.refreshToken=C),L&&(oe("string"==typeof L,"internal-error",{appName:l}),Ee.accessToken=L),K&&(oe("number"==typeof K,"internal-error",{appName:l}),Ee.expirationTime=K),Ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return V("not implemented")}}function Yt(g,l){oe("string"==typeof g||typeof g>"u","internal-error",{appName:l})}class Xt{constructor(l){var{uid:d,auth:C,stsTokenManager:L}=l,K=(0,Ie._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=C,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.providerData=K.providerData?[...K.providerData]:[],this.metadata=new qr(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,w.Z)(function*(){const C=yield Kn(d,d.stsTokenManager.getToken(d.auth,l));return oe(C,d.auth,"internal-error"),d.accessToken!==C&&(d.accessToken=C,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),C})()}getIdTokenResult(l){return function Nn(g){return Jt.apply(this,arguments)}(this,l)}reload(){return function Mn(g){return zn.apply(this,arguments)}(this)}_assign(l){this!==l&&(oe(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){return new Xt(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(l){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var C=this;return(0,w.Z)(function*(){let L=!1;l.idToken&&l.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(l),L=!0),d&&(yield hn(C)),yield C.auth._persistUserIfCurrent(C),L&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var l=this;return(0,w.Z)(function*(){const d=yield l.getIdToken();return yield Kn(l,function yr(g,l){return ct.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var C,L,K,Ee,Ge,Ct,kt,zt;const rn=null!==(C=d.displayName)&&void 0!==C?C:void 0,Ai=null!==(L=d.email)&&void 0!==L?L:void 0,Hi=null!==(K=d.phoneNumber)&&void 0!==K?K:void 0,al=null!==(Ee=d.photoURL)&&void 0!==Ee?Ee:void 0,Gu=null!==(Ge=d.tenantId)&&void 0!==Ge?Ge:void 0,dc=null!==(Ct=d._redirectEventId)&&void 0!==Ct?Ct:void 0,qc=null!==(kt=d.createdAt)&&void 0!==kt?kt:void 0,Yc=null!==(zt=d.lastLoginAt)&&void 0!==zt?zt:void 0,{uid:hc,emailVerified:fc,isAnonymous:zu,providerData:Zu,stsTokenManager:Qc}=d;oe(hc&&Qc,l,"internal-error");const pc=Lt.fromJSON(this.name,Qc);oe("string"==typeof hc,l,"internal-error"),Yt(rn,l.name),Yt(Ai,l.name),oe("boolean"==typeof fc,l,"internal-error"),oe("boolean"==typeof zu,l,"internal-error"),Yt(Hi,l.name),Yt(al,l.name),Yt(Gu,l.name),Yt(dc,l.name),Yt(qc,l.name),Yt(Yc,l.name);const Ku=new Xt({uid:hc,auth:l,email:Ai,emailVerified:fc,displayName:rn,isAnonymous:zu,photoURL:al,phoneNumber:Hi,tenantId:Gu,stsTokenManager:pc,createdAt:qc,lastLoginAt:Yc});return Zu&&Array.isArray(Zu)&&(Ku.providerData=Zu.map(qu=>Object.assign({},qu))),dc&&(Ku._redirectEventId=dc),Ku}static _fromIdTokenResponse(l,d,C=!1){return(0,w.Z)(function*(){const L=new Lt;L.updateFromServerResponse(d);const K=new Xt({uid:d.localId,auth:l,stsTokenManager:L,isAnonymous:C});return yield hn(K),K})()}}const ne=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,w.Z)(function*(){return!0})()}_set(d,C){var L=this;return(0,w.Z)(function*(){L.storage[d]=C})()}_get(d){var C=this;return(0,w.Z)(function*(){const L=C.storage[d];return void 0===L?null:L})()}_remove(d){var C=this;return(0,w.Z)(function*(){delete C.storage[d]})()}_addListener(d,C){}_removeListener(d,C){}}return g.type="NONE",g})();function pe(g,l,d){return`firebase:${g}:${l}:${d}`}class He{constructor(l,d,C){this.persistence=l,this.auth=d,this.userKey=C;const{config:L,name:K}=this.auth;this.fullUserKey=pe(this.userKey,L.apiKey,K),this.fullPersistenceKey=pe("persistence",L.apiKey,K),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,w.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?Xt._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,w.Z)(function*(){if(d.persistence===l)return;const C=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,C?d.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,C="authUser"){return(0,w.Z)(function*(){if(!d.length)return new He(Re(ne),l,C);const L=(yield Promise.all(d.map(function(){var kt=(0,w.Z)(function*(zt){if(yield zt._isAvailable())return zt});return function(zt){return kt.apply(this,arguments)}}()))).filter(kt=>kt);let K=L[0]||Re(ne);const Ee=pe(C,l.config.apiKey,l.name);let Ge=null;for(const kt of d)try{const zt=yield kt._get(Ee);if(zt){const rn=Xt._fromJSON(l,zt);kt!==K&&(Ge=rn),K=kt;break}}catch{}const Ct=L.filter(kt=>kt._shouldAllowMigration);return K._shouldAllowMigration&&Ct.length?(K=Ct[0],Ge&&(yield K._set(Ee,Ge.toJSON())),yield Promise.all(d.map(function(){var kt=(0,w.Z)(function*(zt){if(zt!==K)try{yield zt._remove(Ee)}catch{}});return function(zt){return kt.apply(this,arguments)}}())),new He(K,l,C)):new He(K,l,C)})()}}function ye(g){const l=g.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(Tn(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(mt(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(te(l))return"Blackberry";if(J(l))return"Webos";if(Nt(l))return"Safari";if((l.includes("chrome/")||Dn(l))&&!l.includes("edge/"))return"Chrome";if(yn(l))return"Android";{const C=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function mt(g=(0,B.z$)()){return/firefox\//i.test(g)}function Nt(g=(0,B.z$)()){const l=g.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function Dn(g=(0,B.z$)()){return/crios\//i.test(g)}function Tn(g=(0,B.z$)()){return/iemobile/i.test(g)}function yn(g=(0,B.z$)()){return/android/i.test(g)}function te(g=(0,B.z$)()){return/blackberry/i.test(g)}function J(g=(0,B.z$)()){return/webos/i.test(g)}function Y(g=(0,B.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function sn(g=(0,B.z$)()){return Y(g)||yn(g)||J(g)||te(g)||/windows phone/i.test(g)||Tn(g)}function ir(g,l=[]){let d;switch(g){case"Browser":d=ye((0,B.z$)());break;case"Worker":d=`${ye((0,B.z$)())}-${g}`;break;default:d=g}const C=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${T.SDK_VERSION}/${C}`}class Ii{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,d){const C=K=>new Promise((Ee,Ge)=>{try{Ee(l(K))}catch(Ct){Ge(Ct)}});C.onAbort=d,this.queue.push(C);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(l){var d=this;return(0,w.Z)(function*(){if(d.auth.currentUser===l)return;const C=[];try{for(const L of d.queue)yield L(l),L.onAbort&&C.push(L.onAbort)}catch(L){C.reverse();for(const K of C)try{K()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class Qt{constructor(l,d,C){this.app=l,this.heartbeatServiceProvider=d,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ji(this),this.idTokenSubscription=new ji(this),this.beforeStateQueue=new Ii(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(l,d){var C=this;return d&&(this._popupRedirectResolver=Re(d)),this._initializationPromise=this.queue((0,w.Z)(function*(){var L,K;if(!C._deleted&&(C.persistenceManager=yield He.create(C,l),!C._deleted)){if(null!==(L=C._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(d),C.lastNotifiedUid=(null===(K=C.currentUser)||void 0===K?void 0:K.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,w.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d,!0)}})()}initializeCurrentUser(l){var d=this;return(0,w.Z)(function*(){var C;const L=yield d.assertedPersistence.getCurrentUser();let K=L,Ee=!1;if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Ge=null===(C=d.redirectUser)||void 0===C?void 0:C._redirectEventId,Ct=K?._redirectEventId,kt=yield d.tryRedirectSignIn(l);(!Ge||Ge===Ct)&&kt?.user&&(K=kt.user,Ee=!0)}if(!K)return d.directlySetCurrentUser(null);if(!K._redirectEventId){if(Ee)try{yield d.beforeStateQueue.runMiddleware(K)}catch(Ge){K=L,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Ge))}return K?d.reloadAndSetCurrentUserOrClear(K):d.directlySetCurrentUser(null)}return oe(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===K._redirectEventId?d.directlySetCurrentUser(K):d.reloadAndSetCurrentUserOrClear(K)})()}tryRedirectSignIn(l){var d=this;return(0,w.Z)(function*(){let C=null;try{C=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch{yield d._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,w.Z)(function*(){try{yield hn(l)}catch(C){if("auth/network-request-failed"!==C?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function ut(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var l=this;return(0,w.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,w.Z)(function*(){const C=l?(0,B.m9)(l):null;return C&&oe(C.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(C&&C._clone(d))})()}_updateCurrentUser(l,d=!1){var C=this;return(0,w.Z)(function*(){if(!C._deleted)return l&&oe(C.tenantId===l.tenantId,C,"tenant-id-mismatch"),d||(yield C.beforeStateQueue.runMiddleware(l)),C.queue((0,w.Z)(function*(){yield C.directlySetCurrentUser(l),C.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,w.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var d=this;return this.queue((0,w.Z)(function*(){yield d.assertedPersistence.setPersistence(Re(l))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new B.LL("auth","Firebase",l())}onAuthStateChanged(l,d,C){return this.registerStateListener(this.authStateSubscription,l,d,C)}beforeAuthStateChanged(l,d){return this.beforeStateQueue.pushCallback(l,d)}onIdTokenChanged(l,d,C){return this.registerStateListener(this.idTokenSubscription,l,d,C)}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var C=this;return(0,w.Z)(function*(){const L=yield C.getOrInitRedirectPersistenceManager(d);return null===l?L.removeCurrentUser():L.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,w.Z)(function*(){if(!d.redirectPersistenceManager){const C=l&&Re(l)||d._popupRedirectResolver;oe(C,d,"argument-error"),d.redirectPersistenceManager=yield He.create(d,[Re(C._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,w.Z)(function*(){var C,L;return d._isInitialized&&(yield d.queue((0,w.Z)(function*(){}))),(null===(C=d._currentUser)||void 0===C?void 0:C._redirectEventId)===l?d._currentUser:(null===(L=d.redirectUser)||void 0===L?void 0:L._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,w.Z)(function*(){if(l===d.currentUser)return d.queue((0,w.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,C,L){if(this._deleted)return()=>{};const K="function"==typeof d?d:d.next.bind(d),Ee=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(Ee,this,"internal-error"),Ee.then(()=>K(this.currentUser)),"function"==typeof d?l.addObserver(d,C,L):l.addObserver(d)}directlySetCurrentUser(l){var d=this;return(0,w.Z)(function*(){d.currentUser&&d.currentUser!==l&&d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh(),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=ir(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,w.Z)(function*(){var d;const C={"X-Client-Version":l.clientVersion};l.app.options.appId&&(C["X-Firebase-gmpid"]=l.app.options.appId);const L=yield null===(d=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();return L&&(C["X-Firebase-Client"]=L),C})()}}function qn(g){return(0,B.m9)(g)}class ji{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,B.ne)(d=>this.observer=d)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fr(g){const l=g.indexOf(":");return l<0?"":g.substr(0,l+1)}function $i(g){if(!g)return null;const l=Number(g);return isNaN(l)?null:l}class Er{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return V("not implemented")}_getIdTokenResponse(l){return V("not implemented")}_linkToIdToken(l,d){return V("not implemented")}_getReauthenticationResolver(l){return V("not implemented")}}function Jn(g,l){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,w.Z)(function*(g,l){return Pn(g,"POST","/v1/accounts:resetPassword",Kt(g,l))})).apply(this,arguments)}function Rn(g,l){return Us.apply(this,arguments)}function Us(){return(Us=(0,w.Z)(function*(g,l){return Pn(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Vs(g,l){return Di.apply(this,arguments)}function Di(){return(Di=(0,w.Z)(function*(g,l){return Pn(g,"POST","/v1/accounts:update",Kt(g,l))})).apply(this,arguments)}function Mi(){return(Mi=(0,w.Z)(function*(g,l){return $n(g,"POST","/v1/accounts:signInWithPassword",Kt(g,l))})).apply(this,arguments)}function Ri(g,l){return ui.apply(this,arguments)}function ui(){return(ui=(0,w.Z)(function*(g,l){return Pn(g,"POST","/v1/accounts:sendOobCode",Kt(g,l))})).apply(this,arguments)}function pr(g,l){return Is.apply(this,arguments)}function Is(){return(Is=(0,w.Z)(function*(g,l){return Ri(g,l)})).apply(this,arguments)}function ar(g,l){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,w.Z)(function*(g,l){return Ri(g,l)})).apply(this,arguments)}function us(g,l){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,w.Z)(function*(g,l){return Ri(g,l)})).apply(this,arguments)}function bo(g,l){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,w.Z)(function*(g,l){return Ri(g,l)})).apply(this,arguments)}function so(){return(so=(0,w.Z)(function*(g,l){return $n(g,"POST","/v1/accounts:signInWithEmailLink",Kt(g,l))})).apply(this,arguments)}function bs(){return(bs=(0,w.Z)(function*(g,l){return $n(g,"POST","/v1/accounts:signInWithEmailLink",Kt(g,l))})).apply(this,arguments)}class oo extends Er{constructor(l,d,C,L=null){super("password",C),this._email=l,this._password=d,this._tenantId=L}static _fromEmailAndPassword(l,d){return new oo(l,d,"password")}static _fromEmailAndCode(l,d,C=null){return new oo(l,d,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,w.Z)(function*(){switch(d.signInMethod){case"password":return function Lr(g,l){return Mi.apply(this,arguments)}(l,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function ci(g,l){return so.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:Ue(l,"internal-error")}})()}_linkToIdToken(l,d){var C=this;return(0,w.Z)(function*(){switch(C.signInMethod){case"password":return Rn(l,{idToken:d,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function di(g,l){return bs.apply(this,arguments)}(l,{idToken:d,email:C._email,oobCode:C._password});default:Ue(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Rr(g,l){return ve.apply(this,arguments)}function ve(){return(ve=(0,w.Z)(function*(g,l){return $n(g,"POST","/v1/accounts:signInWithIdp",Kt(g,l))})).apply(this,arguments)}class Ae extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new Ae(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):Ue("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:C,signInMethod:L}=d,K=(0,Ie._T)(d,["providerId","signInMethod"]);if(!C||!L)return null;const Ee=new Ae(C,L);return Ee.idToken=K.idToken||void 0,Ee.accessToken=K.accessToken||void 0,Ee.secret=K.secret,Ee.nonce=K.nonce,Ee.pendingToken=K.pendingToken||null,Ee}_getIdTokenResponse(l){return Rr(l,this.buildRequest())}_linkToIdToken(l,d){const C=this.buildRequest();return C.idToken=d,Rr(l,C)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Rr(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,B.xO)(d)}return l}}function Xe(g,l){return et.apply(this,arguments)}function et(){return(et=(0,w.Z)(function*(g,l){return Pn(g,"POST","/v1/accounts:sendVerificationCode",Kt(g,l))})).apply(this,arguments)}function ht(){return(ht=(0,w.Z)(function*(g,l){return $n(g,"POST","/v1/accounts:signInWithPhoneNumber",Kt(g,l))})).apply(this,arguments)}function Ht(){return(Ht=(0,w.Z)(function*(g,l){const d=yield $n(g,"POST","/v1/accounts:signInWithPhoneNumber",Kt(g,l));if(d.temporaryProof)throw Sr(g,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const cs={USER_NOT_FOUND:"user-not-found"};function Wr(){return(Wr=(0,w.Z)(function*(g,l){return $n(g,"POST","/v1/accounts:signInWithPhoneNumber",Kt(g,Object.assign(Object.assign({},l),{operation:"REAUTH"})),cs)})).apply(this,arguments)}class Gi extends Er{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new Gi({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new Gi({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function gt(g,l){return ht.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function tr(g,l){return Ht.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function $o(g,l){return Wr.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:C,verificationCode:L}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:C,code:L}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:C,phoneNumber:L,temporaryProof:K}=l;return C||d||L||K?new Gi({verificationId:d,verificationCode:C,phoneNumber:L,temporaryProof:K}):null}}class nr{constructor(l){var d,C,L,K,Ee,Ge;const Ct=(0,B.zd)((0,B.pd)(l)),kt=null!==(d=Ct.apiKey)&&void 0!==d?d:null,zt=null!==(C=Ct.oobCode)&&void 0!==C?C:null,rn=function Xn(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=Ct.mode)&&void 0!==L?L:null);oe(kt&&zt&&rn,"argument-error"),this.apiKey=kt,this.operation=rn,this.code=zt,this.continueUrl=null!==(K=Ct.continueUrl)&&void 0!==K?K:null,this.languageCode=null!==(Ee=Ct.languageCode)&&void 0!==Ee?Ee:null,this.tenantId=null!==(Ge=Ct.tenantId)&&void 0!==Ge?Ge:null}static parseLink(l){const d=function cn(g){const l=(0,B.zd)((0,B.pd)(g)).link,d=l?(0,B.zd)((0,B.pd)(l)).deep_link_id:null,C=(0,B.zd)((0,B.pd)(g)).deep_link_id;return(C?(0,B.zd)((0,B.pd)(C)).link:null)||C||d||l||g}(l);try{return new nr(d)}catch{return null}}}let bi=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(d,C){return oo._fromEmailAndPassword(d,C)}static credentialWithLink(d,C){const L=nr.parseLink(C);return oe(L,"argument-error"),oo._fromEmailAndCode(d,L.code,L.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Dr{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class ds extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class hi extends ds{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return oe("providerId"in d&&"signInMethod"in d,"argument-error"),Ae._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return oe(l.idToken||l.accessToken,"argument-error"),Ae._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return hi.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return hi.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:C,oauthTokenSecret:L,pendingToken:K,nonce:Ee,providerId:Ge}=l;if(!C&&!L&&!d&&!K||!Ge)return null;try{return new hi(Ge)._credential({idToken:d,accessToken:C,nonce:Ee,pendingToken:K})}catch{return null}}}let lo=(()=>{class g extends ds{constructor(){super("facebook.com")}static credential(d){return Ae._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return g.credential(d.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),To=(()=>{class g extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(d,C){return Ae._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:C})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:C,oauthAccessToken:L}=d;if(!C&&!L)return null;try{return g.credential(C,L)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),Ti=(()=>{class g extends ds{constructor(){super("github.com")}static credential(d){return Ae._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return g.credential(d.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class Pi extends Er{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return Rr(l,this.buildRequest())}_linkToIdToken(l,d){const C=this.buildRequest();return C.idToken=d,Rr(l,C)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Rr(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:C,signInMethod:L,pendingToken:K}=d;return C&&L&&K&&C===L?new Pi(C,K):null}static _create(l,d){return new Pi(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Gr extends Dr{constructor(l){oe(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Gr.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Gr.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=Pi.fromJSON(l);return oe(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:C}=l;if(!d||!C)return null;try{return Pi._create(C,d)}catch{return null}}}let Jr=(()=>{class g extends ds{constructor(){super("twitter.com")}static credential(d,C){return Ae._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:C})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:C,oauthTokenSecret:L}=d;if(!C||!L)return null;try{return g.credential(C,L)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function Bs(g,l){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,w.Z)(function*(g,l){return $n(g,"POST","/v1/accounts:signUp",Kt(g,l))})).apply(this,arguments)}class ai{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,C,L=!1){return(0,w.Z)(function*(){const K=yield Xt._fromIdTokenResponse(l,C,L),Ee=uo(C);return new ai({user:K,providerId:Ee,_tokenResponse:C,operationType:d})})()}static _forOperation(l,d,C){return(0,w.Z)(function*(){yield l._updateTokensIfNecessary(C,!0);const L=uo(C);return new ai({user:l,providerId:L,_tokenResponse:C,operationType:d})})()}}function uo(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function lr(){return(lr=(0,w.Z)(function*(g){var l;const d=qn(g);if(yield d._initializationPromise,null!==(l=d.currentUser)&&void 0!==l&&l.isAnonymous)return new ai({user:d.currentUser,providerId:null,operationType:"signIn"});const C=yield Bs(d,{returnSecureToken:!0}),L=yield ai._fromIdTokenResponse(d,"signIn",C,!0);return yield d._updateCurrentUser(L.user),L})).apply(this,arguments)}class Ts extends B.ZR{constructor(l,d,C,L){var K;super(d.code,d.message),this.operationType=C,this.user=L,Object.setPrototypeOf(this,Ts.prototype),this.customData={appName:l.name,tenantId:null!==(K=l.tenantId)&&void 0!==K?K:void 0,_serverResponse:d.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(l,d,C,L){return new Ts(l,d,C,L)}}function ua(g,l,d,C){return("reauthenticate"===l?d._getReauthenticationResolver(g):d._getIdTokenResponse(g)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?Ts._fromErrorAndOperation(g,K,l,C):K})}function Cr(g){return new Set(g.map(({providerId:l})=>l).filter(l=>!!l))}function Vr(){return(Vr=(0,w.Z)(function*(g,l){const d=(0,B.m9)(g);yield Fn(!0,d,l);const{providerUserInfo:C}=yield Zn(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),L=Cr(C||[]);return d.providerData=d.providerData.filter(K=>L.has(K.providerId)),L.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d})).apply(this,arguments)}function hs(g,l){return ur.apply(this,arguments)}function ur(){return(ur=(0,w.Z)(function*(g,l,d=!1){const C=yield Kn(g,l._linkToIdToken(g.auth,yield g.getIdToken()),d);return ai._forOperation(g,"link",C)})).apply(this,arguments)}function Fn(g,l,d){return So.apply(this,arguments)}function So(){return(So=(0,w.Z)(function*(g,l,d){yield hn(l);const L=!1===g?"provider-already-linked":"no-such-provider";oe(Cr(l.providerData).has(d)===g,l.auth,L)})).apply(this,arguments)}function Oi(g,l){return Go.apply(this,arguments)}function Go(){return(Go=(0,w.Z)(function*(g,l,d=!1){const{auth:C}=g,L="reauthenticate";try{const K=yield Kn(g,ua(C,L,l,g),d);oe(K.idToken,C,"internal-error");const Ee=Mt(K.idToken);oe(Ee,C,"internal-error");const{sub:Ge}=Ee;return oe(g.uid===Ge,C,"user-mismatch"),ai._forOperation(g,L,K)}catch(K){throw"auth/user-not-found"===K?.code&&Ue(C,"user-mismatch"),K}})).apply(this,arguments)}function Zi(g,l){return zo.apply(this,arguments)}function zo(){return(zo=(0,w.Z)(function*(g,l,d=!1){const C="signIn",L=yield ua(g,C,l),K=yield ai._fromIdTokenResponse(g,C,L);return d||(yield g._updateCurrentUser(K.user)),K})).apply(this,arguments)}function wr(g,l){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,w.Z)(function*(g,l){return Zi(qn(g),l)})).apply(this,arguments)}function Ss(g,l){return ca.apply(this,arguments)}function ca(){return(ca=(0,w.Z)(function*(g,l){const d=(0,B.m9)(g);return yield Fn(!1,d,l.providerId),hs(d,l)})).apply(this,arguments)}function xi(g,l){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,w.Z)(function*(g,l){return Oi((0,B.m9)(g),l)})).apply(this,arguments)}function co(g,l){return an.apply(this,arguments)}function an(){return(an=(0,w.Z)(function*(g,l){return $n(g,"POST","/v1/accounts:signInWithCustomToken",Kt(g,l))})).apply(this,arguments)}function fs(){return(fs=(0,w.Z)(function*(g,l){const d=qn(g),C=yield co(d,{token:l,returnSecureToken:!0}),L=yield ai._fromIdTokenResponse(d,"signIn",C);return yield d._updateCurrentUser(L.user),L})).apply(this,arguments)}class tt{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?En._fromServerResponse(l,d):Ue(l,"internal-error")}}class En extends tt{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new En(d)}}function Ki(g,l,d){var C;oe((null===(C=d.url)||void 0===C?void 0:C.length)>0,g,"invalid-continue-uri"),oe(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(oe(d.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(oe(d.android.packageName.length>0,g,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function cr(){return(cr=(0,w.Z)(function*(g,l,d){const C=(0,B.m9)(g),L={requestType:"PASSWORD_RESET",email:l};d&&Ki(C,L,d),yield ar(C,L)})).apply(this,arguments)}function pi(){return(pi=(0,w.Z)(function*(g,l,d){yield Jn((0,B.m9)(g),{oobCode:l,newPassword:d})})).apply(this,arguments)}function Mo(){return(Mo=(0,w.Z)(function*(g,l){yield Vs((0,B.m9)(g),{oobCode:l})})).apply(this,arguments)}function rr(g,l){return ps.apply(this,arguments)}function ps(){return(ps=(0,w.Z)(function*(g,l){const d=(0,B.m9)(g),C=yield Jn(d,{oobCode:l}),L=C.requestType;switch(oe(L,d,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(C.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(C.mfaInfo,d,"internal-error");default:oe(C.email,d,"internal-error")}let K=null;return C.mfaInfo&&(K=tt._fromServerResponse(qn(d),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:K},operation:L}})).apply(this,arguments)}function da(){return(da=(0,w.Z)(function*(g,l){const{data:d}=yield rr((0,B.m9)(g),l);return d.email})).apply(this,arguments)}function dr(){return(dr=(0,w.Z)(function*(g,l,d){const C=qn(g),L=yield Bs(C,{returnSecureToken:!0,email:l,password:d}),K=yield ai._fromIdTokenResponse(C,"signIn",L);return yield C._updateCurrentUser(K.user),K})).apply(this,arguments)}function Ws(){return(Ws=(0,w.Z)(function*(g,l,d){const C=(0,B.m9)(g),L={requestType:"EMAIL_SIGNIN",email:l};oe(d.handleCodeInApp,C,"argument-error"),d&&Ki(C,L,d),yield us(C,L)})).apply(this,arguments)}function Gs(){return(Gs=(0,w.Z)(function*(g,l,d){const C=(0,B.m9)(g),L=bi.credentialWithLink(l,d||st());return oe(L._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),wr(C,L)})).apply(this,arguments)}function ho(g,l){return gs.apply(this,arguments)}function gs(){return(gs=(0,w.Z)(function*(g,l){return Pn(g,"POST","/v1/accounts:createAuthUri",Kt(g,l))})).apply(this,arguments)}function gi(){return(gi=(0,w.Z)(function*(g,l){const C={identifier:l,continueUri:Ot()?st():"http://localhost"},{signinMethods:L}=yield ho((0,B.m9)(g),C);return L||[]})).apply(this,arguments)}function fo(){return(fo=(0,w.Z)(function*(g,l){const d=(0,B.m9)(g),L={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};l&&Ki(d.auth,L,l);const{email:K}=yield pr(d.auth,L);K!==g.email&&(yield g.reload())})).apply(this,arguments)}function qo(){return(qo=(0,w.Z)(function*(g,l,d){const C=(0,B.m9)(g),K={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:l};d&&Ki(C.auth,K,d);const{email:Ee}=yield bo(C.auth,K);Ee!==g.email&&(yield g.reload())})).apply(this,arguments)}function zs(g,l){return As.apply(this,arguments)}function As(){return(As=(0,w.Z)(function*(g,l){return Pn(g,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function mi(){return(mi=(0,w.Z)(function*(g,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const C=(0,B.m9)(g),K={idToken:yield C.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},Ee=yield Kn(C,zs(C.auth,K));C.displayName=Ee.displayName||null,C.photoURL=Ee.photoUrl||null;const Ge=C.providerData.find(({providerId:Ct})=>"password"===Ct);Ge&&(Ge.displayName=C.displayName,Ge.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Ee)})).apply(this,arguments)}function P(g,l,d){return G.apply(this,arguments)}function G(){return(G=(0,w.Z)(function*(g,l,d){const{auth:C}=g,K={idToken:yield g.getIdToken(),returnSecureToken:!0};l&&(K.email=l),d&&(K.password=d);const Ee=yield Kn(g,Rn(C,K));yield g._updateTokensIfNecessary(Ee,!0)})).apply(this,arguments)}class Oe{constructor(l,d,C={}){this.isNewUser=l,this.providerId=d,this.profile=C}}class Be extends Oe{constructor(l,d,C,L){super(l,d,C),this.username=L}}class Tt extends Oe{constructor(l,d){super(l,"facebook.com",d)}}class Ln extends Be{constructor(l,d){super(l,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class On extends Oe{constructor(l,d){super(l,"google.com",d)}}class Un extends Be{constructor(l,d,C){super(l,"twitter.com",d,C)}}function en(g){const{user:l,_tokenResponse:d}=g;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function re(g){var l,d;if(!g)return null;const{providerId:C}=g,L=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},K=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!C&&g?.idToken){const Ee=null===(d=null===(l=Mt(g.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(Ee)return new Oe(K,"anonymous"!==Ee&&"custom"!==Ee?Ee:null)}if(!C)return null;switch(C){case"facebook.com":return new Tt(K,L);case"github.com":return new Ln(K,L);case"google.com":return new On(K,L);case"twitter.com":return new Un(K,L,g.screenName||null);case"custom":case"anonymous":return new Oe(K,null);default:return new Oe(K,C,L)}}(d)}class Ji{constructor(l,d,C){this.type=l,this.credential=d,this.auth=C}static _fromIdtoken(l,d){return new Ji("enroll",l,d)}static _fromMfaPendingCredential(l){return new Ji("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,C;if(l?.multiFactorSession){if(null!==(d=l.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ji._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(C=l.multiFactorSession)&&void 0!==C&&C.idToken)return Ji._fromIdtoken(l.multiFactorSession.idToken)}return null}}class Xi{constructor(l,d,C){this.session=l,this.hints=d,this.signInResolver=C}static _fromError(l,d){const C=qn(l),L=d.customData._serverResponse,K=(L.mfaInfo||[]).map(Ge=>tt._fromServerResponse(C,Ge));oe(L.mfaPendingCredential,C,"internal-error");const Ee=Ji._fromMfaPendingCredential(L.mfaPendingCredential);return new Xi(Ee,K,function(){var Ge=(0,w.Z)(function*(Ct){const kt=yield Ct._process(C,Ee);delete L.mfaInfo,delete L.mfaPendingCredential;const zt=Object.assign(Object.assign({},L),{idToken:kt.idToken,refreshToken:kt.refreshToken});switch(d.operationType){case"signIn":const rn=yield ai._fromIdTokenResponse(C,d.operationType,zt);return yield C._updateCurrentUser(rn.user),rn;case"reauthenticate":return oe(d.user,C,"internal-error"),ai._forOperation(d.user,d.operationType,zt);default:Ue(C,"internal-error")}});return function(Ct){return Ge.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,w.Z)(function*(){return d.signInResolver(l)})()}}function ha(g,l){return Pn(g,"POST","/v2/accounts/mfaEnrollment:start",Kt(g,l))}class pa{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(C=>tt._fromServerResponse(l.auth,C)))})}static _fromUser(l){return new pa(l)}getSession(){var l=this;return(0,w.Z)(function*(){return Ji._fromIdtoken(yield l.user.getIdToken(),l.user.auth)})()}enroll(l,d){var C=this;return(0,w.Z)(function*(){const L=l,K=yield C.getSession(),Ee=yield Kn(C.user,L._process(C.user.auth,K,d));return yield C.user._updateTokensIfNecessary(Ee),C.user.reload()})()}unenroll(l){var d=this;return(0,w.Z)(function*(){const C="string"==typeof l?l:l.uid,L=yield d.user.getIdToken(),K=yield Kn(d.user,function Qo(g,l){return Pn(g,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(g,l))}(d.user.auth,{idToken:L,mfaEnrollmentId:C}));d.enrolledFactors=d.enrolledFactors.filter(({uid:Ee})=>Ee!==C),yield d.user._updateTokensIfNecessary(K);try{yield d.user.reload()}catch(Ee){if("auth/user-token-expired"!==Ee?.code)throw Ee}})()}}const Ms=new WeakMap,_s="__sak";class Ta{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(_s,"1"),this.storage.removeItem(_s),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const ga=(()=>{class g extends Ta{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,C)=>this.onStorageEvent(d,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fn(){const g=(0,B.z$)();return Nt(g)||Y(g)}()&&function un(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=sn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const C of Object.keys(this.listeners)){const L=this.storage.getItem(C),K=this.localCache[C];L!==K&&d(C,K,L)}}onStorageEvent(d,C=!1){if(!d.key)return void this.forAllChangedKeys((Ge,Ct,kt)=>{this.notifyListeners(Ge,kt)});const L=d.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ge=this.storage.getItem(L);if(d.newValue!==Ge)null!==d.newValue?this.storage.setItem(L,d.newValue):this.storage.removeItem(L);else if(this.localCache[L]===d.newValue&&!C)return}const K=()=>{const Ge=this.storage.getItem(L);!C&&this.localCache[L]===Ge||this.notifyListeners(L,Ge)},Ee=this.storage.getItem(L);!function St(){return(0,B.w1)()&&10===document.documentMode}()||Ee===d.newValue||d.newValue===d.oldValue?K():setTimeout(K,10)}notifyListeners(d,C){this.localCache[d]=C;const L=this.listeners[d];if(L)for(const K of Array.from(L))K(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,C,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:C,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(C)}_removeListener(d,C){this.listeners[d]&&(this.listeners[d].delete(C),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,C){var L=()=>super._set,K=this;return(0,w.Z)(function*(){yield L().call(K,d,C),K.localCache[d]=JSON.stringify(C)})()}_get(d){var C=()=>super._get,L=this;return(0,w.Z)(function*(){const K=yield C().call(L,d);return L.localCache[d]=JSON.stringify(K),K})()}_remove(d){var C=()=>super._remove,L=this;return(0,w.Z)(function*(){yield C().call(L,d),delete L.localCache[d]})()}}return g.type="LOCAL",g})(),_i=(()=>{class g extends Ta{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,C){}_removeListener(d,C){}}return g.type="SESSION",g})();let Rs=(()=>{class g{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const C=this.receivers.find(K=>K.isListeningto(d));if(C)return C;const L=new g(d);return this.receivers.push(L),L}isListeningto(d){return this.eventTarget===d}handleEvent(d){var C=this;return(0,w.Z)(function*(){const L=d,{eventId:K,eventType:Ee,data:Ge}=L.data,Ct=C.handlersMap[Ee];if(!Ct?.size)return;L.ports[0].postMessage({status:"ack",eventId:K,eventType:Ee});const kt=Array.from(Ct).map(function(){var rn=(0,w.Z)(function*(Ai){return Ai(L.origin,Ge)});return function(Ai){return rn.apply(this,arguments)}}()),zt=yield function go(g){return Promise.all(g.map(function(){var l=(0,w.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(C){return{fulfilled:!1,reason:C}}});return function(d){return l.apply(this,arguments)}}()))}(kt);L.ports[0].postMessage({status:"done",eventId:K,eventType:Ee,response:zt})})()}_subscribe(d,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(C)}_unsubscribe(d,C){this.handlersMap[d]&&C&&this.handlersMap[d].delete(C),(!C||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function mo(g="",l=10){let d="";for(let C=0;C<l;C++)d+=Math.floor(10*Math.random());return g+d}class ys{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,C=50){var L=this;return(0,w.Z)(function*(){const K=typeof MessageChannel<"u"?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let Ee,Ge;return new Promise((Ct,kt)=>{const zt=mo("",20);K.port1.start();const rn=setTimeout(()=>{kt(new Error("unsupported_event"))},C);Ge={messageChannel:K,onMessage(Ai){const Hi=Ai;if(Hi.data.eventId===zt)switch(Hi.data.status){case"ack":clearTimeout(rn),Ee=setTimeout(()=>{kt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ee),Ct(Hi.data.response);break;default:clearTimeout(rn),clearTimeout(Ee),kt(new Error("invalid_response"))}}},L.handlers.add(Ge),K.port1.addEventListener("message",Ge.onMessage),L.target.postMessage({eventType:l,eventId:zt,data:d},[K.port2])}).finally(()=>{Ge&&L.removeMessageHandler(Ge)})})()}}function xr(){return window}function Sa(){return typeof xr().WorkerGlobalScope<"u"&&"function"==typeof xr().importScripts}function Wa(){return(Wa=(0,w.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Jo="firebaseLocalStorageDb",es="firebaseLocalStorage",ma="fbase_key";class Ps{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function No(g,l){return g.transaction([es],l?"readwrite":"readonly").objectStore(es)}function Os(){const g=indexedDB.open(Jo,1);return new Promise((l,d)=>{g.addEventListener("error",()=>{d(g.error)}),g.addEventListener("upgradeneeded",()=>{const C=g.result;try{C.createObjectStore(es,{keyPath:ma})}catch(L){d(L)}}),g.addEventListener("success",(0,w.Z)(function*(){const C=g.result;C.objectStoreNames.contains(es)?l(C):(C.close(),yield function _a(){const g=indexedDB.deleteDatabase(Jo);return new Ps(g).toPromise()}(),l(yield Os()))}))})}function ki(g,l,d){return _o.apply(this,arguments)}function _o(){return(_o=(0,w.Z)(function*(g,l,d){const C=No(g,!0).put({[ma]:l,value:d});return new Ps(C).toPromise()})).apply(this,arguments)}function xs(){return(xs=(0,w.Z)(function*(g,l){const d=No(g,!1).get(l),C=yield new Ps(d).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ns(g,l){const d=No(g,!0).delete(l);return new Ps(d).toPromise()}const yo=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,w.Z)(function*(){return d.db||(d.db=yield Os()),d.db})()}_withRetries(d){var C=this;return(0,w.Z)(function*(){let L=0;for(;;)try{const K=yield C._openDb();return yield d(K)}catch(K){if(L++>3)throw K;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,w.Z)(function*(){return Sa()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,w.Z)(function*(){d.receiver=Rs._getInstance(function Ga(){return Sa()?self:null}()),d.receiver._subscribe("keyChanged",function(){var C=(0,w.Z)(function*(L,K){return{keyProcessed:(yield d._poll()).includes(K.key)}});return function(L,K){return C.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var C=(0,w.Z)(function*(L,K){return["keyChanged"]});return function(L,K){return C.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,w.Z)(function*(){var C,L;if(d.activeServiceWorker=yield function xo(){return Wa.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new ys(d.activeServiceWorker);const K=yield d.sender._send("ping",{},800);!K||(null===(C=K[0])||void 0===C?void 0:C.fulfilled)&&(null===(L=K[0])||void 0===L?void 0:L.value.includes("keyChanged"))&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var C=this;return(0,w.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Qa(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:d},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,w.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Os();return yield ki(d,_s,"1"),yield Ns(d,_s),!0}catch{}return!1})()}_withPendingWrite(d){var C=this;return(0,w.Z)(function*(){C.pendingWrites++;try{yield d()}finally{C.pendingWrites--}})()}_set(d,C){var L=this;return(0,w.Z)(function*(){return L._withPendingWrite((0,w.Z)(function*(){return yield L._withRetries(K=>ki(K,d,C)),L.localCache[d]=C,L.notifyServiceWorker(d)}))})()}_get(d){var C=this;return(0,w.Z)(function*(){const L=yield C._withRetries(K=>function vs(g,l){return xs.apply(this,arguments)}(K,d));return C.localCache[d]=L,L})()}_remove(d){var C=this;return(0,w.Z)(function*(){return C._withPendingWrite((0,w.Z)(function*(){return yield C._withRetries(L=>Ns(L,d)),delete C.localCache[d],C.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,w.Z)(function*(){const C=yield d._withRetries(Ee=>{const Ge=No(Ee,!1).getAll();return new Ps(Ge).toPromise()});if(!C)return[];if(0!==d.pendingWrites)return[];const L=[],K=new Set;for(const{fbase_key:Ee,value:Ge}of C)K.add(Ee),JSON.stringify(d.localCache[Ee])!==JSON.stringify(Ge)&&(d.notifyListeners(Ee,Ge),L.push(Ee));for(const Ee of Object.keys(d.localCache))d.localCache[Ee]&&!K.has(Ee)&&(d.notifyListeners(Ee,null),L.push(Ee));return L})()}notifyListeners(d,C){this.localCache[d]=C;const L=this.listeners[d];if(L)for(const K of Array.from(L))K(C)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,w.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(C)}_removeListener(d,C){this.listeners[d]&&(this.listeners[d].delete(C),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function Fo(g,l){return Pn(g,"POST","/v2/accounts/mfaSignIn:start",Kt(g,l))}function ks(){return(ks=(0,w.Z)(function*(g){return(yield Pn(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lo(g){return new Promise((l,d)=>{const C=document.createElement("script");C.setAttribute("src",g),C.onload=l,C.onerror=L=>{const K=je("internal-error");K.customData=L,d(K)},C.type="text/javascript",C.charset="UTF-8",function vo(){var g,l;return null!==(l=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==l?l:document}().appendChild(C)})}function Ma(g){return`__${g}${Math.floor(1e6*Math.random())}`}const ns=1e12;class Wn{constructor(l){this.auth=l,this.counter=ns,this._widgets=new Map}render(l,d){const C=this.counter;return this._widgets.set(C,new ya(l,this.auth.name,d||{})),this.counter++,C}reset(l){var d;const C=l||ns;null===(d=this._widgets.get(C))||void 0===d||d.delete(),this._widgets.delete(C)}getResponse(l){var d;return(null===(d=this._widgets.get(l||ns))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,w.Z)(function*(){var C;return null===(C=d._widgets.get(l||ns))||void 0===C||C.execute(),""})()}}class ya{constructor(l,d,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof l?document.getElementById(l):l;oe(L,"argument-error",{appName:d}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ja(g){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<g;C++)l.push(d.charAt(Math.floor(Math.random()*d.length)));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const va=Ma("rcb"),ea=new ln(3e4,6e4);class Xa{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=xr().grecaptcha)||void 0===l||!l.render)}load(l,d=""){return oe(function Rl(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(d),l,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(xr().grecaptcha):new Promise((C,L)=>{const K=xr().setTimeout(()=>{L(je(l,"network-request-failed"))},ea.get());xr()[va]=()=>{xr().clearTimeout(K),delete xr()[va];const Ge=xr().grecaptcha;if(!Ge)return void L(je(l,"internal-error"));const Ct=Ge.render;Ge.render=(kt,zt)=>{const rn=Ct(kt,zt);return this.counter++,rn},this.hostLanguage=d,C(Ge)},Lo(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:va,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(K),L(je(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var d;return!(null===(d=xr().grecaptcha)||void 0===d||!d.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ta{load(l){return(0,w.Z)(function*(){return new Wn(l)})()}clearedOneInstance(){}}const el="recaptcha",fu={theme:"light",type:"image"};class ni{constructor(l,d=Object.assign({},fu),C){this.parameters=d,this.type=el,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(C),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof l?document.getElementById(l):l;oe(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ta:new Xa,this.validateStartingState()}verify(){var l=this;return(0,w.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),C=l.getAssertedRecaptcha();return C.getResponse(d)||new Promise(K=>{const Ee=Ge=>{!Ge||(l.tokenChangeListeners.delete(Ee),K(Ge))};l.tokenChangeListeners.add(Ee),l.isInvisible&&C.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(C=>C(d)),"function"==typeof l)l(d);else if("string"==typeof l){const C=xr()[l];"function"==typeof C&&C(d)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,w.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const C=document.createElement("div");d.appendChild(C),d=C}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,w.Z)(function*(){oe(Ot()&&!Sa(),l.auth,"internal-error"),yield function Pa(){let g=null;return new Promise(l=>{"complete"!==document.readyState?(g=()=>l(),window.addEventListener("load",g)):l()}).catch(l=>{throw g&&window.removeEventListener("load",g),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function Kr(g){return ks.apply(this,arguments)}(l.auth);oe(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Uo{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=Gi._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function Oa(){return(Oa=(0,w.Z)(function*(g,l,d){const C=qn(g),L=yield qs(C,l,(0,B.m9)(d));return new Uo(L,K=>wr(C,K))})).apply(this,arguments)}function rs(){return(rs=(0,w.Z)(function*(g,l,d){const C=(0,B.m9)(g);yield Fn(!1,C,"phone");const L=yield qs(C.auth,l,(0,B.m9)(d));return new Uo(L,K=>Ss(C,K))})).apply(this,arguments)}function Eo(){return(Eo=(0,w.Z)(function*(g,l,d){const C=(0,B.m9)(g),L=yield qs(C.auth,l,(0,B.m9)(d));return new Uo(L,K=>xi(C,K))})).apply(this,arguments)}function qs(g,l,d){return Co.apply(this,arguments)}function Co(){return(Co=(0,w.Z)(function*(g,l,d){var C;const L=yield d.verify();try{let K;if(oe("string"==typeof L,g,"argument-error"),oe(d.type===el,g,"argument-error"),K="string"==typeof l?{phoneNumber:l}:l,"session"in K){const Ee=K.session;if("phoneNumber"in K)return oe("enroll"===Ee.type,g,"internal-error"),(yield ha(g,{idToken:Ee.credential,phoneEnrollmentInfo:{phoneNumber:K.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{oe("signin"===Ee.type,g,"internal-error");const Ge=(null===(C=K.multiFactorHint)||void 0===C?void 0:C.uid)||K.multiFactorUid;return oe(Ge,g,"missing-multi-factor-info"),(yield Fo(g,{mfaPendingCredential:Ee.credential,mfaEnrollmentId:Ge,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ee}=yield Xe(g,{phoneNumber:K.phoneNumber,recaptchaToken:L});return Ee}}finally{d._reset()}})).apply(this,arguments)}function Na(){return(Na=(0,w.Z)(function*(g,l){yield hs((0,B.m9)(g),l)})).apply(this,arguments)}let Vo=(()=>{class g{constructor(d){this.providerId=g.PROVIDER_ID,this.auth=qn(d)}verifyPhoneNumber(d,C){return qs(this.auth,d,(0,B.m9)(C))}static credential(d,C){return Gi._fromVerification(d,C)}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:C,temporaryProof:L}=d;return C&&L?Gi._fromTokenResponse(C,L):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function Ys(g,l){return l?Re(l):(oe(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Za extends Er{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Rr(l,this._buildIdpRequest())}_linkToIdToken(l,d){return Rr(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return Rr(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function Fi(g){return Zi(g.auth,new Za(g),g.bypassAuthState)}function Bo(g){const{auth:l,user:d}=g;return oe(d,l,"internal-error"),Oi(d,new Za(g),g.bypassAuthState)}function Vi(g){return v.apply(this,arguments)}function v(){return(v=(0,w.Z)(function*(g){const{auth:l,user:d}=g;return oe(d,l,"internal-error"),hs(d,new Za(g),g.bypassAuthState)})).apply(this,arguments)}class E{constructor(l,d,C,L,K=!1){this.auth=l,this.resolver=C,this.user=L,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,w.Z)(function*(C,L){l.pendingPromise={resolve:C,reject:L};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(K){l.reject(K)}});return function(C,L){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,w.Z)(function*(){const{urlResponse:C,sessionId:L,postBody:K,tenantId:Ee,error:Ge,type:Ct}=l;if(Ge)return void d.reject(Ge);const kt={auth:d.auth,requestUri:C,sessionId:L,tenantId:Ee||void 0,postBody:K||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(Ct)(kt))}catch(zt){d.reject(zt)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Fi;case"linkViaPopup":case"linkViaRedirect":return Vi;case"reauthViaPopup":case"reauthViaRedirect":return Bo;default:Ue(this.auth,"internal-error")}}resolve(l){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _=new ln(2e3,1e4);function O(){return(O=(0,w.Z)(function*(g,l,d){const C=qn(g);at(g,l,Dr);const L=Ys(C,d);return new ft(C,"signInViaPopup",l,L).executeNotNull()})).apply(this,arguments)}function X(){return(X=(0,w.Z)(function*(g,l,d){const C=(0,B.m9)(g);at(C.auth,l,Dr);const L=Ys(C.auth,d);return new ft(C.auth,"reauthViaPopup",l,L,C).executeNotNull()})).apply(this,arguments)}function Fe(){return(Fe=(0,w.Z)(function*(g,l,d){const C=(0,B.m9)(g);at(C.auth,l,Dr);const L=Ys(C.auth,d);return new ft(C.auth,"linkViaPopup",l,L,C).executeNotNull()})).apply(this,arguments)}let ft=(()=>{class g extends E{constructor(d,C,L,K,Ee){super(d,C,K,Ee),this.provider=L,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var d=this;return(0,w.Z)(function*(){const C=yield d.execute();return oe(C,d.auth,"internal-error"),C})()}onExecution(){var d=this;return(0,w.Z)(function*(){ue(1===d.filter.length,"Popup operations only handle one event");const C=mo();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],C),d.authWindow.associatedEvent=C,d.resolver._originValidation(d.auth).catch(L=>{d.reject(L)}),d.resolver._isIframeWebStorageSupported(d.auth,L=>{L||d.reject(je(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const d=()=>{var C,L;this.pollId=null!==(L=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,_.get())};d()}}return g.currentPopupAction=null,g})();const _t=new Map;class Hn extends E{constructor(l,d,C=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,C),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,w.Z)(function*(){let C=_t.get(d.auth._key());if(!C){try{const K=(yield function ii(g,l){return li.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;C=()=>Promise.resolve(K)}catch(L){C=()=>Promise.reject(L)}_t.set(d.auth._key(),C)}return d.bypassAuthState||_t.set(d.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,C=this;return(0,w.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(C,l);if("unknown"!==l.type){if(l.eventId){const L=yield C.auth._redirectUserForId(l.eventId);if(L)return C.user=L,d().call(C,l);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,w.Z)(function*(){})()}cleanUp(){}}function li(){return(li=(0,w.Z)(function*(g,l){const d=ka(l),C=Ls(g);if(!(yield C._isAvailable()))return!1;const L="true"===(yield C._get(d));return yield C._remove(d),L})).apply(this,arguments)}function Fs(g,l){return Or.apply(this,arguments)}function Or(){return(Or=(0,w.Z)(function*(g,l){return Ls(g)._set(ka(l),"true")})).apply(this,arguments)}function Es(g,l){_t.set(g._key(),l)}function Ls(g){return Re(g._redirectPersistence)}function ka(g){return pe("pendingRedirect",g.config.apiKey,g.name)}function R(){return(R=(0,w.Z)(function*(g,l,d){const C=qn(g);at(g,l,Dr);const L=Ys(C,d);return yield Fs(L,C),L._openRedirect(C,l,"signInViaRedirect")})).apply(this,arguments)}function ee(){return(ee=(0,w.Z)(function*(g,l,d){const C=(0,B.m9)(g);at(C.auth,l,Dr);const L=Ys(C.auth,d);yield Fs(L,C.auth);const K=yield dn(C);return L._openRedirect(C.auth,l,"reauthViaRedirect",K)})).apply(this,arguments)}function ot(){return(ot=(0,w.Z)(function*(g,l,d){const C=(0,B.m9)(g);at(C.auth,l,Dr);const L=Ys(C.auth,d);yield Fn(!1,C,l.providerId),yield Fs(L,C.auth);const K=yield dn(C);return L._openRedirect(C.auth,l,"linkViaRedirect",K)})).apply(this,arguments)}function jt(){return(jt=(0,w.Z)(function*(g,l){return yield qn(g)._initializationPromise,Ut(g,l,!1)})).apply(this,arguments)}function Ut(g,l){return An.apply(this,arguments)}function An(){return(An=(0,w.Z)(function*(g,l,d=!1){const C=qn(g),L=Ys(C,l),Ee=yield new Hn(C,L,d).execute();return Ee&&!d&&(delete Ee.user._redirectEventId,yield C._persistUserIfCurrent(Ee.user),yield C._setRedirectUser(null,l)),Ee})).apply(this,arguments)}function dn(g){return vi.apply(this,arguments)}function vi(){return(vi=(0,w.Z)(function*(g){const l=mo(`${g.uid}:::`);return g._redirectEventId=l,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),l})).apply(this,arguments)}class ra{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(l,C)&&(d=!0,this.sendToConsumer(l,C),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function Li(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ho(g);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var C;if(l.error&&!Ho(l)){const L=(null===(C=l.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";d.onError(je(this.auth,L))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const C=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&C}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hl(l))}saveEventToCache(l){this.cachedEventUids.add(hl(l)),this.lastProcessedEventTime=Date.now()}}function hl(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(l=>l).join("-")}function Ho({type:g,error:l}){return"unknown"===g&&"auth/no-auth-event"===l?.code}function is(g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,w.Z)(function*(g,l={}){return Pn(g,"GET","/v1/projects",l)})).apply(this,arguments)}const La=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pl=/^https?/;function fl(){return(fl=(0,w.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:l}=yield is(g);for(const d of l)try{if(Ua(d))return}catch{}Ue(g,"unauthorized-domain")})).apply(this,arguments)}function Ua(g){const l=st(),{protocol:d,hostname:C}=new URL(l);if(g.startsWith("chrome-extension://")){const Ee=new URL(g);return""===Ee.hostname&&""===C?"chrome-extension:"===d&&g.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&Ee.hostname===C}if(!Pl.test(d))return!1;if(La.test(g))return C===g;const L=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(C)}const ql=new ln(3e4,6e4);function Yl(){const g=xr().___jsl;if(g?.H)for(const l of Object.keys(g.H))if(g.H[l].r=g.H[l].r||[],g.H[l].L=g.H[l].L||[],g.H[l].r=[...g.H[l].L],g.CP)for(let d=0;d<g.CP.length;d++)g.CP[d]=null}let Ca=null;function pu(g){return Ca=Ca||function nl(g){return new Promise((l,d)=>{var C,L,K;function Ee(){Yl(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Yl(),d(je(g,"network-request-failed"))},timeout:ql.get()})}if(null!==(L=null===(C=xr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==L&&L.Iframe)l(gapi.iframes.getContext());else{if(null===(K=xr().gapi)||void 0===K||!K.load){const Ge=Ma("iframefcb");return xr()[Ge]=()=>{gapi.load?Ee():d(je(g,"network-request-failed"))},Lo(`https://apis.google.com/js/api.js?onload=${Ge}`).catch(Ct=>d(Ct))}Ee()}}).catch(l=>{throw Ca=null,l})}(g),Ca}const Ql=new ln(5e3,15e3),sc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fu(g){const l=g.config;oe(l.authDomain,g,"auth-domain-config-required");const d=l.emulator?bn(l,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,C={apiKey:l.apiKey,appName:g.name,v:T.SDK_VERSION},L=gu.get(g.config.apiHost);L&&(C.eid=L);const K=g._getFrameworks();return K.length&&(C.fw=K.join(",")),`${d}?${(0,B.xO)(C).slice(1)}`}function Nl(){return Nl=(0,w.Z)(function*(g){const l=yield pu(g),d=xr().gapi;return oe(d,g,"internal-error"),l.open({where:document.body,url:Fu(g),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sc,dontclear:!0},C=>new Promise(function(){var L=(0,w.Z)(function*(K,Ee){yield C.restyle({setHideOnLeave:!1});const Ge=je(g,"network-request-failed"),Ct=xr().setTimeout(()=>{Ee(Ge)},Ql.get());function kt(){xr().clearTimeout(Ct),K(C)}C.ping(kt).then(kt,()=>{Ee(Ge)})});return function(K,Ee){return L.apply(this,arguments)}}()))}),Nl.apply(this,arguments)}const oc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Lu{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xl(g,l,d,C,L,K){oe(g.config.authDomain,g,"auth-domain-config-required"),oe(g.config.apiKey,g,"invalid-api-key");const Ee={apiKey:g.config.apiKey,appName:g.name,authType:d,redirectUrl:C,v:T.SDK_VERSION,eventId:L};if(l instanceof Dr){l.setDefaultLanguage(g.languageCode),Ee.providerId=l.providerId||"",(0,B.xb)(l.getCustomParameters())||(Ee.customParameters=JSON.stringify(l.getCustomParameters()));for(const[Ct,kt]of Object.entries(K||{}))Ee[Ct]=kt}if(l instanceof ds){const Ct=l.getScopes().filter(kt=>""!==kt);Ct.length>0&&(Ee.scopes=Ct.join(","))}g.tenantId&&(Ee.tid=g.tenantId);const Ge=Ee;for(const Ct of Object.keys(Ge))void 0===Ge[Ct]&&delete Ge[Ct];return`${function wo({config:g}){return g.emulator?bn(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,B.xO)(Ge).slice(1)}`}const Fl="webStorageSupport";class Cs extends class yu{constructor(l){this.factorId=l}_process(l,d,C){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,C);case"signin":return this._finalizeSignIn(l,d.credential);default:return V("unexpected MultiFactorSessionType")}}}{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new Cs(l)}_finalizeEnroll(l,d,C){return function fa(g,l){return Pn(g,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(g,l))}(l,{idToken:d,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function Xo(g,l){return Pn(g,"POST","/v2/accounts/mfaSignIn:finalize",Kt(g,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let vu=(()=>{class g{constructor(){}static assertion(d){return Cs._fromCredential(d)}}return g.FACTOR_ID="phone",g})();var Ll="@firebase/auth";class Uu{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,w.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(C=>{l(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);!d||(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vt(){return window}function gn(){return(gn=(0,w.Z)(function*(g,l,d){var C;const{BuildInfo:L}=vt();ue(l.sessionId,"AuthEvent did not contain a session ID");const K=yield sa(l.sessionId),Ee={};return Y()?Ee.ibi=L.packageName:yn()?Ee.apn=L.packageName:Ue(g,"operation-not-supported-in-this-environment"),L.displayName&&(Ee.appDisplayName=L.displayName),Ee.sessionId=K,Xl(g,d,l.type,void 0,null!==(C=l.eventId)&&void 0!==C?C:void 0,Ee)})).apply(this,arguments)}function Tr(){return(Tr=(0,w.Z)(function*(g){const{BuildInfo:l}=vt(),d={};Y()?d.iosBundleId=l.packageName:yn()?d.androidPackageName=l.packageName:Ue(g,"operation-not-supported-in-this-environment"),yield is(g,d)})).apply(this,arguments)}function ws(){return(ws=(0,w.Z)(function*(g,l,d){const{cordova:C}=vt();let L=()=>{};try{yield new Promise((K,Ee)=>{let Ge=null;function Ct(){var rn;K();const Ai=null===(rn=C.plugins.browsertab)||void 0===rn?void 0:rn.close;"function"==typeof Ai&&Ai(),"function"==typeof d?.close&&d.close()}function kt(){Ge||(Ge=window.setTimeout(()=>{Ee(je(g,"redirect-cancelled-by-user"))},2e3))}function zt(){"visible"===document?.visibilityState&&kt()}l.addPassiveListener(Ct),document.addEventListener("resume",kt,!1),yn()&&document.addEventListener("visibilitychange",zt,!1),L=()=>{l.removePassiveListener(Ct),document.removeEventListener("resume",kt,!1),document.removeEventListener("visibilitychange",zt,!1),Ge&&window.clearTimeout(Ge)}})}finally{L()}})).apply(this,arguments)}function sa(g){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,w.Z)(function*(g){const l=Bi(g),d=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(d)).map(L=>L.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bi(g){if(ue(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const l=new ArrayBuffer(g.length),d=new Uint8Array(l);for(let C=0;C<g.length;C++)d[C]=g.charCodeAt(C);return d}(0,B.Pz)("authIdTokenMaxAge"),function h(g){(0,T._registerComponent)(new be.wA("auth",(l,{options:d})=>{const C=l.getProvider("app").getImmediate(),L=l.getProvider("heartbeat"),{apiKey:K,authDomain:Ee}=C.options;return((Ge,Ct)=>{oe(K&&!K.includes(":"),"invalid-api-key",{appName:Ge.name}),oe(!Ee?.includes(":"),"argument-error",{appName:Ge.name});const kt={apiKey:K,authDomain:Ee,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ir(g)},zt=new Qt(Ge,Ct,kt);return function $e(g,l){const d=l?.persistence||[],C=(Array.isArray(d)?d:[d]).map(Re);l?.errorMap&&g._updateErrorMap(l.errorMap),g._initializeWithPersistence(C,l?.popupRedirectResolver)}(zt,d),zt})(C,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,C)=>{l.getProvider("auth-internal").initialize()})),(0,T._registerComponent)(new be.wA("auth-internal",l=>{const d=qn(l.getProvider("auth").getImmediate());return new Uu(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,T.registerVersion)(Ll,"0.21.0",function f(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,T.registerVersion)(Ll,"0.21.0","esm2017")}("Browser");class Js extends ra{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(l)),super.onEvent(l)}initialized(){var l=this;return(0,w.Z)(function*(){yield l.initPromise})()}}function Va(g){return Io.apply(this,arguments)}function Io(){return(Io=(0,w.Z)(function*(g){const l=yield tu()._get(Bl(g));return l&&(yield tu()._remove(Bl(g))),l})).apply(this,arguments)}function Vl(){const g=[],l="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<20;d++){const C=Math.floor(Math.random()*l.length);g.push(l.charAt(C))}return g.join("")}function tu(){return Re(ga)}function Bl(g){return pe("authEvent",g.config.apiKey,g.name)}function oa(g){if(!g?.includes("?"))return{};const[l,...d]=g.split("?");return(0,B.zd)(d.join("?"))}function Cu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:je("no-auth-event")}}function Hl(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function ru(g=(0,B.z$)()){return!("file:"!==Hl()&&"ionic:"!==Hl()&&"capacitor:"!==Hl()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function iu(){try{const g=self.localStorage,l=mo();if(g)return g.setItem(l,"1"),g.removeItem(l),!function sl(g=(0,B.z$)()){return function eo(){return(0,B.w1)()&&11===document?.documentMode}()||function jl(g=(0,B.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,B.hl)()}catch{return to()&&(0,B.hl)()}return!1}function to(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ba(){return(function uc(){return"http:"===Hl()||"https:"===Hl()}()||(0,B.ru)()||ru())&&!function wu(){return(0,B.b$)()||(0,B.UG)()}()&&iu()&&!to()}function Ka(){return ru()&&typeof document<"u"}function Ha(){return(Ha=(0,w.Z)(function*(){return!!Ka()&&new Promise(g=>{const l=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),g(!0)})})})).apply(this,arguments)}const aa={LOCAL:"local",NONE:"none",SESSION:"session"},ol=oe,Iu="persistence";function Du(g){return bu.apply(this,arguments)}function bu(){return(bu=(0,w.Z)(function*(g){yield g._initializationPromise;const l=_l(),d=pe(Iu,g.config.apiKey,g.name);l&&l.setItem(d,g._getPersistence())})).apply(this,arguments)}function _l(){var g;try{return(null===(g=function Id(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const yl=oe;class no{constructor(){this.browserResolver=Re(class ia{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_i,this._completeRedirectFn=Ut,this._overrideRedirectResult=Es}_openPopup(l,d,C,L){var K=this;return(0,w.Z)(function*(){var Ee;ue(null===(Ee=K.eventManagers[l._key()])||void 0===Ee?void 0:Ee.manager,"_initialize() not called before _openPopup()");const Ge=Xl(l,d,C,st(),L);return function ac(g,l,d,C=500,L=600){const K=Math.max((window.screen.availHeight-L)/2,0).toString(),Ee=Math.max((window.screen.availWidth-C)/2,0).toString();let Ge="";const Ct=Object.assign(Object.assign({},oc),{width:C.toString(),height:L.toString(),top:K,left:Ee}),kt=(0,B.z$)().toLowerCase();d&&(Ge=Dn(kt)?"_blank":d),mt(kt)&&(l=l||"http://localhost",Ct.scrollbars="yes");const zt=Object.entries(Ct).reduce((Ai,[Hi,al])=>`${Ai}${Hi}=${al},`,"");if(function ze(g=(0,B.z$)()){var l;return Y(g)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(kt)&&"_self"!==Ge)return function _u(g,l){const d=document.createElement("a");d.href=g,d.target=l;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(C)}(l||"",Ge),new Lu(null);const rn=window.open(l||"",Ge,zt);oe(rn,g,"popup-blocked");try{rn.focus()}catch{}return new Lu(rn)}(l,Ge,mo())})()}_openRedirect(l,d,C,L){var K=this;return(0,w.Z)(function*(){return yield K._originValidation(l),function yi(g){xr().location.href=g}(Xl(l,d,C,st(),L)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:L,promise:K}=this.eventManagers[d];return L?Promise.resolve(L):(ue(K,"If manager is not set, promise should be"),K)}const C=this.initAndGetManager(l);return this.eventManagers[d]={promise:C},C.catch(()=>{delete this.eventManagers[d]}),C}initAndGetManager(l){var d=this;return(0,w.Z)(function*(){const C=yield function rl(g){return Nl.apply(this,arguments)}(l),L=new ra(l);return C.register("authEvent",K=>(oe(K?.authEvent,l,"invalid-auth-event"),{status:L.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:L},d.iframes[l._key()]=C,L})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(Fl,{type:Fl},L=>{var K;const Ee=null===(K=L?.[0])||void 0===K?void 0:K[Fl];void 0!==Ee&&d(!!Ee),Ue(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Ol(g){return fl.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return sn()||Nt()||Y()}}),this.cordovaResolver=Re(class Eu{constructor(){this._redirectPersistence=_i,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ut,this._overrideRedirectResult=Es}_initialize(l){var d=this;return(0,w.Z)(function*(){const C=l._key();let L=d.eventManagers.get(C);return L||(L=new Js(l),d.eventManagers.set(C,L),d.attachCallbackListeners(l,L)),L})()}_openPopup(l){Ue(l,"operation-not-supported-in-this-environment")}_openRedirect(l,d,C,L){var K=this;return(0,w.Z)(function*(){!function Ei(g){var l,d,C,L,K,Ee,Ge,Ct,kt,zt;const rn=vt();oe("function"==typeof(null===(l=rn?.universalLinks)||void 0===l?void 0:l.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),oe(typeof(null===(d=rn?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),oe("function"==typeof(null===(K=null===(L=null===(C=rn?.cordova)||void 0===C?void 0:C.plugins)||void 0===L?void 0:L.browsertab)||void 0===K?void 0:K.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(Ct=null===(Ge=null===(Ee=rn?.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===Ge?void 0:Ge.browsertab)||void 0===Ct?void 0:Ct.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),oe("function"==typeof(null===(zt=null===(kt=rn?.cordova)||void 0===kt?void 0:kt.InAppBrowser)||void 0===zt?void 0:zt.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const Ee=yield K._initialize(l);yield Ee.initialized(),Ee.resetRedirect(),function Ea(){_t.clear()}(),yield K._originValidation(l);const Ge=function Xs(g,l,d=null){return{type:l,eventId:d,urlResponse:null,sessionId:Vl(),postBody:null,tenantId:g.tenantId,error:je(g,"no-auth-event")}}(l,C,L);yield function Ul(g,l){return tu()._set(Bl(g),l)}(l,Ge);const Ct=yield function $t(g,l,d){return gn.apply(this,arguments)}(l,Ge,d),kt=yield function jr(g){const{cordova:l}=vt();return new Promise(d=>{l.plugins.browsertab.isAvailable(C=>{let L=null;C?l.plugins.browsertab.openUrl(g):L=l.InAppBrowser.open(g,function Se(g=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),d(L)})})}(Ct);return function oi(g,l,d){return ws.apply(this,arguments)}(l,Ee,kt)})()}_isIframeWebStorageSupported(l,d){throw new Error("Method not implemented.")}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function kr(g){return Tr.apply(this,arguments)}(l)),this.originValidationPromises[d]}attachCallbackListeners(l,d){const{universalLinks:C,handleOpenURL:L,BuildInfo:K}=vt(),Ee=setTimeout((0,w.Z)(function*(){yield Va(l),d.onEvent(Cu())}),500),Ge=function(){var zt=(0,w.Z)(function*(rn){clearTimeout(Ee);const Ai=yield Va(l);let Hi=null;Ai&&rn?.url&&(Hi=function Hc(g,l){var d,C;const L=function jc(g){const l=oa(g),d=l.link?decodeURIComponent(l.link):void 0,C=oa(d).link,L=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return oa(L).link||L||C||d||g}(l);if(L.includes("/__/auth/callback")){const K=oa(L),Ee=K.firebaseError?function Vu(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(K.firebaseError)):null,Ge=null===(C=null===(d=Ee?.code)||void 0===d?void 0:d.split("auth/"))||void 0===C?void 0:C[1],Ct=Ge?je(Ge):null;return Ct?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:Ct,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:L,postBody:null}}return null}(Ai,rn.url)),d.onEvent(Hi||Cu())});return function(Ai){return zt.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,Ge);const Ct=L,kt=`${K.packageName.toLowerCase()}://`;vt().handleOpenURL=function(){var zt=(0,w.Z)(function*(rn){if(rn.toLowerCase().startsWith(kt)&&Ge({url:rn}),"function"==typeof Ct)try{Ct(rn)}catch(Ai){console.error(Ai)}});return function(rn){return zt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=_i,this._completeRedirectFn=Ut,this._overrideRedirectResult=Es}_initialize(l){var d=this;return(0,w.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,d,C,L){var K=this;return(0,w.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openPopup(l,d,C,L)})()}_openRedirect(l,d,C,L){var K=this;return(0,w.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openRedirect(l,d,C,L)})()}_isIframeWebStorageSupported(l,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,d)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return Ka()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,w.Z)(function*(){if(l.underlyingResolver)return;const d=yield function Hu(){return Ha.apply(this,arguments)}();l.underlyingResolver=d?l.cordovaResolver:l.browserResolver})()}}function su(g){return g.unwrap()}function Su(g){return vl(g)}function vl(g){const{_tokenResponse:l}=g instanceof B.ZR?g.customData:g;if(!l)return null;if(!(g instanceof B.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return Vo.credentialFromResult(g);const d=l.providerId;if(!d||"password"===d)return null;let C;switch(d){case"google.com":C=To;break;case"facebook.com":C=lo;break;case"github.com":C=Ti;break;case"twitter.com":C=Jr;break;default:const{oauthIdToken:L,oauthAccessToken:K,oauthTokenSecret:Ee,pendingToken:Ge,nonce:Ct}=l;return K||Ee||L||Ge?Ge?d.startsWith("saml.")?Pi._create(d,Ge):Ae._fromParams({providerId:d,signInMethod:d,pendingToken:Ge,idToken:L,accessToken:K}):new hi(d).credential({idToken:L,accessToken:K,rawNonce:Ct}):null}return g instanceof B.ZR?C.credentialFromError(g):C.credentialFromResult(g)}function ro(g,l){return l.catch(d=>{throw d instanceof B.ZR&&function Au(g,l){var d;const C=null===(d=l.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new zc(g,function br(g,l){var d;const C=(0,B.m9)(g),L=l;return oe(l.customData.operationType,C,"argument-error"),oe(null===(d=L.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,C,"argument-error"),Xi._fromError(C,L)}(g,l));else if(C){const L=vl(l),K=l;L&&(K.credential=L,K.tenantId=C.tenantId||void 0,K.email=C.email||void 0,K.phoneNumber=C.phoneNumber||void 0)}}(g,d),d}).then(d=>{const L=d.user;return{operationType:d.operationType,credential:Su(d),additionalUserInfo:en(d),user:ja.getOrCreate(L)}})}function Do(g,l){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,w.Z)(function*(g,l){const d=yield l;return{verificationId:d.verificationId,confirm:C=>ro(g,d.confirm(C))}})).apply(this,arguments)}class zc{constructor(l,d){this.resolver=d,this.auth=function Tu(g){return g.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return ro(su(this.auth),this.resolver.resolveSignIn(l))}}class ja{constructor(l){this._delegate=l,this.multiFactor=function ms(g){const l=(0,B.m9)(g);return Ms.has(l)||Ms.set(l,pa._fromUser(l)),Ms.get(l)}(l)}static getOrCreate(l){return ja.USER_MAP.has(l)||ja.USER_MAP.set(l,new ja(l)),ja.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var d=this;return(0,w.Z)(function*(){return ro(d.auth,Ss(d._delegate,l))})()}linkWithPhoneNumber(l,d){var C=this;return(0,w.Z)(function*(){return Do(C.auth,function ri(g,l,d){return rs.apply(this,arguments)}(C._delegate,l,d))})()}linkWithPopup(l){var d=this;return(0,w.Z)(function*(){return ro(d.auth,function se(g,l,d){return Fe.apply(this,arguments)}(d._delegate,l,no))})()}linkWithRedirect(l){var d=this;return(0,w.Z)(function*(){return yield Du(qn(d.auth)),function we(g,l,d){return function xe(g,l,d){return ot.apply(this,arguments)}(g,l,d)}(d._delegate,l,no)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var d=this;return(0,w.Z)(function*(){return ro(d.auth,xi(d._delegate,l))})()}reauthenticateWithPhoneNumber(l,d){return Do(this.auth,function xa(g,l,d){return Eo.apply(this,arguments)}(this._delegate,l,d))}reauthenticateWithPopup(l){return ro(this.auth,function j(g,l,d){return X.apply(this,arguments)}(this._delegate,l,no))}reauthenticateWithRedirect(l){var d=this;return(0,w.Z)(function*(){return yield Du(qn(d.auth)),function N(g,l,d){return function H(g,l,d){return ee.apply(this,arguments)}(g,l,d)}(d._delegate,l,no)})()}sendEmailVerification(l){return function Po(g,l){return fo.apply(this,arguments)}(this._delegate,l)}unlink(l){var d=this;return(0,w.Z)(function*(){return yield function Ur(g,l){return Vr.apply(this,arguments)}(d._delegate,l),d})()}updateEmail(l){return function A(g,l){return P((0,B.m9)(g),l,null)}(this._delegate,l)}updatePassword(l){return function F(g,l){return P((0,B.m9)(g),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function tl(g,l){return Na.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function Yo(g,l){return mi.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,d){return function Oo(g,l,d){return qo.apply(this,arguments)}(this._delegate,l,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ja.USER_MAP=new WeakMap;const El=oe;let $l=(()=>{class g{constructor(d,C){if(this.app=d,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:L}=d.options;El(L,"invalid-api-key",{appName:d.name}),El(L,"invalid-api-key",{appName:d.name});const K=typeof window<"u"?no:void 0;this._delegate=C.initialize({options:{persistence:Cl(L,d.name),popupRedirectResolver:K}}),this._delegate._updateErrorMap(Ve),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ja.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,C){!function vr(g,l,d){const C=qn(g);oe(C._canInitEmulator,C,"emulator-config-failed"),oe(/^https?:\/\//.test(l),C,"invalid-emulator-scheme");const L=!!d?.disableWarnings,K=fr(l),{host:Ee,port:Ge}=function or(g){const l=fr(g),d=/(\/\/)?([^?#/]+)/.exec(g.substr(l.length));if(!d)return{host:"",port:null};const C=d[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(C);if(L){const K=L[1];return{host:K,port:$i(C.substr(K.length+1))}}{const[K,Ee]=C.split(":");return{host:K,port:$i(Ee)}}}(l);C.config.emulator={url:`${K}//${Ee}${null===Ge?"":`:${Ge}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ee,port:Ge,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Wi(){function g(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,d,C)}applyActionCode(d){return function Pr(g,l){return Mo.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return rr(this._delegate,d)}confirmPasswordReset(d,C){return function nn(g,l,d){return pi.apply(this,arguments)}(this._delegate,d,C)}createUserWithEmailAndPassword(d,C){var L=this;return(0,w.Z)(function*(){return ro(L._delegate,function Ro(g,l,d){return dr.apply(this,arguments)}(L._delegate,d,C))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Yi(g,l){return gi.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function qi(g,l){return"EMAIL_SIGNIN"===nr.parseLink(l)?.operation}(0,d)}getRedirectResult(){var d=this;return(0,w.Z)(function*(){El(Ba(),d._delegate,"operation-not-supported-in-this-environment");const C=yield function Rt(g,l){return jt.apply(this,arguments)}(d._delegate,no);return C?ro(d._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Bu(g,l){qn(g)._logFramework(l)}(this._delegate,d)}onAuthStateChanged(d,C,L){const{next:K,error:Ee,complete:Ge}=Ru(d,C,L);return this._delegate.onAuthStateChanged(K,Ee,Ge)}onIdTokenChanged(d,C,L){const{next:K,error:Ee,complete:Ge}=Ru(d,C,L);return this._delegate.onIdTokenChanged(K,Ee,Ge)}sendSignInLinkToEmail(d,C){return function $s(g,l,d){return Ws.apply(this,arguments)}(this._delegate,d,C)}sendPasswordResetEmail(d,C){return function fi(g,l,d){return cr.apply(this,arguments)}(this._delegate,d,C||void 0)}setPersistence(d){var C=this;return(0,w.Z)(function*(){let L;switch(function cc(g,l){ol(Object.values(aa).includes(l),g,"invalid-persistence-type"),(0,B.b$)()?ol(l!==aa.SESSION,g,"unsupported-persistence-type"):(0,B.UG)()?ol(l===aa.NONE,g,"unsupported-persistence-type"):to()?ol(l===aa.NONE||l===aa.LOCAL&&(0,B.hl)(),g,"unsupported-persistence-type"):ol(l===aa.NONE||iu(),g,"unsupported-persistence-type")}(C._delegate,d),d){case aa.SESSION:L=_i;break;case aa.LOCAL:L=(yield Re(yo)._isAvailable())?yo:ga;break;case aa.NONE:L=ne;break;default:return Ue("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(L)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return ro(this._delegate,function vn(g){return lr.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return ro(this._delegate,wr(this._delegate,d))}signInWithCustomToken(d){return ro(this._delegate,function Zo(g,l){return fs.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,C){return ro(this._delegate,function Xr(g,l,d){return wr((0,B.m9)(g),bi.credential(l,d))}(this._delegate,d,C))}signInWithEmailLink(d,C){return ro(this._delegate,function Ko(g,l,d){return Gs.apply(this,arguments)}(this._delegate,d,C))}signInWithPhoneNumber(d,C){return Do(this._delegate,function za(g,l,d){return Oa.apply(this,arguments)}(this._delegate,d,C))}signInWithPopup(d){var C=this;return(0,w.Z)(function*(){return El(Ba(),C._delegate,"operation-not-supported-in-this-environment"),ro(C._delegate,function b(g,l,d){return O.apply(this,arguments)}(C._delegate,d,no))})()}signInWithRedirect(d){var C=this;return(0,w.Z)(function*(){return El(Ba(),C._delegate,"operation-not-supported-in-this-environment"),yield Du(C._delegate),function si(g,l,d){return function na(g,l,d){return R.apply(this,arguments)}(g,l,d)}(C._delegate,d,no)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function js(g,l){return da.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=aa,g})();function Ru(g,l,d){let C=g;"function"!=typeof g&&({next:C,error:l,complete:d}=g);const L=C;return{next:Ee=>L(Ee&&ja.getOrCreate(Ee)),error:l,complete:d}}function Cl(g,l){const d=function ju(g,l){const d=_l();if(!d)return[];const C=pe(Iu,g,l);switch(d.getItem(C)){case aa.NONE:return[ne];case aa.LOCAL:return[yo,_i];case aa.SESSION:return[_i];default:return[]}}(g,l);if(typeof self<"u"&&!d.includes(yo)&&d.push(yo),typeof window<"u")for(const C of[ga,_i])d.includes(C)||d.push(C);return d.includes(ne)||d.push(ne),d}class $u{constructor(){this.providerId="phone",this._delegate=new Vo(su(Z.Z.auth()))}static credential(l,d){return Vo.credential(l,d)}verifyPhoneNumber(l,d){return this._delegate.verifyPhoneNumber(l,d)}unwrap(){return this._delegate}}$u.PHONE_SIGN_IN_METHOD=Vo.PHONE_SIGN_IN_METHOD,$u.PROVIDER_ID=Vo.PROVIDER_ID;const Zc=oe;class Dd{constructor(l,d,C=Z.Z.app()){var L;Zc(null===(L=C.options)||void 0===L?void 0:L.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new ni(l,d,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Wu(g){g.INTERNAL.registerComponent(new be.wA("auth-compat",l=>{const d=l.getProvider("app-compat").getImmediate(),C=l.getProvider("auth");return new $l(d,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:bi,FacebookAuthProvider:lo,GithubAuthProvider:Ti,GoogleAuthProvider:To,OAuthProvider:hi,SAMLAuthProvider:Gr,PhoneAuthProvider:$u,PhoneMultiFactorGenerator:vu,RecaptchaVerifier:Dd,TwitterAuthProvider:Jr,Auth:$l,AuthCredential:Er,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.3.0")}(Z.Z)},8766:(bt,ke,U)=>{U.d(ke,{Lj:()=>Ue,X3:()=>Et});var w=U(5861);let B,T;const be=new WeakMap,Ce=new WeakMap,Te=new WeakMap,ae=new WeakMap,ie=new WeakMap;let Qe={get(oe,V,ue){if(oe instanceof IDBTransaction){if("done"===V)return Ce.get(oe);if("objectStoreNames"===V)return oe.objectStoreNames||Te.get(oe);if("store"===V)return ue.objectStoreNames[1]?void 0:ue.objectStore(ue.objectStoreNames[0])}return Me(oe[V])},set:(oe,V,ue)=>(oe[V]=ue,!0),has:(oe,V)=>oe instanceof IDBTransaction&&("done"===V||"store"===V)||V in oe};function Ne(oe){return"function"==typeof oe?function Ye(oe){return oe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return T||(T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(oe)?function(...V){return oe.apply(wt(this),V),Me(be.get(this))}:function(...V){return Me(oe.apply(wt(this),V))}:function(V,...ue){const _e=oe.call(wt(this),V,...ue);return Te.set(_e,V.sort?V.sort():[V]),Me(_e)}}(oe):(oe instanceof IDBTransaction&&function it(oe){if(Ce.has(oe))return;const V=new Promise((ue,_e)=>{const Re=()=>{oe.removeEventListener("complete",De),oe.removeEventListener("error",$e),oe.removeEventListener("abort",$e)},De=()=>{ue(),Re()},$e=()=>{_e(oe.error||new DOMException("AbortError","AbortError")),Re()};oe.addEventListener("complete",De),oe.addEventListener("error",$e),oe.addEventListener("abort",$e)});Ce.set(oe,V)}(oe),((oe,V)=>V.some(ue=>oe instanceof ue))(oe,function fe(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(oe,Qe):oe)}function Me(oe){if(oe instanceof IDBRequest)return function he(oe){const V=new Promise((ue,_e)=>{const Re=()=>{oe.removeEventListener("success",De),oe.removeEventListener("error",$e)},De=()=>{ue(Me(oe.result)),Re()},$e=()=>{_e(oe.error),Re()};oe.addEventListener("success",De),oe.addEventListener("error",$e)});return V.then(ue=>{ue instanceof IDBCursor&&be.set(ue,oe)}).catch(()=>{}),ie.set(V,oe),V}(oe);if(ae.has(oe))return ae.get(oe);const V=Ne(oe);return V!==oe&&(ae.set(oe,V),ie.set(V,oe)),V}const wt=oe=>ie.get(oe);function Et(oe,V,{blocked:ue,upgrade:_e,blocking:Re,terminated:De}={}){const $e=indexedDB.open(oe,V),st=Me($e);return _e&&$e.addEventListener("upgradeneeded",Ot=>{_e(Me($e.result),Ot.oldVersion,Ot.newVersion,Me($e.transaction))}),ue&&$e.addEventListener("blocked",()=>ue()),st.then(Ot=>{De&&Ot.addEventListener("close",()=>De()),Re&&Ot.addEventListener("versionchange",()=>Re())}).catch(()=>{}),st}function Ue(oe,{blocked:V}={}){const ue=indexedDB.deleteDatabase(oe);return V&&ue.addEventListener("blocked",()=>V()),Me(ue).then(()=>{})}const je=["get","getKey","getAll","getAllKeys","count"],qe=["put","add","delete","clear"],at=new Map;function dt(oe,V){if(!(oe instanceof IDBDatabase)||V in oe||"string"!=typeof V)return;if(at.get(V))return at.get(V);const ue=V.replace(/FromIndex$/,""),_e=V!==ue,Re=qe.includes(ue);if(!(ue in(_e?IDBIndex:IDBObjectStore).prototype)||!Re&&!je.includes(ue))return;const De=function(){var $e=(0,w.Z)(function*(st,...Ot){const wn=this.transaction(st,Re?"readwrite":"readonly");let Bt=wn.store;return _e&&(Bt=Bt.index(Ot.shift())),(yield Promise.all([Bt[ue](...Ot),Re&&wn.done]))[0]});return function(Ot){return $e.apply(this,arguments)}}();return at.set(V,De),De}!function Ve(oe){Qe=oe(Qe)}(oe=>({...oe,get:(V,ue,_e)=>dt(V,ue)||oe.get(V,ue,_e),has:(V,ue)=>!!dt(V,ue)||oe.has(V,ue)}))},5861:(bt,ke,U)=>{function w(B,T,fe,Ie,be,Ce,Te){try{var ae=B[Ce](Te),ie=ae.value}catch(he){return void fe(he)}ae.done?T(ie):Promise.resolve(ie).then(Ie,be)}function Z(B){return function(){var T=this,fe=arguments;return new Promise(function(Ie,be){var Ce=B.apply(T,fe);function Te(ie){w(Ce,Ie,be,Te,ae,"next",ie)}function ae(ie){w(Ce,Ie,be,Te,ae,"throw",ie)}Te(void 0)})}}U.d(ke,{Z:()=>Z})}},bt=>{bt(bt.s=3224)}]);